{
  "module_1_1_summary_statistics": {
    "module": "1.1",
    "analysis": "descriptive_statistics",
    "generated": "2025-12-29T05:58:06.209567+00:00",
    "input_files": [
      "nd_migration_summary.csv"
    ],
    "parameters": {
      "hp_filter_lambda": 6.25,
      "bootstrap_iterations": 1000,
      "confidence_level": 0.95,
      "outlier_method": "IQR",
      "random_seed": 42
    },
    "results": {
      "descriptive_statistics": {
        "nd_intl_migration": {
          "variable": "nd_intl_migration",
          "n": 15,
          "mean": 1796.2666666666667,
          "se_mean": 382.73696633174256,
          "ci_mean_95": [
            1046.1022126564512,
            2546.431120676882
          ],
          "median": 1254.0,
          "ci_median_95": [
            634.0,
            2247.0
          ],
          "mode": null,
          "sd": 1482.3338965807877,
          "variance": 2197313.7809523814,
          "skewness": 1.1033212213997927,
          "se_skewness": 0.6324555320336759,
          "kurtosis": 0.4509097356647045,
          "se_kurtosis": 1.2649110640673518,
          "range": 5096.0,
          "min": 30.0,
          "max": 5126.0,
          "iqr": 1763.5,
          "cv": 0.8252304204539718,
          "percentiles": {
            "5": 326.1,
            "10": 459.0,
            "25": 797.5,
            "50": 1254.0,
            "75": 2561.0,
            "90": 3876.2,
            "95": 4526.099999999999
          },
          "normality": {
            "shapiro_wilk": {
              "statistic": 0.885684757048822,
              "p_value": 0.05772512569754201
            },
            "kolmogorov_smirnov": {
              "statistic": 0.2323788529932821,
              "p_value": 0.3387660065320719
            }
          },
          "outliers": {
            "mild": [],
            "extreme": [],
            "iqr_bounds": {
              "mild_lower": -1847.75,
              "mild_upper": 5206.25,
              "extreme_lower": -4493.0,
              "extreme_upper": 7851.5
            }
          }
        },
        "us_intl_migration": {
          "variable": "us_intl_migration",
          "n": 15,
          "mean": 1010744.2,
          "se_mean": 191854.45854112087,
          "ci_mean_95": [
            634709.461259403,
            1386778.9387405969
          ],
          "median": 858736.0,
          "ci_median_95": [
            568639.0,
            1065017.0
          ],
          "mode": null,
          "sd": 743049.1228254024,
          "variance": 552121998931.6,
          "skewness": 1.2250198782504134,
          "se_skewness": 0.6324555320336759,
          "kurtosis": 1.4643176633194086,
          "se_kurtosis": 1.2649110640673518,
          "range": 2766234.0,
          "min": 19885.0,
          "max": 2786119.0,
          "iqr": 418311.0,
          "cv": 0.7351505186232109,
          "percentiles": {
            "5": 131890.6,
            "10": 258337.40000000002,
            "25": 644255.0,
            "50": 858736.0,
            "75": 1062566.0,
            "90": 2053993.4,
            "95": 2441844.9999999995
          },
          "normality": {
            "shapiro_wilk": {
              "statistic": 0.8807851555753963,
              "p_value": 0.04874330282238474
            },
            "kolmogorov_smirnov": {
              "statistic": 0.27088688006333284,
              "p_value": 0.1835202989503647
            }
          },
          "outliers": {
            "mild": [
              {
                "index": 12,
                "value": 1693535.0
              },
              {
                "index": 13,
                "value": 2294299.0
              }
            ],
            "extreme": [
              {
                "index": 14,
                "value": 2786119.0
              }
            ],
            "iqr_bounds": {
              "mild_lower": 16788.5,
              "mild_upper": 1690032.5,
              "extreme_lower": -610678.0,
              "extreme_upper": 2317499.0
            }
          }
        },
        "nd_share_of_us_intl_pct": {
          "variable": "nd_share_of_us_intl_pct",
          "n": 15,
          "mean": 0.17311264892684516,
          "se_mean": 0.013982814886673278,
          "ci_mean_95": [
            0.14570633174896555,
            0.20051896610472478
          ],
          "median": 0.1520190621090287,
          "ci_median_95": [
            0.1475766362883181,
            0.1940910580531255
          ],
          "mode": null,
          "sd": 0.05415520918918676,
          "variance": 0.0029327866823245776,
          "skewness": 1.1013790597154232,
          "se_skewness": 0.6324555320336759,
          "kurtosis": 1.2831522603720638,
          "se_kurtosis": 1.2649110640673518,
          "range": 0.20151985711854298,
          "min": 0.1016248341061826,
          "max": 0.3031446912247256,
          "iqr": 0.041692415869354654,
          "cv": 0.3128321906279185,
          "percentiles": {
            "5": 0.10853345129755723,
            "10": 0.115087549033768,
            "25": 0.1483880663171929,
            "50": 0.1520190621090287,
            "75": 0.19008048218654755,
            "90": 0.24087604313783775,
            "95": 0.27305166060684327
          },
          "normality": {
            "shapiro_wilk": {
              "statistic": 0.9107606638888579,
              "p_value": 0.13909583524200614
            },
            "kolmogorov_smirnov": {
              "statistic": 0.18488108509990442,
              "p_value": 0.6195946639191146
            }
          },
          "outliers": {
            "mild": [
              {
                "index": 0,
                "value": 0.2601546474848938
              },
              {
                "index": 7,
                "value": 0.3031446912247256
              }
            ],
            "extreme": [],
            "iqr_bounds": {
              "mild_lower": 0.08584944251316091,
              "mild_upper": 0.2526191059905795,
              "extreme_lower": 0.023310818709128933,
              "extreme_upper": 0.31515772979461154
            }
          }
        },
        "nd_share_of_us_pop_pct": {
          "variable": "nd_share_of_us_pop_pct",
          "n": 15,
          "mean": 0.23079356449199231,
          "se_mean": 0.001445870554229242,
          "ci_mean_95": [
            0.227959658205703,
            0.23362747077828164
          ],
          "median": 0.2327602260280481,
          "ci_median_95": [
            0.2320250377333255,
            0.2342082520427126
          ],
          "mode": null,
          "sd": 0.005599832577301542,
          "variance": 3.135812489380763e-05,
          "skewness": -1.523704374095964,
          "se_skewness": 0.6324555320336759,
          "kurtosis": 1.0598017248708667,
          "se_kurtosis": 1.2649110640673518,
          "range": 0.017425917722764195,
          "min": 0.2181353997764108,
          "max": 0.235561317499175,
          "iqr": 0.003819358736724038,
          "cv": 0.02426338268845376,
          "percentiles": {
            "5": 0.2194501323948499,
            "10": 0.22149868886717328,
            "25": 0.23041312654631915,
            "50": 0.2327602260280481,
            "75": 0.2342324852830432,
            "90": 0.2347736145669466,
            "95": 0.23524341554966888
          },
          "normality": {
            "shapiro_wilk": {
              "statistic": 0.7462143550434664,
              "p_value": 0.0008121987099837989
            },
            "kolmogorov_smirnov": {
              "statistic": 0.32036368697469236,
              "p_value": 0.07202609014727801
            }
          },
          "outliers": {
            "mild": [
              {
                "index": 1,
                "value": 0.2200135892313238
              },
              {
                "index": 2,
                "value": 0.2237263383209475
              }
            ],
            "extreme": [
              {
                "index": 0,
                "value": 0.2181353997764108
              }
            ],
            "iqr_bounds": {
              "mild_lower": 0.2246840884412331,
              "mild_upper": 0.23996152338812926,
              "extreme_lower": 0.21895505033614704,
              "extreme_upper": 0.2456905614932153
            }
          }
        }
      },
      "hp_decomposition": {
        "variable": "nd_share_of_us_intl_pct",
        "years": [
          2010,
          2011,
          2012,
          2013,
          2014,
          2015,
          2016,
          2017,
          2018,
          2019,
          2020,
          2021,
          2022,
          2023,
          2024
        ],
        "trend": [
          0.21143161122008253,
          0.18463684204584238,
          0.1656377586739721,
          0.1570112021169513,
          0.1589604585191461,
          0.1701792834923413,
          0.18018773274224764,
          0.18519047847456174,
          0.17643407507159145,
          0.1640377509556708,
          0.15760735944590312,
          0.15834179966635925,
          0.1663615913187774,
          0.17572895683497322,
          0.18494283332425818
        ],
        "cycle": [
          0.04872303626481128,
          -0.03261777993681367,
          -0.01483471792570959,
          -0.009434565828633196,
          -0.057335624412963485,
          0.04177885312491242,
          -0.030988236396179952,
          0.11795421275016385,
          -0.0032085943951925544,
          -0.05254346371895301,
          -0.006739871389579322,
          -0.03786435793701595,
          0.02772946673434809,
          0.010340949484996392,
          -0.0009593064181927791
        ],
        "lambda": 6.25,
        "trend_stats": {
          "mean": 0.17311264892684522,
          "sd": 0.014797328714008823,
          "min": 0.1570112021169513,
          "max": 0.21143161122008253
        },
        "cycle_stats": {
          "mean": -9.806970050855549e-17,
          "sd": 0.0453401998949745,
          "min": -0.057335624412963485,
          "max": 0.11795421275016385
        }
      },
      "differences": {
        "nd_share_of_us_intl_pct": {
          "variable": "nd_share_of_us_intl_pct",
          "first_difference": {
            "values": [
              -0.1081355853758651,
              -0.0012160213607662063,
              -0.003226404459944404,
              -0.0459518021821355,
              0.11033330251107111,
              -0.06275864027118602,
              0.1539451948786579,
              -0.1299192105483267,
              -0.0617311934396811,
              0.039373200819606005,
              -0.030390046326980502,
              0.07361361632378219,
              -0.008021151733155873,
              -0.0020863794139042158
            ],
            "stats": {
              "variable": "nd_share_of_us_intl_pct_diff",
              "n": 14,
              "mean": -0.00544079432705917,
              "se_mean": 0.021208636442330345,
              "ci_mean_95": [
                -0.047009721754026644,
                0.036128133099908304
              ],
              "median": -0.005623778096550139,
              "ci_median_95": [
                -0.05435522122666076,
                0.039373200819606005
              ],
              "mode": null,
              "sd": 0.07935545120784834,
              "variance": 0.006297287636401199,
              "skewness": 0.48927915313169784,
              "se_skewness": 0.6546536707079771,
              "kurtosis": -0.003986065107317582,
              "se_kurtosis": 1.3093073414159542,
              "range": 0.2838644054269846,
              "min": -0.1299192105483267,
              "max": 0.1539451948786579,
              "iqr": 0.08701224089980765,
              "cv": -14.585269436336356,
              "percentiles": {
                "5": -0.11575985418622665,
                "10": -0.09452250184446137,
                "25": -0.0577863456252947,
                "50": -0.005623778096550139,
                "75": 0.029225895274512952,
                "90": 0.09931739665488447,
                "95": 0.12559746483972647
              },
              "normality": {
                "shapiro_wilk": {
                  "statistic": 0.9646733515581483,
                  "p_value": 0.7986084393797878
                },
                "kolmogorov_smirnov": {
                  "statistic": 0.1930566155093446,
                  "p_value": 0.606849688026291
                }
              },
              "outliers": {
                "mild": [],
                "extreme": [],
                "iqr_bounds": {
                  "mild_lower": -0.18830470697500618,
                  "mild_upper": 0.15974425662422442,
                  "extreme_lower": -0.3188230683247177,
                  "extreme_upper": 0.29026261797393593
                }
              }
            }
          },
          "log_difference": {
            "values": [
              -0.5372703306168158,
              -0.008031302111595418,
              -0.0216270105761891,
              -0.37305967345236524,
              0.7351008509307904,
              -0.35110447431857983,
              0.7089259082558872,
              -0.5596161179462951,
              -0.4406207483345015,
              0.30242853494813615,
              -0.22493935915064767,
              0.4768648905109443,
              -0.04220497681806634,
              -0.011276217616106532
            ],
            "stats": {
              "variable": "nd_share_of_us_intl_pct_log_diff",
              "n": 14,
              "mean": -0.024745001878243182,
              "se_mean": 0.11637147833498702,
              "ci_mean_95": [
                -0.25283309941481774,
                0.20334309565833136
              ],
              "median": -0.03191599369712772,
              "ci_median_95": [
                -0.36208207388547253,
                0.30242853494813615
              ],
              "mode": null,
              "sd": 0.43542220152190786,
              "variance": 0.18959249357818492,
              "skewness": 0.5981671338050182,
              "se_skewness": 0.6546536707079771,
              "kurtosis": -0.7554110685154911,
              "se_kurtosis": 1.3093073414159542,
              "range": 1.2947169688770854,
              "min": -0.5596161179462951,
              "max": 0.7351008509307904,
              "iqr": 0.5923844493521222,
              "cv": -17.596369709906906,
              "percentiles": {
                "5": -0.5450913561821336,
                "10": -0.5082754559321215,
                "25": -0.3675708736689189,
                "50": -0.03191599369712772,
                "75": 0.22481357568320326,
                "90": 0.6393076029324045,
                "95": 0.7180871381921033
              },
              "normality": {
                "shapiro_wilk": {
                  "statistic": 0.9120062405047874,
                  "p_value": 0.16851588043937482
                },
                "kolmogorov_smirnov": {
                  "statistic": 0.19897605750935365,
                  "p_value": 0.5694456453701219
                }
              },
              "outliers": {
                "mild": [],
                "extreme": [],
                "iqr_bounds": {
                  "mild_lower": -1.2561475476971022,
                  "mild_upper": 1.1133902497113866,
                  "extreme_lower": -2.1447242217252853,
                  "extreme_upper": 2.0019669237395696
                }
              }
            }
          }
        },
        "nd_intl_migration": {
          "variable": "nd_intl_migration",
          "first_difference": {
            "values": [
              741.0,
              86.0,
              -41.0,
              -293.0,
              1286.0,
              -658.0,
              1286.0,
              -1628.0,
              -613.0,
              -604.0,
              423.0,
              2834.0,
              982.0,
              857.0
            ],
            "stats": {
              "variable": "nd_intl_migration_diff",
              "n": 14,
              "mean": 332.7142857142857,
              "se_mean": 297.74802069947543,
              "ci_mean_95": [
                -250.87183485668612,
                916.3004062852576
              ],
              "median": 254.5,
              "ci_median_95": [
                -448.5,
                919.5
              ],
              "mode": 1286.0,
              "sd": 1114.0710810475127,
              "variance": 1241154.373626374,
              "skewness": 0.47887141317056786,
              "se_skewness": 0.6546536707079771,
              "kurtosis": 0.811598337833205,
              "se_kurtosis": 1.3093073414159542,
              "range": 4462.0,
              "min": -1628.0,
              "max": 2834.0,
              "iqr": 1477.0,
              "cv": 3.348431759266891,
              "percentiles": {
                "5": -997.5,
                "10": -644.5,
                "25": -526.25,
                "50": 254.5,
                "75": 950.75,
                "90": 1286.0,
                "95": 1827.7999999999995
              },
              "normality": {
                "shapiro_wilk": {
                  "statistic": 0.9661409662049548,
                  "p_value": 0.821265139515519
                },
                "kolmogorov_smirnov": {
                  "statistic": 0.12465948412938999,
                  "p_value": 0.9625193017924347
                }
              },
              "outliers": {
                "mild": [],
                "extreme": [],
                "iqr_bounds": {
                  "mild_lower": -2741.75,
                  "mild_upper": 3166.25,
                  "extreme_lower": -4957.25,
                  "extreme_upper": 5381.75
                }
              }
            }
          },
          "log_difference": {
            "values": [
              0.9490805546971455,
              0.06871712351884529,
              -0.03217225294077153,
              -0.2661193122225738,
              0.8493768632150367,
              -0.34649110564861285,
              0.5929477866947348,
              -0.8353120075514147,
              -0.6764469912428108,
              -3.0508515727750702,
              2.714694743820879,
              1.9818384481811844,
              0.26140431309374357,
              0.18294602016605488
            ],
            "stats": {
              "variable": "nd_intl_migration_log_diff",
              "n": 14,
              "mean": 0.17097232935759785,
              "se_mean": 0.36027498525225304,
              "ci_mean_95": [
                -0.535166641736818,
                0.8771113004520138
              ],
              "median": 0.12583157184245009,
              "ci_median_95": [
                -0.3063052089355933,
                0.7729732380089158
              ],
              "mode": null,
              "sd": 1.3480255598389654,
              "variance": 1.8171729099791565,
              "skewness": -0.44129509012186896,
              "se_skewness": 0.6546536707079771,
              "kurtosis": 2.1862083487322552,
              "se_kurtosis": 1.3093073414159542,
              "range": 5.765546316595949,
              "min": -3.0508515727750702,
              "max": 2.714694743820879,
              "iqr": 1.1116677513770643,
              "cv": 7.884466246111073,
              "percentiles": {
                "5": -1.610750855379694,
                "10": -0.7876525026588335,
                "25": -0.3263981572921031,
                "50": 0.12583157184245009,
                "75": 0.7852695940849612,
                "90": 1.6720110801359738,
                "95": 2.238338151655077
              },
              "normality": {
                "shapiro_wilk": {
                  "statistic": 0.9382697501959911,
                  "p_value": 0.3966020383782311
                },
                "kolmogorov_smirnov": {
                  "statistic": 0.15625789454952457,
                  "p_value": 0.8335818766521403
                }
              },
              "outliers": {
                "mild": [
                  {
                    "index": 10,
                    "value": -3.0508515727750702
                  },
                  {
                    "index": 11,
                    "value": 2.714694743820879
                  }
                ],
                "extreme": [],
                "iqr_bounds": {
                  "mild_lower": -1.9938997843576995,
                  "mild_upper": 2.4527712211505577,
                  "extreme_lower": -3.661401411423296,
                  "extreme_upper": 4.120272848216154
                }
              }
            }
          }
        }
      }
    },
    "diagnostics": {
      "data_quality": {
        "n_observations": 15,
        "year_range": [
          2010,
          2024
        ],
        "missing_values": {
          "nd_intl_migration": 0,
          "us_intl_migration": 0,
          "nd_share_of_us_intl_pct": 0,
          "nd_share_of_us_pop_pct": 0
        },
        "complete_cases": 15
      },
      "normality_assessment": {
        "nd_share_of_us_intl_pct": {
          "shapiro_wilk_p": 0.13909583524200614,
          "interpretation": "Cannot reject normality (p > 0.05)"
        }
      },
      "outlier_summary": {
        "nd_share_of_us_intl_pct": {
          "n_mild": 2,
          "n_extreme": 0
        }
      }
    },
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T05:58:04.359860+00:00",
        "category": "data_handling",
        "decision": "Retained year 2020 in descriptive statistics analysis",
        "rationale": "Descriptive analysis should show full data including anomalies. Exclusion decisions deferred to time series modeling modules.",
        "alternatives_considered": [
          "Exclude 2020",
          "Winsorize to 1st percentile",
          "Replace with interpolation"
        ],
        "evidence": "2020 value (30) is -1.2 standard deviations below mean",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T05:58:04.363391+00:00",
        "category": "methodology",
        "decision": "Used HP filter lambda=6.25 for annual data",
        "rationale": "Standard recommendation for annual data (Ravn and Uhlig, 2002). Lambda=6.25 balances trend smoothness with cycle responsiveness.",
        "alternatives_considered": [
          "lambda=100 (quarterly)",
          "lambda=1600 (monthly)",
          "Baxter-King filter"
        ],
        "evidence": "Ravn, M.O. and Uhlig, H. (2002). On adjusting the Hodrick-Prescott filter.",
        "reversible": true
      }
    ],
    "warnings": [
      "Year 2020 (COVID) shows anomalous international migration value (30), which is -1.2 SD below mean"
    ],
    "next_steps": [
      "Module 2.1.1: Conduct unit root tests to determine stationarity",
      "Module 1.2: Analyze geographic concentration patterns",
      "Module 2.1.2: Test for structural breaks (2015 Bakken, 2017 Travel Ban, 2020 COVID)",
      "Consider special handling of 2020 in time series models"
    ]
  },
  "module_1_1_trend_decomposition": {
    "variable": "nd_share_of_us_intl_pct",
    "years": [
      2010,
      2011,
      2012,
      2013,
      2014,
      2015,
      2016,
      2017,
      2018,
      2019,
      2020,
      2021,
      2022,
      2023,
      2024
    ],
    "trend": [
      0.21143161122008253,
      0.18463684204584238,
      0.1656377586739721,
      0.1570112021169513,
      0.1589604585191461,
      0.1701792834923413,
      0.18018773274224764,
      0.18519047847456174,
      0.17643407507159145,
      0.1640377509556708,
      0.15760735944590312,
      0.15834179966635925,
      0.1663615913187774,
      0.17572895683497322,
      0.18494283332425818
    ],
    "cycle": [
      0.04872303626481128,
      -0.03261777993681367,
      -0.01483471792570959,
      -0.009434565828633196,
      -0.057335624412963485,
      0.04177885312491242,
      -0.030988236396179952,
      0.11795421275016385,
      -0.0032085943951925544,
      -0.05254346371895301,
      -0.006739871389579322,
      -0.03786435793701595,
      0.02772946673434809,
      0.010340949484996392,
      -0.0009593064181927791
    ],
    "lambda": 6.25,
    "trend_stats": {
      "mean": 0.17311264892684522,
      "sd": 0.014797328714008823,
      "min": 0.1570112021169513,
      "max": 0.21143161122008253
    },
    "cycle_stats": {
      "mean": -9.806970050855549e-17,
      "sd": 0.0453401998949745,
      "min": -0.057335624412963485,
      "max": 0.11795421275016385
    }
  },
  "module_1_2_hhi_analysis": {
    "module": "1.2",
    "analysis": "hhi_concentration_analysis",
    "generated": "2025-12-29T05:58:31.253620+00:00",
    "input_files": [
      "dhs_lpr_by_state_country.parquet"
    ],
    "parameters": {
      "hhi_scale": "0-10000",
      "thresholds": {
        "unconcentrated": "<1500",
        "moderately_concentrated": "1500-2500",
        "highly_concentrated": ">2500"
      },
      "data_source": "DHS LPR data FY2023"
    },
    "results": {
      "fiscal_year": 2023,
      "total_lpr_count": 1710,
      "n_countries": 51,
      "hhi_value": 1161.724975206046,
      "hhi_interpretation": "unconcentrated",
      "hhi_thresholds": {
        "unconcentrated": "<1500",
        "moderately_concentrated": "1500-2500",
        "highly_concentrated": ">2500"
      },
      "top_10_hhi_contributors": [
        {
          "region_country_of_birth": "Philippines",
          "lpr_count": 530.0,
          "share": 0.30994152046783624,
          "hhi_contribution": 960.6374610991415
        },
        {
          "region_country_of_birth": "Liberia",
          "lpr_count": 120.0,
          "share": 0.07017543859649122,
          "hhi_contribution": 49.245921822099106
        },
        {
          "region_country_of_birth": "Mexico",
          "lpr_count": 100.0,
          "share": 0.05847953216374269,
          "hhi_contribution": 34.198556820902155
        },
        {
          "region_country_of_birth": "Nigeria",
          "lpr_count": 80.0,
          "share": 0.04678362573099415,
          "hhi_contribution": 21.88707636537738
        },
        {
          "region_country_of_birth": "Canada",
          "lpr_count": 70.0,
          "share": 0.04093567251461988,
          "hhi_contribution": 16.757292842242055
        },
        {
          "region_country_of_birth": "Nepal",
          "lpr_count": 70.0,
          "share": 0.04093567251461988,
          "hhi_contribution": 16.757292842242055
        },
        {
          "region_country_of_birth": "Ghana",
          "lpr_count": 60.0,
          "share": 0.03508771929824561,
          "hhi_contribution": 12.311480455524777
        },
        {
          "region_country_of_birth": "Afghanistan",
          "lpr_count": 50.0,
          "share": 0.029239766081871343,
          "hhi_contribution": 8.549639205225539
        },
        {
          "region_country_of_birth": "India",
          "lpr_count": 50.0,
          "share": 0.029239766081871343,
          "hhi_contribution": 8.549639205225539
        },
        {
          "region_country_of_birth": "Vietnam",
          "lpr_count": 40.0,
          "share": 0.023391812865497075,
          "hhi_contribution": 5.471769091344345
        }
      ],
      "regional_breakdown": {
        "hhi_value": 3711.8067476046313,
        "hhi_interpretation": "highly concentrated",
        "regions": [
          {
            "region_country_of_birth": "Asia",
            "lpr_count": 940.0,
            "share": 0.5251396648044693
          },
          {
            "region_country_of_birth": "Africa",
            "lpr_count": 500.0,
            "share": 0.27932960893854747
          },
          {
            "region_country_of_birth": "North America",
            "lpr_count": 220.0,
            "share": 0.12290502793296089
          },
          {
            "region_country_of_birth": "Europe",
            "lpr_count": 60.0,
            "share": 0.0335195530726257
          },
          {
            "region_country_of_birth": "South America",
            "lpr_count": 60.0,
            "share": 0.0335195530726257
          },
          {
            "region_country_of_birth": "Oceania",
            "lpr_count": 10.0,
            "share": 0.00558659217877095
          }
        ]
      },
      "descriptive_stats": {
        "variable": "country_share",
        "n": 51,
        "missing": 0,
        "mean": 0.019607843137254898,
        "std_error": 0.0061537380440703756,
        "std_deviation": 0.043946479809729856,
        "variance": 0.001931293087666994,
        "minimum": 0.005847953216374269,
        "maximum": 0.30994152046783624,
        "range": 0.30409356725146197,
        "percentile_25": 0.005847953216374269,
        "median": 0.005847953216374269,
        "percentile_75": 0.011695906432748537,
        "iqr": 0.005847953216374269,
        "skewness": 6.040079842059873,
        "kurtosis": 39.836716468816135,
        "ci_95_lower": 0.0072476965153562296,
        "ci_95_upper": 0.03196798975915357
      }
    },
    "diagnostics": {
      "data_quality": {
        "total_countries_in_source": 51,
        "countries_with_valid_data": 51
      }
    },
    "decisions": [
      "Filtered to ND countries only (is_region=False): 159 countries",
      "Removed countries with zero LPR count: 51 countries remaining"
    ],
    "warnings": [],
    "next_steps": [
      "Compare HHI with other states to contextualize ND's concentration",
      "Analyze sub-national (county) concentration patterns"
    ]
  },
  "module_1_2_location_quotients": {
    "module": "1.2",
    "analysis": "location_quotient_analysis",
    "generated": "2025-12-29T05:58:31.253867+00:00",
    "input_files": [
      "acs_foreign_born_nd_share.parquet",
      "acs_foreign_born_by_state_origin.parquet"
    ],
    "parameters": {
      "reference_geography": "United States",
      "target_geography": "North Dakota",
      "interpretation": "LQ > 1 indicates overrepresentation relative to national average",
      "data_source": "ACS foreign-born data 2009-2023"
    },
    "results": {
      "location_quotients": {
        "year": 2023,
        "nd_total_foreign_born": 34813,
        "national_total_foreign_born": 46108516,
        "nd_share_of_national": 0.000755023215234253,
        "n_countries_analyzed": 86,
        "descriptive_stats": {
          "variable": "location_quotient",
          "n": 86,
          "missing": 0,
          "mean": 2.150452825620293,
          "std_error": 0.28915213125317235,
          "std_deviation": 2.6814865524014206,
          "variance": 7.190370130709658,
          "minimum": 0.05583838602666577,
          "maximum": 15.125824209584367,
          "range": 15.069985823557701,
          "percentile_25": 0.5050310971401074,
          "median": 0.9756570514265177,
          "percentile_75": 2.675553784075365,
          "iqr": 2.1705226869352576,
          "skewness": 2.316767830863035,
          "kurtosis": 6.464705405136436,
          "ci_95_lower": 1.5755409226709691,
          "ci_95_upper": 2.725364728569617
        },
        "top_20_lq_countries": [
          {
            "country": "Egypt",
            "nd_foreign_born": 373.0,
            "us_total": 32661.0,
            "nd_share": 0.010714388303220062,
            "us_share": 0.0007083507090100233,
            "location_quotient": 15.125824209584367
          },
          {
            "country": "India",
            "nd_foreign_born": 329.0,
            "us_total": 44172.0,
            "nd_share": 0.009450492632062735,
            "us_share": 0.0009580009037809848,
            "location_quotient": 9.864805549518852
          },
          {
            "country": "Other Western Africa",
            "nd_foreign_born": 400.0,
            "us_total": 57413.0,
            "nd_share": 0.011489960646884784,
            "us_share": 0.0012451712824589714,
            "location_quotient": 9.22761455291062
          },
          {
            "country": "Sudan",
            "nd_foreign_born": 164.0,
            "us_total": 26442.0,
            "nd_share": 0.004710883865222761,
            "us_share": 0.0005734732386529205,
            "location_quotient": 8.214653357301472
          },
          {
            "country": "Other Australian and New Zealand Subregion",
            "nd_foreign_born": 5740.0,
            "us_total": 1018704.0,
            "nd_share": 0.16488093528279665,
            "us_share": 0.022093619321862365,
            "location_quotient": 7.462830461627513
          },
          {
            "country": "Other Middle Africa",
            "nd_foreign_born": 903.0,
            "us_total": 164642.0,
            "nd_share": 0.025938586160342402,
            "us_share": 0.003570750357699649,
            "location_quotient": 7.264183592227537
          },
          {
            "country": "Pakistan",
            "nd_foreign_born": 860.0,
            "us_total": 171791.0,
            "nd_share": 0.024703415390802286,
            "us_share": 0.003725797637902725,
            "location_quotient": 6.630369599114351
          },
          {
            "country": "Croatia",
            "nd_foreign_born": 526.0,
            "us_total": 106263.0,
            "nd_share": 0.015109298250653491,
            "us_share": 0.0023046284985619577,
            "location_quotient": 6.556066741377793
          },
          {
            "country": "Other Eastern Africa",
            "nd_foreign_born": 3582.0,
            "us_total": 767453.0,
            "nd_share": 0.10289259759285324,
            "us_share": 0.01664449578034565,
            "location_quotient": 6.181779186988175
          },
          {
            "country": "Kenya",
            "nd_foreign_born": 11920.0,
            "us_total": 2660038.0,
            "nd_share": 0.3424008272771666,
            "us_share": 0.05769081789576572,
            "location_quotient": 5.93510093574696
          },
          {
            "country": "South Africa",
            "nd_foreign_born": 387.0,
            "us_total": 86462.0,
            "nd_share": 0.011116536925861028,
            "us_share": 0.001875185052583345,
            "location_quotient": 5.928234608390437
          },
          {
            "country": "Uzbekistan",
            "nd_foreign_born": 233.0,
            "us_total": 58705.0,
            "nd_share": 0.006692902076810387,
            "us_share": 0.0012731921365675702,
            "location_quotient": 5.25678873171016
          },
          {
            "country": "Other Northern Africa",
            "nd_foreign_born": 271.0,
            "us_total": 78642.0,
            "nd_share": 0.007784448338264442,
            "us_share": 0.0017055851461365617,
            "location_quotient": 4.564092479286379
          },
          {
            "country": "Australia",
            "nd_foreign_born": 16.0,
            "us_total": 5318.0,
            "nd_share": 0.0004595984258753914,
            "us_share": 0.00011533661157084301,
            "location_quotient": 3.984844184477303
          },
          {
            "country": "Yemen",
            "nd_foreign_born": 100.0,
            "us_total": 35525.0,
            "nd_share": 0.002872490161721196,
            "us_share": 0.0007704650481485893,
            "location_quotient": 3.728254991740024
          },
          {
            "country": "United Kingdom (inc. Crown Dependencies)",
            "nd_foreign_born": 78.0,
            "us_total": 27746.0,
            "nd_share": 0.002240542326142533,
            "us_share": 0.0006017543483724352,
            "location_quotient": 3.7233504538895765
          },
          {
            "country": "Caribbean",
            "nd_foreign_born": 1175.0,
            "us_total": 437306.0,
            "nd_share": 0.033751759400224055,
            "us_share": 0.009484278348927995,
            "location_quotient": 3.5587061195899006
          },
          {
            "country": "Yugoslavia",
            "nd_foreign_born": 112.0,
            "us_total": 42903.0,
            "nd_share": 0.0032171889811277395,
            "us_share": 0.0009304788729266411,
            "location_quotient": 3.457562632248376
          },
          {
            "country": "Czechoslovakia (includes Czech Republic and Slovakia)",
            "nd_foreign_born": 176.0,
            "us_total": 74009.0,
            "nd_share": 0.005055582684629305,
            "us_share": 0.0016051047923554946,
            "location_quotient": 3.1496901066566667
          },
          {
            "country": "Poland",
            "nd_foreign_born": 128.0,
            "us_total": 54103.0,
            "nd_share": 0.0036767874070031312,
            "us_share": 0.0011733841097813689,
            "location_quotient": 3.133490027991098
          }
        ],
        "bottom_10_lq_countries": [
          {
            "country": "Portugal",
            "nd_foreign_born": 7.0,
            "us_total": 166037.0,
            "nd_share": 0.00020107431132048372,
            "us_share": 0.003601005072468609,
            "location_quotient": 0.05583838602666577
          },
          {
            "country": "Lithuania",
            "nd_foreign_born": 3.0,
            "us_total": 64037.0,
            "nd_share": 8.617470485163588e-05,
            "us_share": 0.0013888323796844818,
            "location_quotient": 0.06204831202971611
          },
          {
            "country": "Saudi Arabia",
            "nd_foreign_born": 7.0,
            "us_total": 140090.0,
            "nd_share": 0.00020107431132048372,
            "us_share": 0.0030382673777659642,
            "location_quotient": 0.0661805846292348
          },
          {
            "country": "Other South Central Asia",
            "nd_foreign_born": 7.0,
            "us_total": 73725.0,
            "nd_share": 0.00020107431132048372,
            "us_share": 0.001598945409563821,
            "location_quotient": 0.12575433164746702
          },
          {
            "country": "Other Northern America",
            "nd_foreign_born": 29.0,
            "us_total": 281827.0,
            "nd_share": 0.0008330221468991469,
            "us_share": 0.006112254838130119,
            "location_quotient": 0.13628720806967987
          },
          {
            "country": "Italy",
            "nd_foreign_born": 41.0,
            "us_total": 305199.0,
            "nd_share": 0.0011777209663056904,
            "us_share": 0.0066191460163237525,
            "location_quotient": 0.17792642183769078
          },
          {
            "country": "Sierra Leone",
            "nd_foreign_born": 13.0,
            "us_total": 94661.0,
            "nd_share": 0.0003734237210237555,
            "us_share": 0.0020530046987415514,
            "location_quotient": 0.18189131337724476
          },
          {
            "country": "Russia",
            "nd_foreign_born": 57.0,
            "us_total": 402060.0,
            "nd_share": 0.0016373193921810818,
            "us_share": 0.008719864243733196,
            "location_quotient": 0.1877689085994421
          },
          {
            "country": "Nepal",
            "nd_foreign_born": 7.0,
            "us_total": 41675.0,
            "nd_share": 0.00020107431132048372,
            "us_share": 0.0009038460487429264,
            "location_quotient": 0.22246522137275357
          },
          {
            "country": "Greece",
            "nd_foreign_born": 22.0,
            "us_total": 115648.0,
            "nd_share": 0.0006319478355786631,
            "us_share": 0.0025081700742656736,
            "location_quotient": 0.25195573540350163
          }
        ],
        "overrepresentation_summary": {
          "n_countries_lq_gt_1": 42,
          "n_countries_lq_lt_1": 44,
          "pct_overrepresented": 48.837209302325576
        },
        "regional_location_quotients": [
          {
            "region": "Americas",
            "nd_foreign_born": 627.0,
            "us_total": 31708.0,
            "nd_share": 0.0180105133139919,
            "us_share": 0.0006876820759097951,
            "location_quotient": 26.19017412975932
          },
          {
            "region": "Oceania",
            "nd_foreign_born": 622.0,
            "us_total": 129041.0,
            "nd_share": 0.01786688880590584,
            "us_share": 0.00279863702401526,
            "location_quotient": 6.384139369482027
          },
          {
            "region": "Africa",
            "nd_foreign_born": 69.0,
            "us_total": 28121.0,
            "nd_share": 0.0019820182115876253,
            "us_share": 0.0006098873362135532,
            "location_quotient": 3.2498104057920916
          },
          {
            "region": "Asia",
            "nd_foreign_born": 10483.0,
            "us_total": 14229879.0,
            "nd_share": 0.301123143653233,
            "us_share": 0.3086171543668853,
            "location_quotient": 0.9757174524889067
          },
          {
            "region": "Europe",
            "nd_foreign_born": 3500.0,
            "us_total": 4818379.0,
            "nd_share": 0.10053715566024186,
            "us_share": 0.10450084752239695,
            "location_quotient": 0.962070241953726
          }
        ]
      },
      "concentration_trends": {
        "time_period": "2009-2023",
        "n_years": 15,
        "country_level_hhi_by_year": [
          {
            "year": 2009,
            "hhi": 736.7008965278667,
            "interpretation": "unconcentrated",
            "total_foreign_born": 13957,
            "n_countries": 79
          },
          {
            "year": 2010,
            "hhi": 685.2869324134492,
            "interpretation": "unconcentrated",
            "total_foreign_born": 15443,
            "n_countries": 78
          },
          {
            "year": 2011,
            "hhi": 613.4088113683295,
            "interpretation": "unconcentrated",
            "total_foreign_born": 15998,
            "n_countries": 80
          },
          {
            "year": 2012,
            "hhi": 481.61895820529804,
            "interpretation": "unconcentrated",
            "total_foreign_born": 17748,
            "n_countries": 79
          },
          {
            "year": 2013,
            "hhi": 532.8678156173817,
            "interpretation": "unconcentrated",
            "total_foreign_born": 19759,
            "n_countries": 82
          },
          {
            "year": 2014,
            "hhi": 517.6321728881119,
            "interpretation": "unconcentrated",
            "total_foreign_born": 22277,
            "n_countries": 82
          },
          {
            "year": 2015,
            "hhi": 560.0289312071427,
            "interpretation": "unconcentrated",
            "total_foreign_born": 27875,
            "n_countries": 83
          },
          {
            "year": 2016,
            "hhi": 555.8316951784965,
            "interpretation": "unconcentrated",
            "total_foreign_born": 29700,
            "n_countries": 83
          },
          {
            "year": 2017,
            "hhi": 546.0427943355913,
            "interpretation": "unconcentrated",
            "total_foreign_born": 33077,
            "n_countries": 86
          },
          {
            "year": 2018,
            "hhi": 509.44919407727093,
            "interpretation": "unconcentrated",
            "total_foreign_born": 36408,
            "n_countries": 84
          },
          {
            "year": 2019,
            "hhi": 543.626537536388,
            "interpretation": "unconcentrated",
            "total_foreign_born": 24390,
            "n_countries": 84
          },
          {
            "year": 2020,
            "hhi": 593.1647994531494,
            "interpretation": "unconcentrated",
            "total_foreign_born": 25406,
            "n_countries": 82
          },
          {
            "year": 2021,
            "hhi": 555.9986787331978,
            "interpretation": "unconcentrated",
            "total_foreign_born": 26656,
            "n_countries": 85
          },
          {
            "year": 2022,
            "hhi": 876.9375463692134,
            "interpretation": "unconcentrated",
            "total_foreign_born": 51521,
            "n_countries": 83
          },
          {
            "year": 2023,
            "hhi": 942.0219822386149,
            "interpretation": "unconcentrated",
            "total_foreign_born": 49332,
            "n_countries": 86
          }
        ],
        "region_level_hhi_by_year": [
          {
            "year": 2009,
            "hhi": 2662.7433585741846,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2010,
            "hhi": 2605.57886669333,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2011,
            "hhi": 2621.393185870474,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2012,
            "hhi": 2645.9580238423664,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2013,
            "hhi": 2686.565369971473,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2014,
            "hhi": 2688.670185613634,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2015,
            "hhi": 3662.302726608022,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2016,
            "hhi": 3594.178168828315,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2017,
            "hhi": 3662.097529738756,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2018,
            "hhi": 3598.124884336493,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2019,
            "hhi": 3222.47192313644,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2020,
            "hhi": 3279.8494704624186,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2021,
            "hhi": 3243.2533317826537,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2022,
            "hhi": 5496.772930967464,
            "interpretation": "highly concentrated"
          },
          {
            "year": 2023,
            "hhi": 5250.629909326092,
            "interpretation": "highly concentrated"
          }
        ],
        "trend_analysis": {
          "slope": 9.815028774247695,
          "intercept": -19170.390159140054,
          "r_squared": 0.1034458150926477,
          "p_value": 0.2424072350234236,
          "std_error": 8.01404375116766,
          "interpretation": "increasing",
          "significant": false,
          "slope_ci_95": [
            -7.498260157282159,
            27.128317705777548
          ]
        },
        "descriptive_stats": {
          "variable": "hhi_over_time",
          "n": 15,
          "missing": 0,
          "mean": 616.7078497433002,
          "std_error": 35.237450797553315,
          "std_deviation": 136.47406010172725,
          "variance": 18625.16908064986,
          "minimum": 481.61895820529804,
          "maximum": 942.0219822386149,
          "range": 460.40302403331685,
          "percentile_25": 538.2471765768848,
          "median": 555.9986787331978,
          "percentile_75": 649.3478718908893,
          "iqr": 111.1006953140045,
          "skewness": 1.5385900752574648,
          "kurtosis": 1.526621293730913,
          "ci_95_lower": 541.1310343565801,
          "ci_95_upper": 692.2846651300204
        },
        "change_summary": {
          "start_hhi": 736.7008965278667,
          "end_hhi": 942.0219822386149,
          "absolute_change": 205.3210857107482,
          "percent_change": 27.870345574227446
        }
      },
      "top_origins": {
        "year": 2023,
        "n_countries_total": 86,
        "n_countries_above_threshold": 45,
        "population_threshold": 100,
        "top_15_by_population": [
          {
            "country": "Kenya",
            "nd_foreign_born": 11920.0,
            "nd_share": 0.3424008272771666,
            "location_quotient": 5.93510093574696
          },
          {
            "country": "Other Australian and New Zealand Subregion",
            "nd_foreign_born": 5740.0,
            "nd_share": 0.16488093528279665,
            "location_quotient": 7.462830461627513
          },
          {
            "country": "Other Eastern Africa",
            "nd_foreign_born": 3582.0,
            "nd_share": 0.10289259759285324,
            "location_quotient": 6.181779186988175
          },
          {
            "country": "Cambodia",
            "nd_foreign_born": 3519.0,
            "nd_share": 0.10108292879096889,
            "location_quotient": 1.0815632689289312
          },
          {
            "country": "Canada",
            "nd_foreign_born": 3038.0,
            "nd_share": 0.08726625111308994,
            "location_quotient": 0.3720045897078889
          },
          {
            "country": "Singapore",
            "nd_foreign_born": 2520.0,
            "nd_share": 0.07238675207537414,
            "location_quotient": 1.670083771375099
          },
          {
            "country": "Albania",
            "nd_foreign_born": 1872.0,
            "nd_share": 0.05377301582742079,
            "location_quotient": 1.1073137463492744
          },
          {
            "country": "Iran",
            "nd_foreign_born": 1261.0,
            "nd_share": 0.03622210093930428,
            "location_quotient": 0.6017397466335366
          },
          {
            "country": "Caribbean",
            "nd_foreign_born": 1175.0,
            "nd_share": 0.033751759400224055,
            "location_quotient": 3.5587061195899006
          },
          {
            "country": "China",
            "nd_foreign_born": 1020.0,
            "nd_share": 0.0292993996495562,
            "location_quotient": 0.4791372234557759
          },
          {
            "country": "Other Middle Africa",
            "nd_foreign_born": 903.0,
            "nd_share": 0.025938586160342402,
            "location_quotient": 7.264183592227537
          },
          {
            "country": "Pakistan",
            "nd_foreign_born": 860.0,
            "nd_share": 0.024703415390802286,
            "location_quotient": 6.630369599114351
          },
          {
            "country": "Iraq",
            "nd_foreign_born": 788.0,
            "nd_share": 0.022635222474363025,
            "location_quotient": 0.8567520654803543
          },
          {
            "country": "Korea",
            "nd_foreign_born": 663.0,
            "nd_share": 0.01904460977221153,
            "location_quotient": 0.8552918112454421
          },
          {
            "country": "Germany",
            "nd_foreign_born": 657.0,
            "nd_share": 0.018872260362508258,
            "location_quotient": 1.6313103186817077
          }
        ],
        "top_15_by_lq": [
          {
            "country": "Egypt",
            "nd_foreign_born": 373.0,
            "nd_share": 0.010714388303220062,
            "location_quotient": 15.125824209584367
          },
          {
            "country": "India",
            "nd_foreign_born": 329.0,
            "nd_share": 0.009450492632062735,
            "location_quotient": 9.864805549518852
          },
          {
            "country": "Other Western Africa",
            "nd_foreign_born": 400.0,
            "nd_share": 0.011489960646884784,
            "location_quotient": 9.22761455291062
          },
          {
            "country": "Sudan",
            "nd_foreign_born": 164.0,
            "nd_share": 0.004710883865222761,
            "location_quotient": 8.214653357301472
          },
          {
            "country": "Other Australian and New Zealand Subregion",
            "nd_foreign_born": 5740.0,
            "nd_share": 0.16488093528279665,
            "location_quotient": 7.462830461627513
          },
          {
            "country": "Other Middle Africa",
            "nd_foreign_born": 903.0,
            "nd_share": 0.025938586160342402,
            "location_quotient": 7.264183592227537
          },
          {
            "country": "Pakistan",
            "nd_foreign_born": 860.0,
            "nd_share": 0.024703415390802286,
            "location_quotient": 6.630369599114351
          },
          {
            "country": "Croatia",
            "nd_foreign_born": 526.0,
            "nd_share": 0.015109298250653491,
            "location_quotient": 6.556066741377793
          },
          {
            "country": "Other Eastern Africa",
            "nd_foreign_born": 3582.0,
            "nd_share": 0.10289259759285324,
            "location_quotient": 6.181779186988175
          },
          {
            "country": "Kenya",
            "nd_foreign_born": 11920.0,
            "nd_share": 0.3424008272771666,
            "location_quotient": 5.93510093574696
          },
          {
            "country": "South Africa",
            "nd_foreign_born": 387.0,
            "nd_share": 0.011116536925861028,
            "location_quotient": 5.928234608390437
          },
          {
            "country": "Uzbekistan",
            "nd_foreign_born": 233.0,
            "nd_share": 0.006692902076810387,
            "location_quotient": 5.25678873171016
          },
          {
            "country": "Other Northern Africa",
            "nd_foreign_born": 271.0,
            "nd_share": 0.007784448338264442,
            "location_quotient": 4.564092479286379
          },
          {
            "country": "Yemen",
            "nd_foreign_born": 100.0,
            "nd_share": 0.002872490161721196,
            "location_quotient": 3.728254991740024
          },
          {
            "country": "Caribbean",
            "nd_foreign_born": 1175.0,
            "nd_share": 0.033751759400224055,
            "location_quotient": 3.5587061195899006
          }
        ],
        "top_15_combined_rank": [
          {
            "country": "Other Australian and New Zealand Subregion",
            "nd_foreign_born": 5740.0,
            "nd_share": 0.16488093528279665,
            "location_quotient": 7.462830461627513,
            "combined_score": 3.5
          },
          {
            "country": "Kenya",
            "nd_foreign_born": 11920.0,
            "nd_share": 0.3424008272771666,
            "location_quotient": 5.93510093574696,
            "combined_score": 5.5
          },
          {
            "country": "Other Eastern Africa",
            "nd_foreign_born": 3582.0,
            "nd_share": 0.10289259759285324,
            "location_quotient": 6.181779186988175,
            "combined_score": 6.0
          },
          {
            "country": "Other Middle Africa",
            "nd_foreign_born": 903.0,
            "nd_share": 0.025938586160342402,
            "location_quotient": 7.264183592227537,
            "combined_score": 8.5
          },
          {
            "country": "Pakistan",
            "nd_foreign_born": 860.0,
            "nd_share": 0.024703415390802286,
            "location_quotient": 6.630369599114351,
            "combined_score": 9.5
          },
          {
            "country": "Croatia",
            "nd_foreign_born": 526.0,
            "nd_share": 0.015109298250653491,
            "location_quotient": 6.556066741377793,
            "combined_score": 12.5
          },
          {
            "country": "Egypt",
            "nd_foreign_born": 373.0,
            "nd_share": 0.010714388303220062,
            "location_quotient": 15.125824209584367,
            "combined_score": 12.5
          },
          {
            "country": "Other Western Africa",
            "nd_foreign_born": 400.0,
            "nd_share": 0.011489960646884784,
            "location_quotient": 9.22761455291062,
            "combined_score": 12.5
          },
          {
            "country": "Caribbean",
            "nd_foreign_born": 1175.0,
            "nd_share": 0.033751759400224055,
            "location_quotient": 3.5587061195899006,
            "combined_score": 13.0
          },
          {
            "country": "India",
            "nd_foreign_born": 329.0,
            "nd_share": 0.009450492632062735,
            "location_quotient": 9.864805549518852,
            "combined_score": 13.5
          },
          {
            "country": "South Africa",
            "nd_foreign_born": 387.0,
            "nd_share": 0.011116536925861028,
            "location_quotient": 5.928234608390437,
            "combined_score": 17.0
          },
          {
            "country": "Singapore",
            "nd_foreign_born": 2520.0,
            "nd_share": 0.07238675207537414,
            "location_quotient": 1.670083771375099,
            "combined_score": 18.5
          },
          {
            "country": "Sudan",
            "nd_foreign_born": 164.0,
            "nd_share": 0.004710883865222761,
            "location_quotient": 8.214653357301472,
            "combined_score": 20.5
          },
          {
            "country": "Other Northern Africa",
            "nd_foreign_born": 271.0,
            "nd_share": 0.007784448338264442,
            "location_quotient": 4.564092479286379,
            "combined_score": 20.5
          },
          {
            "country": "Uzbekistan",
            "nd_foreign_born": 233.0,
            "nd_share": 0.006692902076810387,
            "location_quotient": 5.25678873171016,
            "combined_score": 22.0
          }
        ],
        "correlation_analysis": {
          "pearson_r": 0.26521822204180573,
          "spearman_rho": 0.55074159458909,
          "spearman_p_value": 3.927632299779767e-08,
          "interpretation": "weak"
        }
      }
    },
    "diagnostics": {
      "data_quality": {
        "years_available": 15,
        "countries_analyzed": 86,
        "countries_with_valid_lq": 86
      },
      "trend_significance": {
        "slope": 9.815028774247695,
        "intercept": -19170.390159140054,
        "r_squared": 0.1034458150926477,
        "p_value": 0.2424072350234236,
        "std_error": 8.01404375116766,
        "interpretation": "increasing",
        "significant": false,
        "slope_ci_95": [
          -7.498260157282159,
          27.128317705777548
        ]
      }
    },
    "decisions": [
      "Filtered to 2023 country-level data: 95 countries",
      "Countries with valid LQ data: 86 (excluded 9 with zero/missing values)",
      "Applied minimum population threshold of 100 for top LQ analysis"
    ],
    "warnings": [],
    "next_steps": [
      "Module 1.3: Time series analysis of immigration trends",
      "Investigate drivers of high LQ for specific countries",
      "Cross-reference with refugee resettlement data"
    ]
  },
  "module_2_1_1_unit_root_tests": {
    "module": "2.1.1",
    "analysis": "unit_root_tests",
    "generated": "2025-12-29T05:57:13.487254+00:00",
    "input_files": [
      "nd_migration_summary.csv"
    ],
    "parameters": {
      "variables_tested": [
        "nd_share_of_us_intl_pct",
        "nd_intl_migration",
        "us_intl_migration"
      ],
      "n_observations": 15,
      "time_period": "2010-2024",
      "significance_level": 0.05,
      "adf_autolag": "AIC",
      "kpss_nlags": "auto"
    },
    "results": {
      "variables": {
        "nd_share_of_us_intl_pct": {
          "n_observations": 15,
          "mean": 0.17311264892684516,
          "std": 0.0523189026086137,
          "adf_level": {
            "series": "nd_share_of_us_intl_pct",
            "statistic": -2.004226168756995,
            "p_value": 0.2847231513964522,
            "used_lag": 5,
            "n_obs_used": 9,
            "critical_values": {
              "1%": -4.473135048010974,
              "5%": -3.28988060356653,
              "10%": -2.7723823456790124
            },
            "ic_best": -25.12973060159895,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": 0.25687929829358525,
                "se": 0.09230680642152263,
                "t": 2.782885772480698
              },
              "rho_minus_1": {
                "coef": -1.4849148798121377,
                "se": 0.48905575055730044,
                "t": -3.0362895807277845
              },
              "diff_lag_1": {
                "coef": 0.37652131612384626,
                "se": 0.40453865457735744,
                "t": 0.9307424936121806
              },
              "diff_lag_2": {
                "coef": 0.5481137100324897,
                "se": 0.32316943587093344,
                "t": 1.6960567714435528
              },
              "diff_lag_3": {
                "coef": 0.3060972733342245,
                "se": 0.3225067738425362,
                "t": 0.9491188965961886
              },
              "diff_lag_4": {
                "coef": -0.16837621084046397,
                "se": 0.30900322545174064,
                "t": -0.5449011433272581
              },
              "diff_lag_5": {
                "coef": 0.009146028720370573,
                "se": 0.2711916007558664,
                "t": 0.03372533918778724
              }
            }
          },
          "kpss_level": {
            "series": "nd_share_of_us_intl_pct",
            "statistic": 0.07029320902462563,
            "p_value": 0.1,
            "lags_used": 1,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "phillips_perron_level": {
            "statistic": -4.263697110119461,
            "p_value": 0.0005130993784872706,
            "lags_used": 0,
            "n_obs_used": 14,
            "critical_values": {
              "1%": -4.01203360058309,
              "5%": -3.1041838775510207,
              "10%": -2.6909873469387753
            },
            "note": "PP test approximated using DF test (maxlag=0) for small sample"
          },
          "adf_differenced": {
            "series": "d(nd_share_of_us_intl_pct)",
            "statistic": -6.214191059942855,
            "p_value": 5.4157813805922624e-08,
            "used_lag": 0,
            "n_obs_used": 13,
            "critical_values": {
              "1%": -4.068853732362312,
              "5%": -3.1271488757396453,
              "10%": -2.7017297633136095
            },
            "ic_best": -16.034757315862137,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": -0.0002988418861058704,
                "se": 0.0189968259270381,
                "t": -0.015731148311493977
              },
              "rho_minus_1": {
                "coef": -1.4838973417833328,
                "se": 0.23879171519985076,
                "t": -6.214191059942854
              }
            }
          },
          "kpss_differenced": {
            "series": "d(nd_share_of_us_intl_pct)",
            "statistic": 0.4999999999999999,
            "p_value": 0.04166666666666669,
            "lags_used": 13,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "integration_order": {
            "integration_order": 1,
            "conclusion": "I(1) - First-difference stationary",
            "evidence": [
              "ADF fails to reject unit root in level (p=0.2847)",
              "ADF rejects unit root in first difference (p=0.0000)"
            ],
            "level_tests": {
              "adf_rejects_unit_root": false,
              "kpss_rejects_stationarity": false
            },
            "differenced_tests": {
              "adf_rejects_unit_root": true,
              "kpss_rejects_stationarity": true
            },
            "significance_level": 0.05
          }
        },
        "nd_intl_migration": {
          "n_observations": 15,
          "mean": 1796.2666666666667,
          "std": 1432.0705972666137,
          "adf_level": {
            "series": "nd_intl_migration",
            "statistic": -1.4534467368641693,
            "p_value": 0.5564021716016336,
            "used_lag": 5,
            "n_obs_used": 9,
            "critical_values": {
              "1%": -4.473135048010974,
              "5%": -3.28988060356653,
              "10%": -2.7723823456790124
            },
            "ic_best": 126.1573749472613,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": 1105.1753404285453,
                "se": 677.5739226259527,
                "t": 1.6310771467494112
              },
              "rho_minus_1": {
                "coef": -0.6004923607252058,
                "se": 0.5200630048850854,
                "t": -1.154653099883335
              },
              "diff_lag_1": {
                "coef": 0.08387208269750829,
                "se": 0.5263275518294596,
                "t": 0.15935339581972802
              },
              "diff_lag_2": {
                "coef": 0.5281381249508235,
                "se": 0.4376302507656295,
                "t": 1.2068135692787494
              },
              "diff_lag_3": {
                "coef": -0.6944818386741572,
                "se": 0.42602038717920815,
                "t": -1.6301610429315418
              },
              "diff_lag_4": {
                "coef": -1.1234193463122475,
                "se": 0.500856614890349,
                "t": -2.242995925207445
              },
              "diff_lag_5": {
                "coef": -0.13859338272028365,
                "se": 0.5390961516072654,
                "t": -0.2570847191304933
              }
            }
          },
          "kpss_level": {
            "series": "nd_intl_migration",
            "statistic": 0.32327930438225816,
            "p_value": 0.1,
            "lags_used": 1,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "phillips_perron_level": {
            "statistic": -0.6195622042640315,
            "p_value": 0.8665002222315035,
            "lags_used": 0,
            "n_obs_used": 14,
            "critical_values": {
              "1%": -4.01203360058309,
              "5%": -3.1041838775510207,
              "10%": -2.6909873469387753
            },
            "note": "PP test approximated using DF test (maxlag=0) for small sample"
          },
          "adf_differenced": {
            "series": "d(nd_intl_migration)",
            "statistic": -3.8428940157830493,
            "p_value": 0.0024977127875415693,
            "used_lag": 3,
            "n_obs_used": 10,
            "critical_values": {
              "1%": -4.331573,
              "5%": -3.23295,
              "10%": -2.7487
            },
            "ic_best": 117.01639020412301,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": 495.773824275667,
                "se": 283.7065525701755,
                "t": 1.7474880991796482
              },
              "rho_minus_1": {
                "coef": -2.55764841867692,
                "se": 0.6498298696221033,
                "t": -3.935873892907191
              },
              "diff_lag_1": {
                "coef": 1.361200186146963,
                "se": 0.5354396516415667,
                "t": 2.5422102789245344
              },
              "diff_lag_2": {
                "coef": 1.5913927788908788,
                "se": 0.49770839371223713,
                "t": 3.197440105482696
              },
              "diff_lag_3": {
                "coef": 0.8373346140651816,
                "se": 0.3550245302285438,
                "t": 2.3585260813559983
              }
            }
          },
          "kpss_differenced": {
            "series": "d(nd_intl_migration)",
            "statistic": 0.18860050862964794,
            "p_value": 0.1,
            "lags_used": 0,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "integration_order": {
            "integration_order": 1,
            "conclusion": "I(1) - First-difference stationary",
            "evidence": [
              "ADF fails to reject unit root in level (p=0.5564)",
              "ADF rejects unit root in first difference (p=0.0025)"
            ],
            "level_tests": {
              "adf_rejects_unit_root": false,
              "kpss_rejects_stationarity": false
            },
            "differenced_tests": {
              "adf_rejects_unit_root": true,
              "kpss_rejects_stationarity": false
            },
            "significance_level": 0.05
          }
        },
        "us_intl_migration": {
          "n_observations": 15,
          "mean": 1010744.2,
          "std": 717853.6519858998,
          "adf_level": {
            "series": "us_intl_migration",
            "statistic": -3.9077429174341347,
            "p_value": 0.0019785967196018226,
            "used_lag": 5,
            "n_obs_used": 9,
            "critical_values": {
              "1%": -4.473135048010974,
              "5%": -3.28988060356653,
              "10%": -2.7723823456790124
            },
            "ic_best": 243.5106948125886,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": 538310.3314727561,
                "se": 364724.01184977376,
                "t": 1.4759388304120784
              },
              "rho_minus_1": {
                "coef": -0.512545563853287,
                "se": 0.4989448749845689,
                "t": -1.0272589008337618
              },
              "diff_lag_1": {
                "coef": 0.6918187380743898,
                "se": 0.4822955032881439,
                "t": 1.4344291691665798
              },
              "diff_lag_2": {
                "coef": -0.016582557916746607,
                "se": 0.5413220050794084,
                "t": -0.03063344508655999
              },
              "diff_lag_3": {
                "coef": 0.18641551674773835,
                "se": 0.5641616735803975,
                "t": 0.3304292465751356
              },
              "diff_lag_4": {
                "coef": -0.7002681304636321,
                "se": 0.5764731902811733,
                "t": -1.2147453554988017
              },
              "diff_lag_5": {
                "coef": -0.4466592760316264,
                "se": 0.7217681150563232,
                "t": -0.6188404097024587
              }
            }
          },
          "kpss_level": {
            "series": "us_intl_migration",
            "statistic": 0.31401344170980083,
            "p_value": 0.1,
            "lags_used": 1,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "phillips_perron_level": {
            "statistic": -0.06870807593553821,
            "p_value": 0.9524675035237097,
            "lags_used": 0,
            "n_obs_used": 14,
            "critical_values": {
              "1%": -4.01203360058309,
              "5%": -3.1041838775510207,
              "10%": -2.6909873469387753
            },
            "note": "PP test approximated using DF test (maxlag=0) for small sample"
          },
          "adf_differenced": {
            "series": "d(us_intl_migration)",
            "statistic": -2.347215979449134,
            "p_value": 0.15719153459210494,
            "used_lag": 4,
            "n_obs_used": 9,
            "critical_values": {
              "1%": -4.473135048010974,
              "5%": -3.28988060356653,
              "10%": -2.7723823456790124
            },
            "ic_best": 226.80904624847565,
            "regression_type": "c",
            "regression": {
              "constant": {
                "coef": 151082.29775508033,
                "se": 169216.70416653508,
                "t": 0.8928332371158363
              },
              "rho_minus_1": {
                "coef": -0.9823274358023014,
                "se": 0.5341727057882909,
                "t": -1.8389697286248616
              },
              "diff_lag_1": {
                "coef": 0.7277705555511279,
                "se": 0.4593323457548245,
                "t": 1.5844095506820377
              },
              "diff_lag_2": {
                "coef": 0.05428088333875301,
                "se": 0.48473366317354283,
                "t": 0.11198084115589789
              },
              "diff_lag_3": {
                "coef": 0.7112580187187948,
                "se": 0.5455231665270643,
                "t": 1.3038090082348648
              },
              "diff_lag_4": {
                "coef": -0.1257092600397396,
                "se": 0.8131433700862303,
                "t": -0.15459667343338074
              }
            }
          },
          "kpss_differenced": {
            "series": "d(us_intl_migration)",
            "statistic": 0.2013357247153997,
            "p_value": 0.1,
            "lags_used": 1,
            "critical_values": {
              "10%": 0.347,
              "5%": 0.463,
              "2.5%": 0.574,
              "1%": 0.739
            },
            "regression_type": "level"
          },
          "integration_order": {
            "integration_order": 0,
            "conclusion": "I(0) - Level stationary",
            "evidence": [
              "ADF rejects unit root at 5.0% (p=0.0020)",
              "KPSS fails to reject stationarity (p=0.1000)"
            ],
            "level_tests": {
              "adf_rejects_unit_root": true,
              "kpss_rejects_stationarity": false
            },
            "differenced_tests": {
              "adf_rejects_unit_root": false,
              "kpss_rejects_stationarity": false
            },
            "significance_level": 0.05
          }
        }
      },
      "integration_order_summary": {
        "nd_share_of_us_intl_pct": {
          "order": 1,
          "conclusion": "I(1) - First-difference stationary"
        },
        "nd_intl_migration": {
          "order": 1,
          "conclusion": "I(1) - First-difference stationary"
        },
        "us_intl_migration": {
          "order": 0,
          "conclusion": "I(0) - Level stationary"
        }
      }
    },
    "diagnostics": {
      "figures_generated": [
        "module_2_1_1_original_series.png",
        "module_2_1_1_differenced_series.png",
        "module_2_1_1_acf_original.png",
        "module_2_1_1_acf_differenced.png"
      ],
      "test_interpretation": {
        "adf": "H0: Unit root present (non-stationary). Reject if p < 0.05.",
        "kpss": "H0: Series is stationary. Reject if p < 0.05.",
        "phillips_perron": "H0: Unit root present. Reject if p < 0.05."
      },
      "sample_size_concern": "n=15 is below recommended minimum of 25 for reliable unit root tests"
    },
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T05:57:11.450876+00:00",
        "category": "data_handling",
        "decision": "Include 2020 COVID year in analysis",
        "rationale": "With only 15 observations, excluding any year significantly reduces test power. 2020 anomaly is noted but retained for completeness. Sensitivity without 2020 could be performed in follow-up analysis.",
        "alternatives_considered": [
          "Exclude 2020 entirely",
          "Replace 2020 with interpolated value"
        ],
        "evidence": "2020 nd_intl_migration=30 vs mean=1796",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T05:57:11.450891+00:00",
        "category": "methodology",
        "decision": "Proceed with unit root tests despite short series",
        "rationale": "With n=15, asymptotic distributions may not hold well. Tests have reduced power. Results should be interpreted with caution.",
        "alternatives_considered": [
          "Skip unit root testing",
          "Use only visual inspection"
        ],
        "evidence": "Standard recommendation is n>=25 for reliable ADF tests",
        "reversible": false
      }
    ],
    "warnings": [
      "Short time series (n=15) limits test power and may affect asymptotic validity of tests.",
      "2020 COVID year shows anomalous values that may affect test results."
    ],
    "next_steps": [
      "Use integration order results for ARIMA model specification (Module 2.1)",
      "Consider differencing before structural break analysis (Module 2.1.2)",
      "Apply appropriate differencing in VAR/VECM models (Module 2.2)",
      "Sensitivity analysis excluding 2020 COVID year if results are borderline"
    ]
  },
  "module_2_1_2_structural_breaks": {
    "module": "2.1.2",
    "analysis": "structural_break_detection",
    "generated": "2025-12-29T06:05:40.278725+00:00",
    "input_files": [
      "nd_migration_summary.csv"
    ],
    "parameters": {
      "target_variable": "nd_intl_migration",
      "n_observations": 15,
      "time_period": "2010-2024",
      "policy_events_tested": [
        2017,
        2020,
        2021
      ],
      "bai_perron_settings": {
        "algorithm": "PELT",
        "model": "rbf",
        "min_segment_size": 2,
        "penalty": "BIC"
      },
      "cusum_settings": {
        "significance_level": 0.05,
        "bounds_method": "Brown-Durbin-Evans (1975)"
      }
    },
    "results": {
      "bai_perron": {
        "method": "Bai-Perron (PELT with RBF kernel)",
        "n_observations": 15,
        "penalty_value": 5.41610040220442,
        "n_breaks_detected": 0,
        "break_indices": [],
        "break_years": [],
        "segments": [
          {
            "start_index": 0,
            "end_index": 14,
            "start_year": 2010,
            "end_year": 2024,
            "n_observations": 15,
            "mean": 1796.2666666666667,
            "std": 1432.0705972666137,
            "min": 30.0,
            "max": 5126.0
          }
        ],
        "regime_shifts": [],
        "model_fit": {
          "bic": 223.42239978438198,
          "rss": 30762392.933333337,
          "bic_alternatives": {
            "0_breaks": 223.42239978438198,
            "1_breaks": 223.42239978438198,
            "2_breaks": 223.42239978438198,
            "3_breaks": 223.42239978438198,
            "4_breaks": 223.42239978438198
          }
        },
        "interpretation": "Detected 0 structural break(s) in the series"
      },
      "cusum": {
        "method": "CUSUM Test (Brown, Durbin, Evans 1975)",
        "null_hypothesis": "Parameters are stable over time",
        "significance_level": 0.05,
        "n_observations": 15,
        "n_recursive_residuals": 13,
        "cusum_values": [
          -0.06292630855089082,
          -0.16414997644309406,
          -0.3385213101845814,
          -0.06746124598465059,
          -0.22674965101249533,
          0.1009544590693614,
          -0.47080804694519895,
          -1.1906642702266774,
          -2.0000478827652364,
          -2.367944547458381,
          -1.1978412939090828,
          0.16416463512401291,
          1.5970258471262742
        ],
        "upper_bounds": [
          3.9439183951613788,
          4.4697741811828955,
          4.9956299672044135,
          5.52148575322593,
          6.047341539247448,
          6.573197325268965,
          7.099053111290482,
          7.6249088973119985,
          8.150764683333517,
          8.676620469355035,
          9.202476255376551,
          9.728332041398069,
          10.254187827419585
        ],
        "lower_bounds": [
          -3.9439183951613788,
          -4.4697741811828955,
          -4.9956299672044135,
          -5.52148575322593,
          -6.047341539247448,
          -6.573197325268965,
          -7.099053111290482,
          -7.6249088973119985,
          -8.150764683333517,
          -8.676620469355035,
          -9.202476255376551,
          -9.728332041398069,
          -10.254187827419585
        ],
        "years_for_cusum": [
          2013,
          2014,
          2015,
          2016,
          2017,
          2018,
          2019,
          2020,
          2021,
          2022,
          2023,
          2024
        ],
        "max_cusum": 2.367944547458381,
        "max_bound": 10.254187827419585,
        "stability_ratio": 0.23092463170281738,
        "crossings": [],
        "stable": true,
        "conclusion": "CUSUM stays within bounds - parameters appear stable"
      },
      "chow_tests": {
        "2017": {
          "method": "Chow Test",
          "null_hypothesis": "No structural break at specified date",
          "break_year": 2017,
          "break_index": 7,
          "f_statistic": 1.2907294903330757,
          "df1": 2,
          "df2": 11,
          "p_value": 0.31365659516862476,
          "critical_values": {
            "10%": 2.8595109562411354,
            "5%": 3.9822979570944836,
            "1%": 7.205713350457377
          },
          "significant_at_5pct": "False",
          "rss_pooled": 21341134.64404762,
          "rss_unrestricted": 17284776.35714286,
          "pre_break": {
            "n_obs": 7,
            "mean": 1289.0,
            "std": 506.6768482686263,
            "coefficients": {
              "constant": 742.0357142857146,
              "trend": 182.32142857142858
            }
          },
          "post_break": {
            "n_obs": 8,
            "mean": 2240.125,
            "std": 1788.4359394104672,
            "coefficients": {
              "constant": 604.7500000000007,
              "trend": 467.25
            }
          },
          "regime_shift": {
            "absolute_change": 951.125,
            "percent_change": 73.7878200155159
          },
          "conclusion": "No significant structural break at 2017 (p=0.3137)"
        },
        "2020": {
          "method": "Chow Test",
          "null_hypothesis": "No structural break at specified date",
          "break_year": 2020,
          "break_index": 10,
          "f_statistic": 16.01221848491977,
          "df1": 2,
          "df2": 11,
          "p_value": 0.0005523650504233313,
          "critical_values": {
            "10%": 2.8595109562411354,
            "5%": 3.9822979570944836,
            "1%": 7.205713350457377
          },
          "significant_at_5pct": "True",
          "rss_pooled": 21341134.64404762,
          "rss_unrestricted": 5456259.2242424255,
          "pre_break": {
            "n_obs": 10,
            "mean": 1377.9,
            "std": 682.949698001251,
            "coefficients": {
              "constant": 1051.9636363636357,
              "trend": 72.43030303030321
            }
          },
          "post_break": {
            "n_obs": 5,
            "mean": 2633.0,
            "std": 2041.9240926146103,
            "coefficients": {
              "constant": -168.59999999999988,
              "trend": 1400.8
            }
          },
          "regime_shift": {
            "absolute_change": 1255.1,
            "percent_change": 91.08788736483052
          },
          "conclusion": "Significant structural break at 2020 (p=0.0006). Mean increased from 1377.9 to 2633.0 (+91.1% change)"
        },
        "2021": {
          "method": "Chow Test",
          "null_hypothesis": "No structural break at specified date",
          "break_year": 2021,
          "break_index": 11,
          "f_statistic": 10.283116235737738,
          "df1": 2,
          "df2": 11,
          "p_value": 0.0030334346283574787,
          "critical_values": {
            "10%": 2.8595109562411354,
            "5%": 3.9822979570944836,
            "1%": 7.205713350457377
          },
          "significant_at_5pct": "True",
          "rss_pooled": 21341134.64404762,
          "rss_unrestricted": 7436822.918181816,
          "pre_break": {
            "n_obs": 11,
            "mean": 1255.3636363636363,
            "std": 757.7400936909547,
            "coefficients": {
              "constant": 1290.0909090909086,
              "trend": -6.945454545454511
            }
          },
          "post_break": {
            "n_obs": 4,
            "mean": 3283.75,
            "std": 1759.1019548337727,
            "coefficients": {
              "constant": 1033.6,
              "trend": 1500.1000000000006
            }
          },
          "regime_shift": {
            "absolute_change": 2028.3863636363637,
            "percent_change": 161.5775943225433
          },
          "conclusion": "Significant structural break at 2021 (p=0.0030). Mean increased from 1255.4 to 3283.8 (+161.6% change)"
        }
      },
      "summary": {
        "data_driven_breaks": [],
        "n_breaks_detected": 0,
        "cusum_stable": true,
        "significant_policy_breaks": [
          2020,
          2021
        ]
      }
    },
    "diagnostics": {
      "figures_generated": [
        "module_2_1_2_structural_breaks.png",
        "module_2_1_2_cusum_test.png",
        "module_2_1_2_segmented_regression.png"
      ],
      "test_interpretation": {
        "bai_perron": "Data-driven detection of optimal breakpoints using BIC criterion",
        "cusum": "H0: Parameters stable over time. If CUSUM crosses bounds, reject stability.",
        "chow": "H0: No structural break at specified date. Reject if p < 0.05."
      },
      "policy_event_alignment": {
        "2017": {
          "event": "Travel Ban Executive Orders",
          "chow_significant": "False",
          "detected_by_pelt": false
        },
        "2020": {
          "event": "COVID-19 Pandemic",
          "chow_significant": "True",
          "detected_by_pelt": false
        },
        "2021": {
          "event": "Post-COVID Recovery",
          "chow_significant": "True",
          "detected_by_pelt": false
        }
      }
    },
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:05:39.155569+00:00",
        "category": "methodology",
        "decision": "Use Bai-Perron (PELT) for data-driven break detection",
        "rationale": "PELT algorithm is computationally efficient and optimal under BIC criterion. RBF kernel is robust to various types of changes (level shifts, trend changes).",
        "alternatives_considered": [
          "Binary segmentation",
          "Window-based detection",
          "ARIMA with intervention"
        ],
        "evidence": "PELT has O(n) complexity and is consistent for multiple break detection",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:05:39.155577+00:00",
        "category": "methodology",
        "decision": "Set minimum segment size to 2 observations",
        "rationale": "With only 15 total observations, requiring larger segments would limit ability to detect recent breaks (e.g., 2020 COVID, 2022 surge).",
        "alternatives_considered": [
          "min_size=3 for more stable estimates",
          "min_size=4 for traditional Bai-Perron"
        ],
        "evidence": "n=15 limits flexibility; 2-observation minimum allows detection of COVID break",
        "reversible": true
      }
    ],
    "warnings": [
      "Short time series (n=15) limits statistical power for structural break tests.",
      "Results should be interpreted alongside known policy events, not purely data-driven."
    ],
    "next_steps": [
      "Use detected break dates for intervention analysis in time series models",
      "Incorporate regime-specific parameters in forecasting models",
      "Consider structural breaks when specifying VAR/VECM models (Module 2.2)",
      "Compare break detection with policy implementation dates for causal inference"
    ]
  },
  "module_2_1_arima_model": {
    "module": "2.1",
    "analysis": "arima_time_series_modeling",
    "generated": "2025-12-29T06:07:05.641998+00:00",
    "input_files": [
      "nd_migration_summary.csv"
    ],
    "dependencies": {
      "module_2_1_1": {
        "status": "loaded",
        "file": "results/module_2_1_1_unit_root_tests.json",
        "key_results_used": [
          "integration_order"
        ]
      }
    },
    "parameters": {
      "target_variable": "nd_intl_migration",
      "n_observations": 15,
      "time_period": "2010-2024",
      "integration_order_from_unit_root": 1,
      "forecast_horizon": 5,
      "forecast_years": "2025-2029",
      "confidence_levels": [
        0.8,
        0.95
      ]
    },
    "results": {
      "model": "ARIMA(0, 1, 0)",
      "model_selection": {
        "method": "auto_arima",
        "order": [
          0,
          1,
          0
        ],
        "seasonal_order": null,
        "selection_criteria": {
          "aic": 238.41865405948357,
          "bic": 239.05771138909884
        }
      },
      "parameters": {
        "sigma2": {
          "coef": 1257166.8874422295,
          "se": 418920.33733789425
        }
      },
      "fit_statistics": {
        "aic": 238.41865405948357,
        "bic": 239.05771138909884,
        "hqic": 238.3594976220383,
        "log_likelihood": -118.20932702974179,
        "n_observations": 15
      },
      "ljung_box": {
        "lag_5": {
          "statistic": 5.095238204352211,
          "df": 5,
          "p_value": 0.40436819709915167
        },
        "lag_10": {
          "skipped": "Lag 10 exceeds max_lag 7 for sample size 15"
        },
        "lag_15": {
          "skipped": "Lag 15 exceeds max_lag 7 for sample size 15"
        },
        "lag_20": {
          "skipped": "Lag 20 exceeds max_lag 7 for sample size 15"
        }
      },
      "residual_diagnostics": {
        "mean": 341.73333333333335,
        "std": 1037.6925984552884,
        "skewness": 0.41427955123948745,
        "kurtosis": 0.3523758159409409,
        "jarque_bera": {
          "statistic": 0.5066743137255052,
          "p_value": 0.7762061344761106
        },
        "shapiro_wilk": {
          "statistic": 0.9675440595333222,
          "p_value": 0.8201664235420318
        }
      },
      "forecasts": [
        {
          "horizon": 1,
          "point": 5126.0,
          "se": 1121.2345372143284,
          "ci_80": [
            3689.080123490302,
            6562.919876509698
          ],
          "ci_95": [
            2928.4206888374815,
            7323.579311162519
          ]
        },
        {
          "horizon": 2,
          "point": 5126.0,
          "se": 1585.665089129624,
          "ci_80": [
            3093.888422596512,
            7158.111577403488
          ],
          "ci_95": [
            2018.1535337634423,
            8233.846466236559
          ]
        },
        {
          "horizon": 3,
          "point": 5126.0,
          "se": 1942.035185656194,
          "ci_80": [
            2637.181767479606,
            7614.818232520394
          ],
          "ci_95": [
            1319.6809794043024,
            8932.319020595698
          ]
        },
        {
          "horizon": 4,
          "point": 5126.0,
          "se": 2242.4690744286568,
          "ci_80": [
            2252.160246980604,
            7999.839753019396
          ],
          "ci_95": [
            730.841377674963,
            9521.158622325038
          ]
        },
        {
          "horizon": 5,
          "point": 5126.0,
          "se": 2507.156643931756,
          "ci_80": [
            1912.9494779037118,
            8339.050522096288
          ],
          "ci_95": [
            212.06327429344583,
            10039.936725706553
          ]
        }
      ]
    },
    "diagnostics": {
      "figures_generated": [
        "module_2_1_series_with_fitted.png",
        "module_2_1_acf_pacf_original.png",
        "module_2_1_acf_pacf_residuals.png",
        "module_2_1_residual_diagnostics.png",
        "module_2_1_forecast_fan_chart.png"
      ],
      "model_adequacy": {
        "ljung_box_interpretation": [
          "lag_5: p=0.404 (no autocorrelation)"
        ],
        "residual_normality": "acceptable"
      },
      "forecast_quality_note": "Wide intervals due to small sample and COVID volatility"
    },
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:07:03.380696+00:00",
        "category": "model_specification",
        "decision": "Use d=1 from unit root tests",
        "rationale": "Module 2.1.1 determined nd_intl_migration is I(1), requiring first differencing",
        "alternatives_considered": [
          "Let auto_arima determine d",
          "Use d=0 for levels"
        ],
        "evidence": "ADF test on level: p=0.5564 (fail to reject unit root), ADF on diff: p=0.0025 (reject)",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:07:03.429340+00:00",
        "category": "model_selection",
        "decision": "Selected ARIMA(0, 1, 0) via auto_arima",
        "rationale": "Minimum AIC=238.42 among candidate models with d=1",
        "alternatives_considered": [
          "Manual model selection via ACF/PACF",
          "Grid search over all orders"
        ],
        "evidence": "auto_arima with stepwise search, max_p=3, max_q=3",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:07:03.474509+00:00",
        "category": "methodology",
        "decision": "Proceed with ARIMA despite short series (n=15)",
        "rationale": "Sample size is small for reliable ARIMA, but this is all available data. Results should be interpreted with caution. Wide prediction intervals reflect uncertainty.",
        "alternatives_considered": [
          "Use simpler models only",
          "Skip ARIMA entirely"
        ],
        "evidence": "Standard recommendation is n>=30 for ARIMA",
        "reversible": false
      }
    ],
    "warnings": [
      "Short time series (n=15) limits model reliability. Prediction intervals are wide.",
      "2020 COVID year (value=30) may distort model estimates and forecasts."
    ],
    "next_steps": [
      "Use forecasts for scenario modeling (Module 9)",
      "Compare ARIMA forecasts with VAR model forecasts (Module 2.2)",
      "Incorporate structural breaks if identified (Module 2.1.2)",
      "Consider policy scenario adjustments based on immigration regime changes"
    ]
  },
  "module_2_2_var_cointegration": {
    "module": "2.2",
    "analysis": "var_cointegration_analysis",
    "generated": "2025-12-29T06:08:36.876215+00:00",
    "input_files": [
      "nd_migration_summary.csv"
    ],
    "parameters": {
      "variables_analyzed": [
        "nd_intl_migration",
        "us_intl_migration"
      ],
      "n_observations": 15,
      "time_period": "2010-2024",
      "significance_level": 0.05,
      "irf_periods": 10,
      "fevd_periods": 10,
      "unit_root_findings": {
        "nd_intl_migration": "I(1)",
        "us_intl_migration": "I(0)",
        "note": "Mixed integration orders; proceed with caution"
      }
    },
    "results": {
      "engle_granger_cointegration": {
        "test_type": "Engle-Granger Two-Step",
        "dependent_variable": "nd_intl_migration",
        "independent_variable": "us_intl_migration",
        "step1_ols_regression": {
          "constant": {
            "coefficient": -135.25414618289807,
            "std_error": 196.8852827145756,
            "t_statistic": -0.6869693067865101,
            "p_value": 0.5041730111231368
          },
          "slope": {
            "coefficient": 0.0019109887673355577,
            "std_error": 0.00015881369380283625,
            "t_statistic": 12.032896670157479,
            "p_value": 2.0222399310654282e-08
          },
          "r_squared": 0.9176123304392414,
          "n_observations": 15,
          "interpretation": "nd_intl_migration = -135.2541 + 0.001911 * us_intl_migration"
        },
        "step2_adf_on_residuals": {
          "adf_statistic": -4.47704779326682,
          "adf_p_value": 0.00021629538058779002,
          "lags_used": 0,
          "n_obs_used": 14,
          "standard_critical_values": {
            "1%": -4.01203360058309,
            "5%": -3.1041838775510207,
            "10%": -2.6909873469387753
          },
          "engle_granger_critical_values": {
            "1%": -3.9,
            "5%": -3.34,
            "10%": -3.04
          },
          "note": "Engle-Granger critical values are more conservative than standard ADF"
        },
        "conclusion": {
          "is_cointegrated": "True",
          "significance_level": 0.05,
          "interpretation": "Series ARE cointegrated at 5.0% level - long-run equilibrium exists"
        },
        "residuals": [
          259.4806438606026,
          -175.54566553523432,
          -210.78070392376935,
          -234.5665171076107,
          -710.8437168164621,
          356.3862890989633,
          -310.9813778385155,
          1197.8876871519938,
          6.588751252282691,
          -317.4085954860261,
          127.25413454443051,
          -130.28527429034102,
          185.92778409327457,
          19.874528273695432,
          -62.987967277278585
        ]
      },
      "johansen_cointegration": {
        "test_type": "Johansen Cointegration Test",
        "n_variables": 2,
        "variable_names": [
          "nd_intl_migration",
          "us_intl_migration"
        ],
        "deterministic_term": "Constant",
        "lags_in_vecm": 1,
        "trace_test": {
          "description": "H0: number of cointegrating vectors <= r vs H1: > r",
          "statistics": [
            {
              "null_hypothesis": "r <= 0",
              "alternative_hypothesis": "r > 0",
              "statistic": 7.1844059863375,
              "critical_values": {
                "90%": 13.4294,
                "95%": 15.4943,
                "99%": 19.9349
              },
              "reject_at_95pct": false
            },
            {
              "null_hypothesis": "r <= 1",
              "alternative_hypothesis": "r > 1",
              "statistic": 1.739555259671633,
              "critical_values": {
                "90%": 2.7055,
                "95%": 3.8415,
                "99%": 6.6349
              },
              "reject_at_95pct": false
            }
          ],
          "eigenvalues": [
            0.3421870583515473,
            0.1252454471919816
          ]
        },
        "max_eigenvalue_test": {
          "description": "H0: number of cointegrating vectors = r vs H1: = r+1",
          "statistics": [
            {
              "null_hypothesis": "r = 0",
              "alternative_hypothesis": "r = 1",
              "statistic": 5.444850726665866,
              "critical_values": {
                "90%": 12.2971,
                "95%": 14.2639,
                "99%": 18.52
              },
              "reject_at_95pct": false
            },
            {
              "null_hypothesis": "r = 1",
              "alternative_hypothesis": "r = 2",
              "statistic": 1.739555259671633,
              "critical_values": {
                "90%": 2.7055,
                "95%": 3.8415,
                "99%": 6.6349
              },
              "reject_at_95pct": false
            }
          ]
        },
        "cointegrating_vectors": [
          [
            0.0037518121572478833,
            -0.0002018716425152789
          ],
          [
            -7.448610613454088e-06,
            2.8974559314196935e-06
          ]
        ],
        "conclusion": {
          "n_cointegrating_relations_trace": 0,
          "n_cointegrating_relations_max_eigenvalue": 0,
          "recommended": 0,
          "interpretation": "Trace test suggests 0 cointegrating relation(s), Max eigenvalue test suggests 0 cointegrating relation(s)"
        }
      },
      "var_model": {
        "model_type": "Vector Autoregression (VAR)",
        "variable_names": [
          "nd_intl_migration",
          "us_intl_migration"
        ],
        "n_observations": 14,
        "lag_selection": {
          "method": "AIC",
          "max_lags_considered": 2,
          "selected_lag": 1,
          "all_criteria": {
            "AIC": {
              "0": 39.44534685887354,
              "1": 39.00293868183641,
              "2": 39.23526916337198
            },
            "BIC": {
              "0": 39.53226214463685,
              "1": 39.26368453912635,
              "2": 39.669845592188544
            },
            "HQIC": {
              "0": 39.427481854180655,
              "1": 38.949343667757745,
              "2": 39.145944139907535
            },
            "FPE": {
              "0": 1.3525738460793518e+17,
              "1": 8.833113253770778e+16,
              "2": 1.1909144726818138e+17
            }
          },
          "optimal_by_criterion": {
            "AIC": 1,
            "BIC": 1,
            "HQIC": 1,
            "FPE": 1
          }
        },
        "model_fit": {
          "log_likelihood": -305.85051810476125,
          "aic": 38.8743198821472,
          "bic": 39.148201594839456,
          "hqic": 38.84896712324208,
          "fpe": 7.740386947857861e+16
        },
        "equations": {
          "nd_intl_migration": {
            "dependent_variable": "nd_intl_migration",
            "coefficients": {
              "nd_intl_migration": {
                "coefficient": 123.85838812163242,
                "std_error": 535.1349636853681,
                "t_statistic": 0.23145261761377786,
                "p_value": 0.8169631917205609,
                "significant_5pct": false
              },
              "us_intl_migration": {
                "coefficient": -0.2643907792369297,
                "std_error": 0.6596329414082213,
                "t_statistic": -0.4008150027688028,
                "p_value": 0.688556332313487,
                "significant_5pct": false
              }
            },
            "r_squared": 0.5811040983972877,
            "adj_r_squared": 0.455435327916474
          },
          "us_intl_migration": {
            "dependent_variable": "us_intl_migration",
            "coefficients": {
              "nd_intl_migration": {
                "coefficient": 198273.9108134418,
                "std_error": 256279.08997614647,
                "t_statistic": 0.7736640192998048,
                "p_value": 0.43912950282646435,
                "significant_5pct": false
              },
              "us_intl_migration": {
                "coefficient": -12.135062073370849,
                "std_error": 315.9018591836591,
                "t_statistic": -0.03841402549744338,
                "p_value": 0.9693575785062089,
                "significant_5pct": false
              }
            },
            "r_squared": 0.6031728812963338,
            "adj_r_squared": 0.484124745685234
          }
        }
      },
      "granger_causality": {
        "nd_intl_migration_causes_us_intl_migration": {
          "null_hypothesis": "nd_intl_migration does NOT Granger-cause us_intl_migration",
          "alternative_hypothesis": "nd_intl_migration Granger-causes us_intl_migration",
          "lags_used": 1,
          "f_test": {
            "statistic": 0.0014756373549165422,
            "p_value": 0.9700458835700845,
            "df_num": 11,
            "df_denom": 1,
            "reject_null_5pct": false
          },
          "chi2_test": {
            "statistic": 0.0018780839062574172,
            "p_value": 0.9654330044424994,
            "df": 1,
            "reject_null_5pct": false
          },
          "likelihood_ratio_test": {
            "statistic": 0.0018779579461352114,
            "p_value": 0.9654341629133713,
            "df": 1,
            "reject_null_5pct": false
          },
          "conclusion": "nd_intl_migration does NOT Granger-cause us_intl_migration at 5% level"
        },
        "us_intl_migration_causes_nd_intl_migration": {
          "null_hypothesis": "us_intl_migration does NOT Granger-cause nd_intl_migration",
          "alternative_hypothesis": "us_intl_migration Granger-causes nd_intl_migration",
          "lags_used": 1,
          "f_test": {
            "statistic": 3.2201103381860374,
            "p_value": 0.10023675645202244,
            "df_num": 11,
            "df_denom": 1,
            "reject_null_5pct": false
          },
          "chi2_test": {
            "statistic": 4.098322248600411,
            "p_value": 0.04292578990156144,
            "df": 1,
            "reject_null_5pct": true
          },
          "likelihood_ratio_test": {
            "statistic": 3.5946667527781813,
            "p_value": 0.05796524920957017,
            "df": 1,
            "reject_null_5pct": false
          },
          "conclusion": "us_intl_migration does NOT Granger-cause nd_intl_migration at 5% level"
        }
      },
      "impulse_response_functions": {
        "description": "Orthogonalized Impulse Response Functions (Cholesky decomposition)",
        "periods": 10,
        "confidence_level": 0.95,
        "responses": {
          "response_nd_intl_migration_to_nd_intl_migration": {
            "impulse_variable": "nd_intl_migration",
            "response_variable": "nd_intl_migration",
            "values": [
              1.0,
              -0.2643907792369297,
              0.03998369491787417,
              -0.03280990866445704,
              -0.014931211505384878,
              -0.018858051233455745,
              -0.017548464748916623,
              -0.01750376819488409,
              -0.017160821644116427,
              -0.016895339062989442,
              -0.016616897729526615
            ],
            "lower_ci": [
              -387.39425990655684,
              -651.2262663024555,
              -929.1214203767246,
              -1289.8943012241268,
              -1650.554184481366,
              -2006.7974827253302,
              -2354.443435008839,
              -2692.2694525196002,
              -3019.7289872737306,
              -3336.6423912827836,
              -3643.0108407422913
            ],
            "upper_ci": [
              389.39425990655684,
              650.6974847439817,
              929.2013877665603,
              1289.828681406798,
              1650.5243220583552,
              2006.759766622863,
              2354.4083380793413,
              2692.234444983211,
              3019.694665630442,
              3336.6086006046576,
              3642.9776069468326
            ]
          },
          "response_us_intl_migration_to_nd_intl_migration": {
            "impulse_variable": "nd_intl_migration",
            "response_variable": "us_intl_migration",
            "values": [
              0.0,
              -12.135062073370849,
              -9.019972322615692,
              -9.574533200284062,
              -9.250003302473317,
              -9.13993713326386,
              -8.981372200795922,
              -8.83747994612072,
              -8.693023672385404,
              -8.55161832496547,
              -8.412347332925185
            ],
            "lower_ci": [
              -202850.1490083976,
              -311567.6016676974,
              -472076.4842032035,
              -656434.7881233551,
              -840346.6117791289,
              -1021361.415185096,
              -1197748.5579228357,
              -1369017.9944056391,
              -1534942.02026686,
              -1695465.4697928415,
              -1850607.389158249
            ],
            "upper_ci": [
              202850.1490083976,
              311543.3315435507,
              472058.4442585583,
              656415.6390569546,
              840328.111772524,
              1021343.1353108294,
              1197730.595178434,
              1369000.3194457467,
              1534924.6342195154,
              1695448.3665561914,
              1850590.5644635828
            ]
          },
          "response_nd_intl_migration_to_us_intl_migration": {
            "impulse_variable": "us_intl_migration",
            "response_variable": "nd_intl_migration",
            "values": [
              0.0,
              0.002465482998499897,
              0.001832589588243551,
              0.0019452598331304613,
              0.0018793250286177517,
              0.0018569628629151618,
              0.0018247471937414658,
              0.0017955125754615952,
              0.0017661633653160114,
              0.0017374340124826327,
              0.0017091382970603748
            ],
            "lower_ci": [
              0.0,
              -621.3322381291164,
              -591.8382907335317,
              -727.3361229051086,
              -878.3600500456407,
              -1037.3304712518648,
              -1197.4876341347278,
              -1355.9524984537172,
              -1511.446428452366,
              -1663.1823676743243,
              -1810.750539334613
            ],
            "upper_ci": [
              0.0,
              621.3371690951133,
              591.8419559127083,
              727.340013424775,
              878.363808695698,
              1037.3341851775904,
              1197.4912836291153,
              1355.956089478868,
              1511.4499607790967,
              1663.1858425423493,
              1810.753957611207
            ]
          },
          "response_us_intl_migration_to_us_intl_migration": {
            "impulse_variable": "us_intl_migration",
            "response_variable": "us_intl_migration",
            "values": [
              1.0,
              1.0076891874427762,
              0.9855187092614459,
              0.9708579589369715,
              0.9547172189396759,
              0.9392524927126332,
              0.9239402215757756,
              0.90890115066113,
              0.894101205418774,
              0.8795436151102278,
              0.8652227212410449
            ],
            "lower_ci": [
              -80935.00406738925,
              -293361.6299381587,
              -290327.7811343825,
              -370108.69735659333,
              -446366.70203839353,
              -527678.2229848754,
              -608914.8754892352,
              -689319.6581419193,
              -768133.5849196826,
              -845013.8086651579,
              -919756.1919593737
            ],
            "upper_ci": [
              80937.00406738925,
              293363.6453165335,
              290329.75217180094,
              370110.6390725112,
              446368.6114728314,
              527680.1014898609,
              608916.7233696782,
              689321.4759442207,
              768135.3731220934,
              845015.5677523882,
              919757.9224048161
            ]
          }
        }
      },
      "forecast_error_variance_decomposition": {
        "description": "Forecast Error Variance Decomposition",
        "periods": 10,
        "decomposition": {
          "nd_intl_migration": {
            "by_period": [
              {
                "period": 1,
                "proportions": {
                  "nd_intl_migration": 1.0,
                  "us_intl_migration": 0.0
                }
              },
              {
                "period": 2,
                "proportions": {
                  "nd_intl_migration": 0.8612104744714405,
                  "us_intl_migration": 0.13878952552855947
                }
              },
              {
                "period": 3,
                "proportions": {
                  "nd_intl_migration": 0.850270100646704,
                  "us_intl_migration": 0.14972989935329592
                }
              },
              {
                "period": 4,
                "proportions": {
                  "nd_intl_migration": 0.8383137771341458,
                  "us_intl_migration": 0.16168622286585424
                }
              },
              {
                "period": 5,
                "proportions": {
                  "nd_intl_migration": 0.8322551415004238,
                  "us_intl_migration": 0.16774485849957618
                }
              },
              {
                "period": 6,
                "proportions": {
                  "nd_intl_migration": 0.8279232331110118,
                  "us_intl_migration": 0.1720767668889881
                }
              },
              {
                "period": 7,
                "proportions": {
                  "nd_intl_migration": 0.8248584364950006,
                  "us_intl_migration": 0.17514156350499926
                }
              },
              {
                "period": 8,
                "proportions": {
                  "nd_intl_migration": 0.8225382249122719,
                  "us_intl_migration": 0.177461775087728
                }
              },
              {
                "period": 9,
                "proportions": {
                  "nd_intl_migration": 0.8207303196953721,
                  "us_intl_migration": 0.17926968030462778
                }
              },
              {
                "period": 10,
                "proportions": {
                  "nd_intl_migration": 0.8192806568370896,
                  "us_intl_migration": 0.18071934316291036
                }
              }
            ]
          },
          "us_intl_migration": {
            "by_period": [
              {
                "period": 1,
                "proportions": {
                  "nd_intl_migration": 0.8106618106138375,
                  "us_intl_migration": 0.18933818938616256
                }
              },
              {
                "period": 2,
                "proportions": {
                  "nd_intl_migration": 0.8063045721326083,
                  "us_intl_migration": 0.19369542786739175
                }
              },
              {
                "period": 3,
                "proportions": {
                  "nd_intl_migration": 0.8055571938072705,
                  "us_intl_migration": 0.1944428061927294
                }
              },
              {
                "period": 4,
                "proportions": {
                  "nd_intl_migration": 0.8050574853905792,
                  "us_intl_migration": 0.19494251460942083
                }
              },
              {
                "period": 5,
                "proportions": {
                  "nd_intl_migration": 0.8047822363582805,
                  "us_intl_migration": 0.1952177636417194
                }
              },
              {
                "period": 6,
                "proportions": {
                  "nd_intl_migration": 0.8045940607226598,
                  "us_intl_migration": 0.19540593927734
                }
              },
              {
                "period": 7,
                "proportions": {
                  "nd_intl_migration": 0.8044608078808141,
                  "us_intl_migration": 0.19553919211918577
                }
              },
              {
                "period": 8,
                "proportions": {
                  "nd_intl_migration": 0.8043607895603528,
                  "us_intl_migration": 0.19563921043964708
                }
              },
              {
                "period": 9,
                "proportions": {
                  "nd_intl_migration": 0.8042831578881665,
                  "us_intl_migration": 0.1957168421118334
                }
              },
              {
                "period": 10,
                "proportions": {
                  "nd_intl_migration": 0.8042211454000613,
                  "us_intl_migration": 0.19577885459993866
                }
              }
            ]
          }
        }
      },
      "vecm": {
        "note": "No cointegration detected, VECM not estimated",
        "recommendation": "Use VAR model in levels or first differences"
      }
    },
    "diagnostics": {
      "figures_generated": [
        "module_2_2_impulse_response.png",
        "module_2_2_variance_decomposition.png",
        "module_2_2_cointegration_relationship.png"
      ],
      "var_model_diagnostics": {
        "lag_selection_method": "AIC",
        "selected_lag": 1,
        "n_parameters": 6,
        "degrees_of_freedom": 11
      },
      "test_interpretations": {
        "engle_granger": "Two-step procedure: (1) estimate long-run OLS, (2) test residuals for stationarity",
        "johansen": "Multivariate ML procedure testing for number of cointegrating vectors",
        "granger_causality": "Tests if lags of one variable help predict another (not true causality)",
        "irf": "Response of variables to one-standard-deviation shocks over time",
        "fevd": "Proportion of forecast error variance attributable to each variable's shocks"
      },
      "limitations": [
        "Sample size (n=15) is very small for VAR/cointegration analysis",
        "Mixed integration orders complicate interpretation",
        "Asymptotic properties may not hold in small samples",
        "2020 COVID shock may distort relationships"
      ]
    },
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:08:34.967580+00:00",
        "category": "methodology",
        "decision": "Proceed with cointegration tests despite mixed integration orders",
        "rationale": "Unit root tests showed nd_intl_migration as I(1) and us_intl_migration as I(0). Standard cointegration theory requires variables of same integration order. However, with short series (n=15), unit root test power is limited. We proceed to explore potential long-run relationships.",
        "alternatives_considered": [
          "Only analyze I(1) variables",
          "Transform us_intl_migration to I(1)"
        ],
        "evidence": "Module 2.1.1 unit root test results",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:08:34.969750+00:00",
        "category": "results",
        "decision": "Cointegration rank determined as 0",
        "rationale": "Johansen test trace statistic suggests 0 cointegrating relations, max eigenvalue suggests 0. Engle-Granger test supports cointegration.",
        "alternatives_considered": [
          "Use alternative deterministic specification",
          "Use different lag structure"
        ],
        "evidence": "Johansen trace: 7.1844, Engle-Granger ADF: -4.4770",
        "reversible": true
      }
    ],
    "warnings": [
      "Variables have different integration orders (nd_intl_migration: I(1), us_intl_migration: I(0)). Cointegration tests may be unreliable.",
      "Short time series (n=15) limits reliability of VAR/cointegration analysis."
    ],
    "next_steps": [
      "Use VAR forecasts for scenario analysis (Module 2.3)",
      "Consider structural VAR identification if causality is established",
      "Sensitivity analysis excluding 2020 COVID year",
      "Compare with univariate ARIMA forecasts",
      "Consider regime-switching models for policy break analysis"
    ]
  },
  "module_3_1_fixed_effects": {
    "model_type": "Two-way Fixed Effects",
    "panel_info": {
      "n_entities": 51,
      "n_periods": 15,
      "n_observations": 765,
      "balanced": true
    },
    "coefficients": {
      "const": {
        "estimate": 19818.51372549019,
        "se": 8.666968382134336e-13,
        "t": 2.2866719770598336e+16,
        "p_value": 0.0,
        "ci_95": [
          19818.51372549019,
          19818.51372549019
        ]
      }
    },
    "r_squared": {
      "within": 0.0,
      "between": 0.0,
      "overall": 0.0
    },
    "f_test_fe": {
      "statistic": NaN,
      "p_value": NaN,
      "note": "F-test for joint significance from clustered robust covariance"
    },
    "entity_effects_summary": {
      "mean": 1.7833229446528004e-12,
      "sd": 30943.602882791052,
      "min": -19331.580392156862,
      "max": 125526.15294117646,
      "median": -11876.047058823528
    },
    "model_diagnostics": {
      "residual_sum_of_squares": 410565000793.7019,
      "total_sum_of_squares": 410565000793.7019,
      "log_likelihood": -8774.091509223568
    },
    "cluster_robust_se": true,
    "n_clusters": 51,
    "entity_effects_by_state": {
      "Alabama": -14340.18039215686,
      "Alaska": -17848.980392156864,
      "Arizona": 793.0862745098035,
      "Arkansas": -16735.98039215686,
      "California": 106258.55294117647,
      "Colorado": -7957.247058823528,
      "Connecticut": -4343.447058823527,
      "Delaware": -17575.380392156865,
      "District of Columbia": -15099.78039215686,
      "Florida": 125526.15294117646,
      "Georgia": 4734.2862745098055,
      "Hawaii": -13832.647058823528,
      "Idaho": -17193.98039215686,
      "Illinois": 14692.752941176474,
      "Indiana": -7227.180392156862,
      "Iowa": -12867.047058823528,
      "Kansas": -13503.513725490195,
      "Kentucky": -11363.647058823528,
      "Louisiana": -12431.313725490194,
      "Maine": -17960.647058823528,
      "Maryland": 4217.21960784314,
      "Massachusetts": 21598.619607843135,
      "Michigan": 4043.4862745098053,
      "Minnesota": -6503.180392156862,
      "Mississippi": -17119.513725490197,
      "Missouri": -11284.647058823528,
      "Montana": -19053.180392156864,
      "Nebraska": -15236.380392156863,
      "Nevada": -12947.380392156861,
      "New Hampshire": -17151.913725490194,
      "New Jersey": 22302.15294117647,
      "New Mexico": -15826.84705882353,
      "New York": 61555.01960784315,
      "North Carolina": 3952.7529411764713,
      "North Dakota": -18022.247058823526,
      "Ohio": 3409.1529411764736,
      "Oklahoma": -13189.047058823528,
      "Oregon": -12216.580392156862,
      "Pennsylvania": 11977.686274509806,
      "Rhode Island": -15664.113725490195,
      "South Carolina": -11876.047058823528,
      "South Dakota": -18233.18039215686,
      "Tennessee": -9575.113725490195,
      "Texas": 89231.55294117647,
      "Utah": -11421.647058823528,
      "Vermont": -18837.513725490197,
      "Virginia": 9536.152941176473,
      "Washington": 9893.419607843138,
      "West Virginia": -18638.047058823526,
      "Wisconsin": -11312.913725490194,
      "Wyoming": -19331.580392156862
    },
    "time_effects": {
      "2010": -16291.2,
      "2011": -4224.494117647058,
      "2012": -2980.552941176473,
      "2013": -3157.1803921568644,
      "2014": -1276.650980392158,
      "2015": 968.0549019607824,
      "2016": 1064.1725490196077,
      "2017": -1222.5921568627455,
      "2018": -5703.396078431373,
      "2019": -8668.729411764707,
      "2020": -19428.61176470588,
      "2021": -12445.886274509805,
      "2022": 13388.054901960782,
      "2023": 25167.741176470587,
      "2024": 34811.27058823529
    }
  },
  "module_3_1_hausman_test": {
    "test": "Hausman Specification Test",
    "null_hypothesis": "Difference in coefficients is not systematic (RE is consistent)",
    "statistic": 7.180932476852153e-31,
    "df": 1,
    "p_value": 0.9999999999999993,
    "recommendation": "Random Effects",
    "interpretation": "Fail to reject H0: RE estimates are consistent and efficient. Use Random Effects.",
    "variance_comparison": {
      "between_variance": 957506559.3678747,
      "within_variance": 735769505.8392671,
      "ratio": 1.301367550257033
    }
  },
  "module_3_1_panel_analysis": {
    "module": "3.1",
    "analysis": "panel_data_fixed_random_effects",
    "generated": "2025-12-29T06:15:15.989036+00:00",
    "input_files": [
      "combined_components_of_change.csv"
    ],
    "parameters": {
      "n_entities": 51,
      "n_periods": 15,
      "n_observations": 765,
      "years": [
        2010,
        2011,
        2012,
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023,
        2024
      ],
      "dependent_variable": "intl_migration",
      "model_specifications": {
        "fixed_effects": "Two-way (entity + time)",
        "random_effects": "One-way (entity)",
        "standard_errors": "Clustered by state"
      }
    },
    "results": {
      "fixed_effects": {
        "r_squared_within": 0.0,
        "r_squared_between": 0.0,
        "r_squared_overall": 0.0,
        "entity_effects_sd": 30943.602882791052,
        "entity_effects_range": [
          -19331.580392156862,
          125526.15294117646
        ]
      },
      "random_effects": {
        "r_squared_within": 0.0,
        "r_squared_between": 0.0,
        "r_squared_overall": 0.0,
        "breusch_pagan_lm_stat": 1501.7433176269728,
        "breusch_pagan_lm_pval": 0.0
      },
      "hausman_test": {
        "statistic": 7.180932476852153e-31,
        "p_value": 0.9999999999999993,
        "recommendation": "Random Effects"
      },
      "panel_characteristics": {
        "balanced": true,
        "n_entities": 51,
        "n_periods": 15,
        "between_within_variance_ratio": 1.301367550257033
      }
    },
    "diagnostics": {
      "data_quality": {
        "missing_values": 102,
        "zero_intl_migration_obs": 3,
        "negative_intl_migration_obs": 3
      },
      "model_convergence": {
        "fixed_effects": "converged",
        "random_effects": "converged"
      },
      "covid_impact": {
        "year_2020_mean_intl_migration": 389.9019607843137,
        "other_years_mean_intl_migration": 21206.271708683475,
        "covid_effect_ratio": 0.018386162647565152
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:15:14.465634+00:00",
        "category": "data_handling",
        "decision": "Excluded Puerto Rico and United States total from panel",
        "rationale": "Puerto Rico is a territory, not a state. US total is aggregate, not entity.",
        "alternatives_considered": [
          "Include PR as additional entity",
          "Include all available entities"
        ],
        "evidence": "Original entities: 53, After exclusion: 51",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:15:14.468939+00:00",
        "category": "data_handling",
        "decision": "Added COVID-2020 dummy variable",
        "rationale": "2020 has anomalous low values due to partial year data and COVID restrictions",
        "alternatives_considered": [
          "Exclude 2020 entirely",
          "No special handling"
        ],
        "evidence": "2020 intl_migration values are substantially lower than surrounding years",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:15:14.519383+00:00",
        "category": "model_selection",
        "decision": "Hausman test recommends Random Effects",
        "rationale": "Fail to reject H0: RE estimates are consistent and efficient. Use Random Effects.",
        "alternatives_considered": [
          "Fixed Effects",
          "Random Effects"
        ],
        "evidence": "Hausman stat = 0.0000, p-value = 1.0000",
        "reversible": true
      }
    ],
    "next_steps": [
      "Use fixed effects results for Module 7 (Causal Inference - DiD)",
      "Entity effects can inform state clustering in Module 6",
      "Time effects show policy sensitivity for structural break analysis (Module 2.1.2)",
      "Panel data ready for extended specifications with covariates"
    ]
  },
  "module_3_1_random_effects": {
    "model_type": "Random Effects (GLS)",
    "panel_info": {
      "n_entities": 51,
      "n_periods": 15,
      "n_observations": 765,
      "balanced": true
    },
    "coefficients": {
      "const": {
        "estimate": 19818.513725490193,
        "se": 4293.087530226974,
        "t": 4.616377743512347,
        "p_value": 4.579871517140788e-06,
        "ci_95": [
          11390.865674992287,
          28246.161775988097
        ]
      }
    },
    "r_squared": {
      "within": 0.0,
      "between": 0.0,
      "overall": 0.0
    },
    "variance_components": {
      "sigma2_entity": 905020293.9653348,
      "sigma2_residual": 787293981.0380951,
      "theta": 0.7658727536908614
    },
    "breusch_pagan_lm": {
      "statistic": 1501.7433176269728,
      "df": 1,
      "p_value": 0.0,
      "interpretation": "Reject H0 (RE needed)"
    },
    "cluster_robust_se": true
  },
  "module_3_2_network_elasticity": {
    "analysis_type": "Network Elasticity Estimation",
    "module": "3.2",
    "analysis_date": "2025-12-29T00:00:36.639639",
    "data_preparation": {
      "filter_level": "country (excluded regions and sub_regions to avoid double-counting)",
      "lag_period": 1,
      "min_population_threshold": 50,
      "log_constant": 1,
      "observations_final": 707,
      "unique_countries": 88,
      "year_range": [
        2010,
        2023
      ]
    },
    "regression_results": {
      "model_specification": "log(Stock_t) = alpha + beta * log(Stock_t-1) + epsilon",
      "dependent_variable": "log(foreign_born_pop)",
      "independent_variable": "log(foreign_born_pop_lag1)",
      "sample_size": 707,
      "degrees_of_freedom": {
        "model": 1,
        "residual": 705,
        "total": 706
      },
      "coefficients": {
        "intercept": {
          "estimate": 0.48338494120532277,
          "std_error": 0.25500531278774125,
          "t_value": 1.8955877268630785,
          "p_value": 0.05842331915171006,
          "ci_95_lower": -0.01727581113579274,
          "ci_95_upper": 0.9840456935464383
        },
        "network_elasticity": {
          "estimate": 0.8506798478795055,
          "std_error": 0.045566010095433325,
          "t_value": 18.66917568814658,
          "p_value": 0.0,
          "ci_95_lower": 0.7612185239323003,
          "ci_95_upper": 0.9401411718267106,
          "significance": "***"
        }
      },
      "model_fit": {
        "r_squared": 0.3308263023130542,
        "r_squared_adjusted": 0.3298771197631436,
        "rmse": 1.3697531137003787,
        "correlation": 0.575175018853439
      },
      "anova": {
        "f_statistic": 348.5381208748801,
        "f_p_value": 1.1102230246251565e-16,
        "ss_regression": 653.9354452682376,
        "ss_residual": 1322.737632706777,
        "ss_total": 1976.6730779750146
      },
      "interpretation": {
        "elasticity_type": "decelerating",
        "description": "A 1% increase in lagged stock predicts a 0.8507% increase in current stock"
      }
    },
    "limitations": [
      "LPR state x country data only available for FY2023",
      "ACS has sampling error - margin of error columns included",
      "Small counts for some origins may be unreliable (filtered < 50)",
      "Log transformation required adding constant to handle zeros"
    ]
  },
  "module_3_2_origin_analysis": {
    "analysis_type": "Origin-Specific Panel Analysis",
    "module": "3.2",
    "analysis_date": "2025-12-29T00:00:36.639898",
    "growth_analysis": {
      "period": "2009-2023",
      "n_countries_analyzed": 36,
      "min_population_filter": 50,
      "top_growing_origins": [
        {
          "country": "Kenya",
          "pop_earliest": 195.0,
          "pop_latest": 11920.0,
          "pct_growth": 6012.820512820513,
          "cagr": 34.149385878861274
        },
        {
          "country": "Iran",
          "pop_earliest": 98.0,
          "pop_latest": 1261.0,
          "pct_growth": 1186.734693877551,
          "cagr": 20.018782002657787
        },
        {
          "country": "Other Eastern Africa",
          "pop_earliest": 363.0,
          "pop_latest": 3582.0,
          "pct_growth": 886.7768595041323,
          "cagr": 17.764838205574442
        },
        {
          "country": "Iraq",
          "pop_earliest": 88.0,
          "pop_latest": 788.0,
          "pct_growth": 795.4545454545454,
          "cagr": 16.950776690838197
        },
        {
          "country": "Croatia",
          "pop_earliest": 60.0,
          "pop_latest": 526.0,
          "pct_growth": 776.6666666666666,
          "cagr": 16.773775244486266
        },
        {
          "country": "Pakistan",
          "pop_earliest": 112.0,
          "pop_latest": 860.0,
          "pct_growth": 667.8571428571429,
          "cagr": 15.67361715233282
        },
        {
          "country": "Caribbean",
          "pop_earliest": 201.0,
          "pop_latest": 1175.0,
          "pct_growth": 484.5771144278607,
          "cagr": 13.44214114655764
        },
        {
          "country": "Other Western Africa",
          "pop_earliest": 77.0,
          "pop_latest": 400.0,
          "pct_growth": 419.4805194805195,
          "cagr": 12.489526946968766
        },
        {
          "country": "Bangladesh",
          "pop_earliest": 100.0,
          "pop_latest": 411.0,
          "pct_growth": 311.0,
          "cagr": 10.623105055400206
        },
        {
          "country": "Lebanon",
          "pop_earliest": 62.0,
          "pop_latest": 198.0,
          "pct_growth": 219.3548387096774,
          "cagr": 8.647449515022942
        },
        {
          "country": "Japan",
          "pop_earliest": 172.0,
          "pop_latest": 466.0,
          "pct_growth": 170.93023255813952,
          "cagr": 7.378761541626466
        },
        {
          "country": "Korea",
          "pop_earliest": 334.0,
          "pop_latest": 663.0,
          "pct_growth": 98.50299401197606,
          "cagr": 5.019289512896186
        },
        {
          "country": "Ukraine",
          "pop_earliest": 65.0,
          "pop_latest": 116.0,
          "pct_growth": 78.46153846153847,
          "cagr": 4.22393685315785
        },
        {
          "country": "South Africa",
          "pop_earliest": 237.0,
          "pop_latest": 387.0,
          "pct_growth": 63.29113924050633,
          "cagr": 3.5646676088369578
        },
        {
          "country": "Cameroon",
          "pop_earliest": 67.0,
          "pop_latest": 92.0,
          "pct_growth": 37.3134328358209,
          "cagr": 2.290816357291492
        }
      ],
      "declining_origins": [
        {
          "country": "China",
          "pop_earliest": 1034.0,
          "pop_latest": 1020.0,
          "pct_growth": -1.3539651837524178,
          "cagr": -0.0973250997305719
        },
        {
          "country": "Yugoslavia",
          "pop_earliest": 125.0,
          "pop_latest": 112.0,
          "pct_growth": -10.4,
          "cagr": -0.781323574593884
        },
        {
          "country": "Germany",
          "pop_earliest": 739.0,
          "pop_latest": 657.0,
          "pct_growth": -11.096075778078484,
          "cagr": -0.8365803302984531
        },
        {
          "country": "Poland",
          "pop_earliest": 146.0,
          "pop_latest": 128.0,
          "pct_growth": -12.32876712328767,
          "cagr": -0.9354285174856813
        },
        {
          "country": "Sudan",
          "pop_earliest": 203.0,
          "pop_latest": 164.0,
          "pct_growth": -19.21182266009852,
          "cagr": -1.512302035631985
        },
        {
          "country": "Austria",
          "pop_earliest": 69.0,
          "pop_latest": 55.0,
          "pct_growth": -20.28985507246377,
          "cagr": -1.606761059062456
        },
        {
          "country": "India",
          "pop_earliest": 617.0,
          "pop_latest": 329.0,
          "pct_growth": -46.677471636953,
          "cagr": -4.392134187173791
        },
        {
          "country": "Vietnam",
          "pop_earliest": 482.0,
          "pop_latest": 252.0,
          "pct_growth": -47.71784232365145,
          "cagr": -4.5265990992110705
        },
        {
          "country": "Bosnia and Herzegovina",
          "pop_earliest": 585.0,
          "pop_latest": 278.0,
          "pct_growth": -52.478632478632484,
          "cagr": -5.175483306603834
        },
        {
          "country": "South America",
          "pop_earliest": 504.0,
          "pop_latest": 219.0,
          "pct_growth": -56.547619047619044,
          "cagr": -5.779842250203182
        },
        {
          "country": "United Kingdom (inc. Crown Dependencies)",
          "pop_earliest": 251.0,
          "pop_latest": 78.0,
          "pct_growth": -68.92430278884463,
          "cagr": -8.00920996977057
        },
        {
          "country": "Russia",
          "pop_earliest": 232.0,
          "pop_latest": 57.0,
          "pct_growth": -75.43103448275862,
          "cagr": -9.540078808034313
        },
        {
          "country": "Central America",
          "pop_earliest": 1093.0,
          "pop_latest": 71.0,
          "pct_growth": -93.50411710887465,
          "cagr": -17.740049864432983
        },
        {
          "country": "Philippines",
          "pop_earliest": 533.0,
          "pop_latest": 34.0,
          "pct_growth": -93.62101313320825,
          "cagr": -17.846679420985623
        },
        {
          "country": "Liberia",
          "pop_earliest": 330.0,
          "pop_latest": 19.0,
          "pct_growth": -94.24242424242424,
          "cagr": -18.445920524642023
        },
        {
          "country": "Nepal",
          "pop_earliest": 288.0,
          "pop_latest": 7.0,
          "pct_growth": -97.56944444444444,
          "cagr": -23.318031389528628
        },
        {
          "country": "Romania",
          "pop_earliest": 58.0,
          "pop_latest": 0.0,
          "pct_growth": -100.0,
          "cagr": -100.0
        }
      ],
      "descriptive_statistics": {
        "pct_growth": {
          "mean": 314.7014278309784,
          "std": 1030.1131364990963,
          "min": -100.0,
          "q1": -48.90803986239671,
          "median": 1.2732380001395953,
          "q3": 242.26612903225805,
          "max": 6012.820512820513
        },
        "cagr": {
          "mean": -0.8355959965237854,
          "std": 20.765382180383853,
          "min": -100.0,
          "q1": -4.688820151059261,
          "median": 0.09034865216176469,
          "q3": 9.141363400117257,
          "max": 34.149385878861274
        }
      }
    },
    "diaspora_concentration": {
      "year": 2023,
      "total_foreign_born": 34813.0,
      "n_origin_countries": 95,
      "top_20_origins": [
        {
          "country": "Kenya",
          "foreign_born_pop": 11920.0,
          "margin_of_error": 877.0,
          "pct_of_nd_foreign_born": 34.24008272771666
        },
        {
          "country": "Other Australian and New Zealand Subregion",
          "foreign_born_pop": 5740.0,
          "margin_of_error": 841.0,
          "pct_of_nd_foreign_born": 16.488093528279666
        },
        {
          "country": "Other Eastern Africa",
          "foreign_born_pop": 3582.0,
          "margin_of_error": 688.0,
          "pct_of_nd_foreign_born": 10.289259759285324
        },
        {
          "country": "Cambodia",
          "foreign_born_pop": 3519.0,
          "margin_of_error": 483.0,
          "pct_of_nd_foreign_born": 10.108292879096888
        },
        {
          "country": "Canada",
          "foreign_born_pop": 3038.0,
          "margin_of_error": 827.0,
          "pct_of_nd_foreign_born": 8.726625111308994
        },
        {
          "country": "Singapore",
          "foreign_born_pop": 2520.0,
          "margin_of_error": 420.0,
          "pct_of_nd_foreign_born": 7.238675207537414
        },
        {
          "country": "Albania",
          "foreign_born_pop": 1872.0,
          "margin_of_error": 464.0,
          "pct_of_nd_foreign_born": 5.37730158274208
        },
        {
          "country": "Iran",
          "foreign_born_pop": 1261.0,
          "margin_of_error": 480.0,
          "pct_of_nd_foreign_born": 3.622210093930428
        },
        {
          "country": "Caribbean",
          "foreign_born_pop": 1175.0,
          "margin_of_error": 484.0,
          "pct_of_nd_foreign_born": 3.3751759400224053
        },
        {
          "country": "China",
          "foreign_born_pop": 1020.0,
          "margin_of_error": 291.0,
          "pct_of_nd_foreign_born": 2.92993996495562
        },
        {
          "country": "Other Middle Africa",
          "foreign_born_pop": 903.0,
          "margin_of_error": 333.0,
          "pct_of_nd_foreign_born": 2.59385861603424
        },
        {
          "country": "Pakistan",
          "foreign_born_pop": 860.0,
          "margin_of_error": 316.0,
          "pct_of_nd_foreign_born": 2.470341539080229
        },
        {
          "country": "Iraq",
          "foreign_born_pop": 788.0,
          "margin_of_error": 311.0,
          "pct_of_nd_foreign_born": 2.2635222474363026
        },
        {
          "country": "Korea",
          "foreign_born_pop": 663.0,
          "margin_of_error": 244.0,
          "pct_of_nd_foreign_born": 1.9044609772211532
        },
        {
          "country": "Germany",
          "foreign_born_pop": 657.0,
          "margin_of_error": 168.0,
          "pct_of_nd_foreign_born": 1.8872260362508257
        },
        {
          "country": "Ghana",
          "foreign_born_pop": 572.0,
          "margin_of_error": 326.0,
          "pct_of_nd_foreign_born": 1.643064372504524
        },
        {
          "country": "Croatia",
          "foreign_born_pop": 526.0,
          "margin_of_error": 235.0,
          "pct_of_nd_foreign_born": 1.5109298250653491
        },
        {
          "country": "Other South Eastern Asia",
          "foreign_born_pop": 505.0,
          "margin_of_error": 243.0,
          "pct_of_nd_foreign_born": 1.450607531669204
        },
        {
          "country": "Japan",
          "foreign_born_pop": 466.0,
          "margin_of_error": 261.0,
          "pct_of_nd_foreign_born": 1.3385804153620773
        },
        {
          "country": "Ireland",
          "foreign_born_pop": 413.0,
          "margin_of_error": 167.0,
          "pct_of_nd_foreign_born": 1.186338436790854
        }
      ],
      "concentration_metrics": {
        "hhi": 1891.6273417031693,
        "hhi_interpretation": "moderate",
        "cr5": 79.85235400568753,
        "cr10": 102.39565679487548
      }
    },
    "stock_flow_correlation": {
      "n_countries_matched": 32,
      "correlation_analysis": {
        "pearson": {
          "r": -0.058857528874801654,
          "p_value": 0.7489839969371458,
          "ci_95_lower": -0.3993554216597015,
          "ci_95_upper": 0.2959094698104344
        },
        "spearman": {
          "rho": 0.041493087744364665,
          "p_value": 0.8216068940099368
        },
        "log_pearson": {
          "r": -0.08577990347763403,
          "p_value": 0.6406425826677451,
          "ci_95_lower": -0.42185577293063586,
          "ci_95_upper": 0.2710205445382846
        }
      },
      "interpretation": {
        "strength": "No meaningful",
        "network_effect_support": false
      },
      "matched_countries": [
        {
          "country_harmonized": "Germany",
          "acs_stock": 657.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Ukraine",
          "acs_stock": 116.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "China, People's Republic",
          "acs_stock": 1020.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Japan",
          "acs_stock": 466.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Korea, South",
          "acs_stock": 663.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Afghanistan",
          "acs_stock": 301.0,
          "lpr_admissions": 50.0
        },
        {
          "country_harmonized": "Bangladesh",
          "acs_stock": 411.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "India",
          "acs_stock": 329.0,
          "lpr_admissions": 50.0
        },
        {
          "country_harmonized": "Iran",
          "acs_stock": 1261.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Kazakhstan",
          "acs_stock": 251.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Nepal",
          "acs_stock": 7.0,
          "lpr_admissions": 70.0
        },
        {
          "country_harmonized": "Pakistan",
          "acs_stock": 860.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Sri Lanka",
          "acs_stock": 227.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Indonesia",
          "acs_stock": 32.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Philippines",
          "acs_stock": 34.0,
          "lpr_admissions": 530.0
        },
        {
          "country_harmonized": "Thailand",
          "acs_stock": 23.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Vietnam",
          "acs_stock": 252.0,
          "lpr_admissions": 40.0
        },
        {
          "country_harmonized": "Kuwait",
          "acs_stock": 57.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Saudi Arabia",
          "acs_stock": 7.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Turkey",
          "acs_stock": 39.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Ethiopia",
          "acs_stock": 69.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Kenya",
          "acs_stock": 11920.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Cameroon",
          "acs_stock": 92.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Egypt",
          "acs_stock": 373.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Morocco",
          "acs_stock": 85.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Sudan",
          "acs_stock": 164.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "South Africa",
          "acs_stock": 387.0,
          "lpr_admissions": 20.0
        },
        {
          "country_harmonized": "Ghana",
          "acs_stock": 572.0,
          "lpr_admissions": 60.0
        },
        {
          "country_harmonized": "Liberia",
          "acs_stock": 19.0,
          "lpr_admissions": 120.0
        },
        {
          "country_harmonized": "Nigeria",
          "acs_stock": 140.0,
          "lpr_admissions": 80.0
        },
        {
          "country_harmonized": "Sierra Leone",
          "acs_stock": 13.0,
          "lpr_admissions": 10.0
        },
        {
          "country_harmonized": "Canada",
          "acs_stock": 3038.0,
          "lpr_admissions": 70.0
        }
      ]
    }
  },
  "module_4_beta_regression": {
    "model_type": "Beta Regression (Binomial GLM with Logit Link)",
    "dependent_variable": "nd_share_bounded (ND share of US international migration)",
    "n_observations": 14,
    "coefficient_table": {
      "const": {
        "estimate": -6.33309592954536,
        "std_error": 27.28540150477355,
        "z_statistic": -0.2321056528502024,
        "p_value": 0.816455954423603,
        "ci_95_lower": -59.81150018261651,
        "ci_95_upper": 47.145308323525796,
        "odds_ratio": 0.0017765252494990238,
        "or_ci_95_lower": 1.0572933881658695e-26,
        "or_ci_95_upper": 2.985020049716282e+20
      },
      "time_trend": {
        "estimate": 0.011495854533941974,
        "std_error": 1.6434035376596923,
        "z_statistic": 0.006995150168845795,
        "p_value": 0.9944187231971073,
        "ci_95_lower": -3.2095158913447692,
        "ci_95_upper": 3.232507600412653,
        "odds_ratio": 1.0115621858041999,
        "or_ci_95_lower": 0.04037615498758711,
        "or_ci_95_upper": 25.343127795689117
      },
      "covid_2020": {
        "estimate": -0.18899999133145862,
        "std_error": 28.132088004319026,
        "z_statistic": -0.0067183065580643025,
        "p_value": 0.9946396072467392,
        "ci_95_lower": -55.32687928970803,
        "ci_95_upper": 54.94887930704512,
        "odds_ratio": 0.8277865138704352,
        "or_ci_95_lower": 9.372201636040184e-25,
        "or_ci_95_upper": 7.3113078351917e+23
      },
      "lag_nd_share": {
        "estimate": -78.81694076634687,
        "std_error": 13056.985075148914,
        "z_statistic": -0.006036381317181522,
        "p_value": 0.9951836937932667,
        "ci_95_lower": -25670.03743473523,
        "ci_95_upper": 25512.403553202534,
        "odds_ratio": 5.891658214076477e-35,
        "or_ci_95_lower": 0.0,
        "or_ci_95_upper": Infinity
      }
    },
    "fit_statistics": {
      "deviance": 0.0017209711746477266,
      "pearson_chi2": 0.0018263128290094614,
      "log_likelihood": -0.14940953583223693,
      "aic": 8.298819071664473,
      "bic": -26.388852324977936,
      "pseudo_r2_mcfadden": 0.0003600419467170157
    },
    "interpretation": {
      "time_trend": "Each year increases log-odds of ND share by 0.0115 (OR: 1.0116)",
      "covid_2020": "COVID year decreases log-odds by 0.1890",
      "lag_nd_share": "Strong persistence: lagged share coefficient = -78.8169"
    },
    "residual_diagnostics": {
      "mean_residual": -1.939578829887204e-14,
      "std_residual": 0.0004893782267439284,
      "min_residual": -0.0006368856512576986,
      "max_residual": 0.0013225885342166058
    }
  },
  "module_4_quantile_regression": {
    "model_type": "Quantile Regression",
    "quantiles_estimated": [
      0.1,
      0.25,
      0.5,
      0.75,
      0.9
    ],
    "levels_model": {
      "dependent_variable": "nd_intl_migration",
      "results_by_quantile": {
        "q10": {
          "quantile": 0.1,
          "coefficients": {
            "const": {
              "estimate": 468.0000004848476,
              "std_error": NaN,
              "bootstrap_se": 607.173114498996,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "time_trend": {
              "estimate": -1.3636358518812426,
              "std_error": NaN,
              "bootstrap_se": 104.06730065890436,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "covid_2020": {
              "estimate": -424.363641966035,
              "std_error": NaN,
              "bootstrap_se": 623.8263025241005,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            }
          },
          "pseudo_r2": 0.16049221741444264,
          "n_observations": 15
        },
        "q25": {
          "quantile": 0.25,
          "coefficients": {
            "const": {
              "estimate": 674.9999969847685,
              "std_error": NaN,
              "bootstrap_se": 700.077423006514,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "time_trend": {
              "estimate": 71.5000004081527,
              "std_error": NaN,
              "bootstrap_se": 141.59990444649742,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "covid_2020": {
              "estimate": -1360.0000010663118,
              "std_error": NaN,
              "bootstrap_se": 1050.403775296347,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            }
          },
          "pseudo_r2": 0.14625143093203052,
          "n_observations": 15
        },
        "q50": {
          "quantile": 0.5,
          "coefficients": {
            "const": {
              "estimate": 576.3333325925902,
              "std_error": 742.5164929267979,
              "bootstrap_se": 476.9384166735156,
              "t_statistic": 0.7761892672859576,
              "p_value": 0.45266479954822714,
              "ci_95_lower": -1041.4711284330033,
              "ci_95_upper": 2194.137793618184
            },
            "time_trend": {
              "estimate": 225.8888889876544,
              "std_error": 91.84585799226207,
              "bootstrap_se": 121.38937168628003,
              "t_statistic": 2.4594346868280694,
              "p_value": 0.03006957159064912,
              "ci_95_lower": 25.773955242669473,
              "ci_95_upper": 426.0038227326394
            },
            "covid_2020": {
              "estimate": -2805.2222224691363,
              "std_error": 1590.8169250735273,
              "bootstrap_se": 1454.0380309910481,
              "t_statistic": -1.7633846976700223,
              "p_value": 0.10325650806730124,
              "ci_95_lower": -6271.314548465045,
              "ci_95_upper": 660.8701035267727
            }
          },
          "pseudo_r2": 0.313690906226044,
          "n_observations": 15
        },
        "q75": {
          "quantile": 0.75,
          "coefficients": {
            "const": {
              "estimate": 676.9999983334862,
              "std_error": NaN,
              "bootstrap_se": 300.2292698049339,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "time_trend": {
              "estimate": 314.00000016661625,
              "std_error": NaN,
              "bootstrap_se": 70.53564408895467,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "covid_2020": {
              "estimate": -3786.9999999998954,
              "std_error": NaN,
              "bootstrap_se": 1695.6982591459396,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            }
          },
          "pseudo_r2": 0.5881184487617958,
          "n_observations": 15
        },
        "q90": {
          "quantile": 0.9,
          "coefficients": {
            "const": {
              "estimate": 907.6923053734893,
              "std_error": NaN,
              "bootstrap_se": 323.6983651848796,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "time_trend": {
              "estimate": 301.30769243180805,
              "std_error": NaN,
              "bootstrap_se": 60.919567043931636,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            },
            "covid_2020": {
              "estimate": -3890.7692296915698,
              "std_error": NaN,
              "bootstrap_se": 1807.841439294003,
              "t_statistic": NaN,
              "p_value": NaN,
              "ci_95_lower": NaN,
              "ci_95_upper": NaN
            }
          },
          "pseudo_r2": 0.6972614575536038,
          "n_observations": 15
        }
      }
    },
    "share_model": {
      "dependent_variable": "nd_share_percent",
      "results_by_quantile": {
        "q10": {
          "quantile": 0.1,
          "coefficients": {
            "const": {
              "estimate": 0.03781292881021869,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "time_trend": {
              "estimate": -0.0002834782435944816,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "covid_2020": {
              "estimate": 0.0668225997803909,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "lag_nd_share": {
              "estimate": 44.00830133802128,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            }
          },
          "pseudo_r2": 0.20456678522000526,
          "n_observations": 14
        },
        "q25": {
          "quantile": 0.25,
          "coefficients": {
            "const": {
              "estimate": 0.056974146691965544,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "time_trend": {
              "estimate": 0.0008048023222470557,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "covid_2020": {
              "estimate": 0.04545695859008769,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "lag_nd_share": {
              "estimate": 36.224599979772165,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            }
          },
          "pseudo_r2": 0.08880661997855466,
          "n_observations": 14
        },
        "q50": {
          "quantile": 0.5,
          "coefficients": {
            "const": {
              "estimate": 0.13976840256363232,
              "std_error": 0.03710997029703015,
              "t_statistic": 3.7663302192084416,
              "p_value": 0.0036836654319441524
            },
            "time_trend": {
              "estimate": 0.002713734598340345,
              "std_error": 0.002261320365131168,
              "t_statistic": 1.2000664037635969,
              "p_value": 0.25777164410632064
            },
            "covid_2020": {
              "estimate": -0.020125493646911963,
              "std_error": 0.03703538474701997,
              "t_statistic": -0.543412571096115,
              "p_value": 0.5987496613707854
            },
            "lag_nd_share": {
              "estimate": 3.6658677834420814,
              "std_error": 17.480270770932567,
              "t_statistic": 0.20971458803361023,
              "p_value": 0.8381013089515594
            }
          },
          "pseudo_r2": 0.14290356579295105,
          "n_observations": 14
        },
        "q75": {
          "quantile": 0.75,
          "coefficients": {
            "const": {
              "estimate": 0.20568050589271536,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "time_trend": {
              "estimate": 0.00014847656697547507,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "covid_2020": {
              "estimate": -0.04392390436767357,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "lag_nd_share": {
              "estimate": -11.09821807479966,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            }
          },
          "pseudo_r2": 0.12289677484556627,
          "n_observations": 14
        },
        "q90": {
          "quantile": 0.9,
          "coefficients": {
            "const": {
              "estimate": 0.23576457561263897,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "time_trend": {
              "estimate": -0.0012252895359304294,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "covid_2020": {
              "estimate": -0.05324795602994792,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            },
            "lag_nd_share": {
              "estimate": -17.396618829340696,
              "std_error": NaN,
              "t_statistic": NaN,
              "p_value": NaN
            }
          },
          "pseudo_r2": 0.12269896214447573,
          "n_observations": 14
        }
      }
    },
    "quantile_process": {
      "time_trend": {
        "0.1": -1.3636358518812426,
        "0.25": 71.5000004081527,
        "0.5": 225.8888889876544,
        "0.75": 314.00000016661625,
        "0.9": 301.30769243180805
      },
      "covid_2020": {
        "0.1": -424.363641966035,
        "0.25": -1360.0000010663118,
        "0.5": -2805.2222224691363,
        "0.75": -3786.9999999998954,
        "0.9": -3890.7692296915698
      }
    },
    "ols_comparison": {
      "ols_vs_median": {
        "ols_const": 490.82034346103023,
        "median_const": 576.3333325925902,
        "ols_trend": 210.97384412153235,
        "median_trend": 225.8888889876544,
        "ols_covid": -2570.558784676354,
        "median_covid": -2805.2222224691363
      }
    },
    "interpretation": {
      "trend_pattern": "Positive trend in migration; effect increases at higher quantiles",
      "covid_pattern": "COVID effect magnitude varies across distribution"
    }
  },
  "module_4_regression_extensions": {
    "module": "4",
    "analysis": "regression_extensions_beta_quantile_robust",
    "generated": "2025-12-29T06:06:05.817899+00:00",
    "input_files": [
      "module_3_1_panel_data.parquet",
      "nd_migration_summary.csv"
    ],
    "parameters": {
      "panel_observations": 765,
      "nd_time_series_length": 15,
      "years": [
        2010,
        2011,
        2012,
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023,
        2024
      ],
      "models_estimated": {
        "beta_regression": {
          "family": "Binomial (quasi-beta)",
          "link": "Logit",
          "predictors": [
            "time_trend",
            "covid_2020",
            "lag_nd_share"
          ]
        },
        "quantile_regression": {
          "quantiles": [
            0.1,
            0.25,
            0.5,
            0.75,
            0.9
          ],
          "predictors": [
            "time_trend",
            "covid_2020"
          ],
          "bootstrap_iterations": 500
        },
        "robust_regression": {
          "estimators": [
            "Huber M-estimator",
            "Tukey Biweight"
          ],
          "comparison_baseline": "OLS"
        }
      }
    },
    "results": {
      "beta_regression": {
        "pseudo_r2": 0.0003600419467170157,
        "aic": 8.298819071664473,
        "time_trend_odds_ratio": 1.0115621858041999,
        "covid_odds_ratio": 0.8277865138704352
      },
      "quantile_regression": {
        "median_trend": 225.8888889876544,
        "trend_heterogeneity": 315.3636360184975,
        "covid_effect_range": [
          -3890.7692296915698,
          -424.363641966035
        ]
      },
      "robust_regression": {
        "ols_r_squared": 0.49983497504012064,
        "outliers_identified": [
          2019,
          2021
        ],
        "percent_diff_tukey_ols_trend": 22.13423433092716
      },
      "comparison_table": {
        "ols_vs_quantile_vs_robust": {
          "time_trend": {
            "ols": 210.97384412153235,
            "q10": -1.3636358518812426,
            "q25": 71.5000004081527,
            "q50": 225.8888889876544,
            "q75": 314.00000016661625,
            "q90": 301.30769243180805,
            "huber": 237.32437175825825,
            "tukey": 257.6712891563573
          },
          "covid_2020": {
            "ols": -2570.558784676354,
            "q10": -424.363641966035,
            "q25": -1360.0000010663118,
            "q50": -2805.2222224691363,
            "q75": -3786.9999999998954,
            "q90": -3890.7692296915698,
            "huber": -2837.969580705906,
            "tukey": -3000.817892060426
          }
        }
      }
    },
    "diagnostics": {
      "beta_regression": {
        "deviance": 0.0017209711746477266,
        "pearson_chi2": 0.0018263128290094614,
        "residual_mean": -1.939578829887204e-14,
        "residual_std": 0.0004893782267439284
      },
      "quantile_regression": {
        "pseudo_r2_by_quantile": {
          "q10": 0.16049221741444264,
          "q25": 0.14625143093203052,
          "q50": 0.313690906226044,
          "q75": 0.5881184487617958,
          "q90": 0.6972614575536038
        }
      },
      "robust_regression": {
        "year_2020_weights": {
          "huber": 1.0,
          "tukey": 1.0
        }
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:05:56.851914+00:00",
        "category": "data_preparation",
        "decision": "Bounded ND share to (epsilon, 1-epsilon) for beta regression",
        "rationale": "Beta regression requires outcomes strictly between 0 and 1",
        "alternatives_considered": [
          "Use quasi-binomial GLM",
          "Transform with logit before OLS"
        ],
        "evidence": "Original range: [0.001016, 0.003031]",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:05:56.861653+00:00",
        "category": "methodology",
        "decision": "Used GLM with binomial family as quasi-beta regression",
        "rationale": "Native beta regression not in statsmodels; binomial GLM with logit link approximates beta regression for proportions",
        "alternatives_considered": [
          "Use betareg R package via rpy2",
          "Use fractional logit regression"
        ],
        "evidence": "Pseudo R-squared: 0.0004",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:06:03.858817+00:00",
        "category": "methodology",
        "decision": "Estimated quantile regression at 10th, 25th, 50th, 75th, and 90th percentiles",
        "rationale": "Captures heterogeneous effects across the distribution; reveals if relationships differ at extremes",
        "alternatives_considered": [
          "Additional quantiles (5th, 95th)",
          "Continuous quantile process"
        ],
        "evidence": "Bootstrap SE used for inference (n_boot=500)",
        "reversible": true
      },
      {
        "decision_id": "D004",
        "timestamp": "2025-12-29T06:06:03.866707+00:00",
        "category": "methodology",
        "decision": "Used Huber and Tukey biweight M-estimators for robust regression",
        "rationale": "Huber provides moderate robustness; Tukey biweight provides high breakdown point",
        "alternatives_considered": [
          "Least trimmed squares (LTS)",
          "S-estimator"
        ],
        "evidence": "Identified 2 Huber outliers, 2 Tukey outliers",
        "reversible": true
      }
    ],
    "next_steps": [
      "Use quantile regression insights for scenario analysis (Module 5)",
      "Robust estimates inform sensitivity analysis for projections",
      "Beta regression framework applicable to other proportional outcomes",
      "Compare results with time series models from Module 2"
    ]
  },
  "module_4_robust_regression": {
    "model_type": "Robust Regression (M-estimators)",
    "estimators": [
      "OLS",
      "Huber M-estimator",
      "Tukey Biweight"
    ],
    "n_observations": 15,
    "comparison_table": {
      "variable": [
        "const",
        "time_trend",
        "covid_2020"
      ],
      "ols": {
        "const": {
          "estimate": 490.82034346103023,
          "std_error": 556.7416336396763,
          "t_stat": 0.8815944664535178,
          "p_value": 0.39531165734653073
        },
        "time_trend": {
          "estimate": 210.97384412153235,
          "std_error": 68.86636661778635,
          "t_stat": 3.0635251209411622,
          "p_value": 0.009834412280893108
        },
        "covid_2020": {
          "estimate": -2570.558784676354,
          "std_error": 1192.8004591467122,
          "t_stat": -2.155061867192139,
          "p_value": 0.052169558600296956
        }
      },
      "huber": {
        "const": {
          "estimate": 494.7258631233226,
          "std_error": 495.87828249398393,
          "t_stat": 0.9976760035449318,
          "p_value": 0.3184364929478516
        },
        "time_trend": {
          "estimate": 237.32437175825825,
          "std_error": 61.337851413732075,
          "t_stat": 3.86913408748985,
          "p_value": 0.00010922256578593059
        },
        "covid_2020": {
          "estimate": -2837.969580705906,
          "std_error": 1062.4027507569444,
          "t_stat": -2.6712746919037054,
          "p_value": 0.007556378169232833
        }
      },
      "tukey": {
        "const": {
          "estimate": 454.10500049685356,
          "std_error": 510.10358510896725,
          "t_stat": 0.8902211506705028,
          "p_value": 0.37334714984592743
        },
        "time_trend": {
          "estimate": 257.6712891563573,
          "std_error": 63.09745559265436,
          "t_stat": 4.083703324264548,
          "p_value": 4.432361204644638e-05
        },
        "covid_2020": {
          "estimate": -3000.817892060426,
          "std_error": 1092.8799891479837,
          "t_stat": -2.745789036177598,
          "p_value": 0.006036556718663912
        }
      }
    },
    "percent_difference_from_ols": {
      "huber_vs_ols": {
        "const": 0.7957126704961957,
        "time_trend": 12.489949996619757,
        "covid_2020": -10.402827495081782
      },
      "tukey_vs_ols": {
        "const": -7.480403665682974,
        "time_trend": 22.13423433092716,
        "covid_2020": -16.73796024229975
      }
    },
    "influential_observations": {
      "huber_outliers": {
        "count": 2,
        "years": [
          2019,
          2021
        ],
        "threshold": 0.5
      },
      "tukey_outliers": {
        "count": 2,
        "years": [
          2019,
          2021
        ],
        "threshold": 0.5
      }
    },
    "weights_by_year": {
      "2010": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9999677415766015
      },
      "2011": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9589760692681009
      },
      "2012": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9823073719271614
      },
      "2013": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9998786919531018
      },
      "2014": {
        "huber_weight": 1.0,
        "tukey_weight": 0.954530662056296
      },
      "2015": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9577641498147971
      },
      "2016": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9718659543165306
      },
      "2017": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9371318046318299
      },
      "2018": {
        "huber_weight": 0.8405553700665503,
        "tukey_weight": 0.748429734886021
      },
      "2019": {
        "huber_weight": 0.4824855816346988,
        "tukey_weight": 0.37993861166197196
      },
      "2020": {
        "huber_weight": 1.0,
        "tukey_weight": 1.0
      },
      "2021": {
        "huber_weight": 0.3632160290969619,
        "tukey_weight": 0.10627140908624641
      },
      "2022": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9887818191219172
      },
      "2023": {
        "huber_weight": 1.0,
        "tukey_weight": 0.9640230709590529
      },
      "2024": {
        "huber_weight": 0.7348364579221597,
        "tukey_weight": 0.8189660478394799
      }
    },
    "ols_diagnostics": {
      "r_squared": 0.49983497504012064,
      "adj_r_squared": 0.4164741375468074,
      "f_statistic": 5.9960407077269915,
      "f_pvalue": 0.015655967722375635
    },
    "interpretation": {
      "robustness": "Substantial differences indicate outliers affect OLS estimates",
      "covid_2020": "Year 2020 weight: Huber=1.000, Tukey=1.000"
    }
  },
  "module_5_gravity_model": {
    "model_1_simple_network": {
      "specification": "Flow ~ log(Diaspora_Stock)",
      "n_observations": 2680,
      "coefficients": {
        "const": {
          "estimate": 2.425075765043262,
          "std_error": 0.005695916421443691,
          "z_statistic": 425.75690821471017,
          "p_value": 0.0
        },
        "log_diaspora": {
          "estimate": 0.3593043418914478,
          "std_error": 0.0006217781220717,
          "z_statistic": 577.8658481811536,
          "p_value": 0.0,
          "ci_95_lower": 0.3580856791658123,
          "ci_95_upper": 0.36052300461708325
        }
      },
      "fit_statistics": {
        "log_likelihood": -732814.6422376223,
        "aic": 1465633.2844752446,
        "bic": 1429128.2402503546,
        "pseudo_r2_mcfadden": 0.18636866529792995,
        "correlation_actual_fitted": 0.26958159302944995,
        "deviance": 1450267.2262632009,
        "pearson_chi2": 8262771.544811087
      }
    },
    "model_2_full_gravity": {
      "specification": "Flow ~ log(Diaspora) + log(Origin_Mass) + log(Dest_Mass)",
      "n_observations": 2680,
      "coefficients": {
        "const": {
          "estimate": -6.38805451777912,
          "std_error": 0.033625353209452584,
          "z_statistic": -189.97732092174257,
          "p_value": 0.0,
          "ci_95_lower": -6.453958999037086,
          "ci_95_upper": -6.322150036521155
        },
        "log_diaspora": {
          "estimate": 0.09623188025572206,
          "std_error": 0.001651689850484478,
          "z_statistic": 58.26268183914497,
          "p_value": 0.0,
          "ci_95_lower": 0.09299462763514213,
          "ci_95_upper": 0.09946913287630199
        },
        "log_origin_total": {
          "estimate": 0.03942410028837273,
          "std_error": 0.0018942382906626239,
          "z_statistic": 20.812640354018914,
          "p_value": 3.325175322479041e-96,
          "ci_95_lower": 0.035711461460537275,
          "ci_95_upper": 0.04313673911620819
        },
        "log_state_total": {
          "estimate": 0.7553658503683937,
          "std_error": 0.0018419808741730768,
          "z_statistic": 410.0834384111079,
          "p_value": 0.0,
          "ci_95_lower": 0.7517556341948028,
          "ci_95_upper": 0.7589760665419845
        }
      },
      "fit_statistics": {
        "log_likelihood": -556916.0524988244,
        "aic": 1113840.1049976489,
        "bic": 1077346.847916906,
        "pseudo_r2_mcfadden": 0.38166580606518963,
        "correlation_actual_fitted": 0.37163548508844235,
        "deviance": 1098470.0467856051,
        "pearson_chi2": 2630523.389042354
      }
    },
    "model_3_state_fixed_effects": {
      "specification": "Flow ~ log(Diaspora) + State_FE",
      "n_observations": 2680,
      "n_state_dummies": 50,
      "network_elasticity": {
        "estimate": 0.11508326281663521,
        "std_error": 0.0007577257705495276,
        "z_statistic": 151.87983211020136,
        "p_value": 0.0,
        "ci_95_lower": 0.11359814759620028,
        "ci_95_upper": 0.11656837803707014
      },
      "fit_statistics": {
        "log_likelihood": -539772.96211849,
        "aic": 1079649.92423698,
        "bic": 1043439.5586157652,
        "pseudo_r2_mcfadden": 0.4006994807533475,
        "correlation_actual_fitted": NaN
      }
    },
    "model_comparison": {
      "preferred_model": "Full Gravity",
      "aic_comparison": {
        "simple": 1465633.2844752446,
        "full": 1113840.1049976489,
        "state_fe": 1079649.92423698
      },
      "network_elasticity_comparison": {
        "simple": 0.3593043418914478,
        "full": 0.09623188025572206,
        "state_fe": 0.11508326281663521
      }
    },
    "interpretation": {
      "network_elasticity_full": 0.09623188025572206,
      "interpretation": "A 1% increase in diaspora stock is associated with a 0.0962% increase in new LPR admissions",
      "effect_strength": "weak"
    }
  },
  "module_5_gravity_network": {
    "module": "5",
    "analysis": "gravity_model_network_analysis",
    "generated": "2025-12-29T06:18:20.831777+00:00",
    "input_files": [
      "dhs_lpr_by_state_country.parquet",
      "acs_foreign_born_by_state_origin.parquet",
      "results/module_3_2_origin_panel.parquet"
    ],
    "parameters": {
      "data_preparation": {
        "flow_variable": "DHS LPR admissions (FY2023)",
        "diaspora_stock_variable": "ACS foreign-born by origin country (2023)",
        "destination_mass": "ACS total foreign-born by state (2023)",
        "origin_mass": "ACS national total foreign-born by origin country (2023)",
        "observations_final": 2680,
        "unique_states": 51,
        "unique_origins": 71
      },
      "gravity_model": {
        "estimator": "PPML (Poisson Pseudo-Maximum Likelihood)",
        "family": "Poisson",
        "link": "log",
        "models_estimated": 3
      },
      "network_analysis": {
        "cross_sectional_method": "PPML",
        "panel_method": "OLS",
        "controls": [
          "initial_size"
        ]
      }
    },
    "results": {
      "gravity_model": {
        "model_1_simple_network": {
          "specification": "Flow ~ log(Diaspora_Stock)",
          "n_observations": 2680,
          "coefficients": {
            "const": {
              "estimate": 2.425075765043262,
              "std_error": 0.005695916421443691,
              "z_statistic": 425.75690821471017,
              "p_value": 0.0
            },
            "log_diaspora": {
              "estimate": 0.3593043418914478,
              "std_error": 0.0006217781220717,
              "z_statistic": 577.8658481811536,
              "p_value": 0.0,
              "ci_95_lower": 0.3580856791658123,
              "ci_95_upper": 0.36052300461708325
            }
          },
          "fit_statistics": {
            "log_likelihood": -732814.6422376223,
            "aic": 1465633.2844752446,
            "bic": 1429128.2402503546,
            "pseudo_r2_mcfadden": 0.18636866529792995,
            "correlation_actual_fitted": 0.26958159302944995,
            "deviance": 1450267.2262632009,
            "pearson_chi2": 8262771.544811087
          }
        },
        "model_2_full_gravity": {
          "specification": "Flow ~ log(Diaspora) + log(Origin_Mass) + log(Dest_Mass)",
          "n_observations": 2680,
          "coefficients": {
            "const": {
              "estimate": -6.38805451777912,
              "std_error": 0.033625353209452584,
              "z_statistic": -189.97732092174257,
              "p_value": 0.0,
              "ci_95_lower": -6.453958999037086,
              "ci_95_upper": -6.322150036521155
            },
            "log_diaspora": {
              "estimate": 0.09623188025572206,
              "std_error": 0.001651689850484478,
              "z_statistic": 58.26268183914497,
              "p_value": 0.0,
              "ci_95_lower": 0.09299462763514213,
              "ci_95_upper": 0.09946913287630199
            },
            "log_origin_total": {
              "estimate": 0.03942410028837273,
              "std_error": 0.0018942382906626239,
              "z_statistic": 20.812640354018914,
              "p_value": 3.325175322479041e-96,
              "ci_95_lower": 0.035711461460537275,
              "ci_95_upper": 0.04313673911620819
            },
            "log_state_total": {
              "estimate": 0.7553658503683937,
              "std_error": 0.0018419808741730768,
              "z_statistic": 410.0834384111079,
              "p_value": 0.0,
              "ci_95_lower": 0.7517556341948028,
              "ci_95_upper": 0.7589760665419845
            }
          },
          "fit_statistics": {
            "log_likelihood": -556916.0524988244,
            "aic": 1113840.1049976489,
            "bic": 1077346.847916906,
            "pseudo_r2_mcfadden": 0.38166580606518963,
            "correlation_actual_fitted": 0.37163548508844235,
            "deviance": 1098470.0467856051,
            "pearson_chi2": 2630523.389042354
          }
        },
        "model_3_state_fixed_effects": {
          "specification": "Flow ~ log(Diaspora) + State_FE",
          "n_observations": 2680,
          "n_state_dummies": 50,
          "network_elasticity": {
            "estimate": 0.11508326281663521,
            "std_error": 0.0007577257705495276,
            "z_statistic": 151.87983211020136,
            "p_value": 0.0,
            "ci_95_lower": 0.11359814759620028,
            "ci_95_upper": 0.11656837803707014
          },
          "fit_statistics": {
            "log_likelihood": -539772.96211849,
            "aic": 1079649.92423698,
            "bic": 1043439.5586157652,
            "pseudo_r2_mcfadden": 0.4006994807533475,
            "correlation_actual_fitted": NaN
          }
        },
        "model_comparison": {
          "preferred_model": "Full Gravity",
          "aic_comparison": {
            "simple": 1465633.2844752446,
            "full": 1113840.1049976489,
            "state_fe": 1079649.92423698
          },
          "network_elasticity_comparison": {
            "simple": 0.3593043418914478,
            "full": 0.09623188025572206,
            "state_fe": 0.11508326281663521
          }
        },
        "interpretation": {
          "network_elasticity_full": 0.09623188025572206,
          "interpretation": "A 1% increase in diaspora stock is associated with a 0.0962% increase in new LPR admissions",
          "effect_strength": "weak"
        }
      },
      "network_effects": {
        "nd_cross_sectional_ppml": {
          "n_observations": 33,
          "n_origin_countries": 33,
          "coefficients": {
            "const": {
              "estimate": 4.455028625671791,
              "std_error": 0.06684361605694707,
              "p_value": 0.0
            },
            "log_diaspora": {
              "estimate": -0.15227419029289166,
              "std_error": 0.013729961327249943,
              "z_statistic": -11.090649613897462,
              "p_value": 1.3927267286089465e-28,
              "ci_95_lower": -0.1791844200034293,
              "ci_95_upper": -0.12536396058235402
            }
          },
          "fit_statistics": {
            "pseudo_r2": 0.0435076280623401,
            "correlation_actual_fitted": 0.11607716491668517,
            "aic": 2621.107644373756,
            "deviance": 2456.4332457031323
          }
        },
        "nd_panel_ols": {
          "n_observations": 707,
          "n_countries": 88,
          "years": [
            2010,
            2011,
            2012,
            2013,
            2014,
            2015,
            2016,
            2017,
            2018,
            2019,
            2020,
            2021,
            2022,
            2023
          ],
          "coefficients": {
            "const": {
              "estimate": 0.48338494120539377,
              "std_error": 0.25500531278773847,
              "p_value": 0.0584233191516704
            },
            "network_elasticity": {
              "estimate": 0.8506798478794928,
              "std_error": 0.04556601009543283,
              "t_statistic": 18.669175688146503,
              "p_value": 1.656176778734832e-63,
              "ci_95_lower": 0.7612185239322886,
              "ci_95_upper": 0.940141171826697
            }
          },
          "fit_statistics": {
            "r_squared": 0.3308263023130543,
            "adj_r_squared": 0.3298771197631438,
            "f_statistic": 348.53812087488035,
            "f_p_value": 1.6561767787344346e-63
          },
          "interpretation": {
            "elasticity": 0.8506798478794928,
            "description": "A 1% increase in lagged diaspora stock is associated with a 0.8507% increase in current stock"
          }
        },
        "nd_panel_with_controls": {
          "n_observations": 707,
          "coefficients": {
            "const": {
              "estimate": 0.17482346017649086,
              "std_error": 0.24585500009046263,
              "t_statistic": 0.7110836066468624,
              "p_value": 0.47726795050532145
            },
            "log_stock_lag1": {
              "estimate": 0.6769690728996094,
              "std_error": 0.04805494853574729,
              "t_statistic": 14.087395648671295,
              "p_value": 6.9271496173822606e-40
            },
            "log_initial": {
              "estimate": 0.2615664562992315,
              "std_error": 0.030926590073355128,
              "t_statistic": 8.45765587731525,
              "p_value": 1.5710042534632793e-16
            }
          },
          "fit_statistics": {
            "r_squared": 0.39254818907103006,
            "adj_r_squared": 0.39082247369907275
          },
          "interpretation": {
            "network_elasticity_with_controls": 0.6769690728996094,
            "initial_size_effect": 0.2615664562992315
          }
        },
        "summary": {
          "cross_sectional_elasticity": -0.15227419029289166,
          "panel_elasticity": 0.8506798478794928,
          "controlled_elasticity": 0.6769690728996094
        }
      }
    },
    "diagnostics": {
      "gravity_model": {
        "n_observations": 2680,
        "deviance": 1098470.0467856051,
        "pearson_chi2": 2630523.389042354,
        "correlation_actual_fitted": 0.37163548508844235
      },
      "nd_network": {
        "cross_sectional_n": 33,
        "panel_n": 707
      }
    },
    "warnings": [
      "Gravity model fit is moderate - consider additional controls"
    ],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:18:19.146705+00:00",
        "category": "data_preparation",
        "decision": "Harmonized country names between DHS LPR and ACS datasets",
        "rationale": "Different data sources use different country naming conventions",
        "alternatives_considered": [
          "Fuzzy matching",
          "Manual mapping only"
        ],
        "evidence": "Matched 71 countries across datasets",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:18:19.223331+00:00",
        "category": "methodology",
        "decision": "Used PPML for gravity estimation instead of log-linear OLS",
        "rationale": "PPML handles zeros naturally and is consistent under heteroskedasticity (Santos Silva & Tenreyro 2006)",
        "alternatives_considered": [
          "Log-linear OLS with log(flow+1)",
          "Negative binomial regression",
          "Zero-inflated Poisson"
        ],
        "evidence": "Full model pseudo-R2: 0.3817",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:18:19.252298+00:00",
        "category": "methodology",
        "decision": "Estimated network effects using both cross-sectional PPML and panel OLS",
        "rationale": "Cross-sectional captures contemporaneous flow-stock relationship; panel captures dynamic persistence",
        "alternatives_considered": [
          "GMM panel estimation",
          "Instrumental variables"
        ],
        "evidence": "Cross-sectional N=33, Panel N=707",
        "reversible": true
      }
    ],
    "next_steps": [
      "Compare gravity model predictions with Module 2 time series forecasts",
      "Use network elasticity for projection scenarios",
      "Investigate origin-specific network effects for major sending countries",
      "Consider instrumental variable estimation to address endogeneity"
    ]
  },
  "module_5_network_effects": {
    "nd_cross_sectional_ppml": {
      "n_observations": 33,
      "n_origin_countries": 33,
      "coefficients": {
        "const": {
          "estimate": 4.455028625671791,
          "std_error": 0.06684361605694707,
          "p_value": 0.0
        },
        "log_diaspora": {
          "estimate": -0.15227419029289166,
          "std_error": 0.013729961327249943,
          "z_statistic": -11.090649613897462,
          "p_value": 1.3927267286089465e-28,
          "ci_95_lower": -0.1791844200034293,
          "ci_95_upper": -0.12536396058235402
        }
      },
      "fit_statistics": {
        "pseudo_r2": 0.0435076280623401,
        "correlation_actual_fitted": 0.11607716491668517,
        "aic": 2621.107644373756,
        "deviance": 2456.4332457031323
      }
    },
    "nd_panel_ols": {
      "n_observations": 707,
      "n_countries": 88,
      "years": [
        2010,
        2011,
        2012,
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023
      ],
      "coefficients": {
        "const": {
          "estimate": 0.48338494120539377,
          "std_error": 0.25500531278773847,
          "p_value": 0.0584233191516704
        },
        "network_elasticity": {
          "estimate": 0.8506798478794928,
          "std_error": 0.04556601009543283,
          "t_statistic": 18.669175688146503,
          "p_value": 1.656176778734832e-63,
          "ci_95_lower": 0.7612185239322886,
          "ci_95_upper": 0.940141171826697
        }
      },
      "fit_statistics": {
        "r_squared": 0.3308263023130543,
        "adj_r_squared": 0.3298771197631438,
        "f_statistic": 348.53812087488035,
        "f_p_value": 1.6561767787344346e-63
      },
      "interpretation": {
        "elasticity": 0.8506798478794928,
        "description": "A 1% increase in lagged diaspora stock is associated with a 0.8507% increase in current stock"
      }
    },
    "nd_panel_with_controls": {
      "n_observations": 707,
      "coefficients": {
        "const": {
          "estimate": 0.17482346017649086,
          "std_error": 0.24585500009046263,
          "t_statistic": 0.7110836066468624,
          "p_value": 0.47726795050532145
        },
        "log_stock_lag1": {
          "estimate": 0.6769690728996094,
          "std_error": 0.04805494853574729,
          "t_statistic": 14.087395648671295,
          "p_value": 6.9271496173822606e-40
        },
        "log_initial": {
          "estimate": 0.2615664562992315,
          "std_error": 0.030926590073355128,
          "t_statistic": 8.45765587731525,
          "p_value": 1.5710042534632793e-16
        }
      },
      "fit_statistics": {
        "r_squared": 0.39254818907103006,
        "adj_r_squared": 0.39082247369907275
      },
      "interpretation": {
        "network_elasticity_with_controls": 0.6769690728996094,
        "initial_size_effect": 0.2615664562992315
      }
    },
    "summary": {
      "cross_sectional_elasticity": -0.15227419029289166,
      "panel_elasticity": 0.8506798478794928,
      "controlled_elasticity": 0.6769690728996094
    }
  },
  "module_6_elastic_net": {
    "model_type": "Elastic Net Regularized Regression",
    "dependent_variable": "intl_migration_share (state share of US international migration)",
    "n_observations": 765,
    "n_features": 5,
    "optimal_parameters": {
      "alpha": 0.0007196856730011514,
      "l1_ratio": 0.9,
      "interpretation": {
        "alpha": "Regularization strength",
        "l1_ratio": "90% L1 (Lasso) vs 10% L2 (Ridge)"
      }
    },
    "coefficients": {
      "log_population": {
        "coefficient": 0.014787460965446197,
        "abs_coefficient": 0.014787460965446197,
        "standardized": true
      },
      "natural_change": {
        "coefficient": 0.011395804681460451,
        "abs_coefficient": 0.011395804681460451,
        "standardized": true
      },
      "birth_rate": {
        "coefficient": -0.002563681414208582,
        "abs_coefficient": 0.002563681414208582,
        "standardized": true
      },
      "death_rate": {
        "coefficient": 0.0,
        "abs_coefficient": 0.0,
        "standardized": true
      },
      "dom_mig_rate": {
        "coefficient": 0.0,
        "abs_coefficient": 0.0,
        "standardized": true
      }
    },
    "coefficient_ranking": [
      "log_population",
      "natural_change",
      "birth_rate",
      "death_rate",
      "dom_mig_rate"
    ],
    "intercept": 0.01960784313725488,
    "fit_statistics": {
      "r_squared": 0.6189146139503882,
      "rmse": 0.018509623372834745,
      "n_nonzero_coefficients": 3,
      "sparsity_ratio": 0.4
    },
    "cross_validation": {
      "n_folds": 5,
      "cv_r2_mean": 0.5993192668640515,
      "cv_r2_std": 0.13094438425214172,
      "cv_r2_scores": [
        0.7162335408780818,
        0.5804257043152299,
        0.48507944637640965,
        0.43636746055982945,
        0.7784901821907065
      ]
    },
    "feature_importance_spss_style": {
      "table_title": "Elastic Net Regression Coefficients",
      "method": "Standardized coefficients (features scaled to mean=0, std=1)",
      "columns": [
        "Variable",
        "B (Standardized)",
        "Abs(B)",
        "Non-zero"
      ],
      "rows": [
        {
          "variable": "log_population",
          "b_standardized": "0.014787",
          "abs_b": "0.014787",
          "nonzero": "Yes"
        },
        {
          "variable": "natural_change",
          "b_standardized": "0.011396",
          "abs_b": "0.011396",
          "nonzero": "Yes"
        },
        {
          "variable": "birth_rate",
          "b_standardized": "-0.002564",
          "abs_b": "0.002564",
          "nonzero": "Yes"
        },
        {
          "variable": "death_rate",
          "b_standardized": "0.000000",
          "abs_b": "0.000000",
          "nonzero": "No"
        },
        {
          "variable": "dom_mig_rate",
          "b_standardized": "0.000000",
          "abs_b": "0.000000",
          "nonzero": "No"
        }
      ]
    }
  },
  "module_6_feature_importance": {
    "model_type": "Random Forest Regressor",
    "dependent_variable": "intl_migration_share",
    "n_observations": 765,
    "n_features": 5,
    "model_parameters": {
      "n_estimators": 500,
      "max_depth": 10,
      "min_samples_split": 5,
      "min_samples_leaf": 2
    },
    "fit_statistics": {
      "r_squared": 0.9873108174677665,
      "rmse": 0.0033775614332350002,
      "oob_score": 0.9532698950435113
    },
    "cross_validation": {
      "n_folds": 5,
      "cv_r2_mean": 0.9447728486626612,
      "cv_r2_std": 0.017115015337408487
    },
    "feature_importance": {
      "log_population": {
        "impurity_importance": 0.930465509316846,
        "permutation_importance_mean": 2.15222826502963,
        "permutation_importance_std": 0.09385315227649314,
        "relative_importance_pct": 93.0465509316846
      },
      "death_rate": {
        "impurity_importance": 0.030272161182999847,
        "permutation_importance_mean": 0.07394478920115674,
        "permutation_importance_std": 0.007683452530828834,
        "relative_importance_pct": 3.0272161182999846
      },
      "dom_mig_rate": {
        "impurity_importance": 0.02597940260865159,
        "permutation_importance_mean": 0.04357682218430379,
        "permutation_importance_std": 0.0038464308199883572,
        "relative_importance_pct": 2.597940260865159
      },
      "birth_rate": {
        "impurity_importance": 0.006801743917914168,
        "permutation_importance_mean": 0.005782249426188398,
        "permutation_importance_std": 0.0004914555051862823,
        "relative_importance_pct": 0.6801743917914168
      },
      "natural_rate": {
        "impurity_importance": 0.006481182973588328,
        "permutation_importance_mean": 0.0047470937748734605,
        "permutation_importance_std": 0.0004918283541563792,
        "relative_importance_pct": 0.6481182973588329
      }
    },
    "importance_ranking": [
      "log_population",
      "death_rate",
      "dom_mig_rate",
      "birth_rate",
      "natural_rate"
    ],
    "feature_importance_spss_style": {
      "table_title": "Random Forest Feature Importance",
      "method": "Permutation importance (30 repeats)",
      "columns": [
        "Variable",
        "Impurity Importance",
        "Permutation Importance",
        "Std Dev",
        "Relative %"
      ],
      "rows": [
        {
          "variable": "log_population",
          "impurity": "0.9305",
          "permutation": "2.1522",
          "std": "0.0939",
          "relative_pct": "93.0%"
        },
        {
          "variable": "death_rate",
          "impurity": "0.0303",
          "permutation": "0.0739",
          "std": "0.0077",
          "relative_pct": "3.0%"
        },
        {
          "variable": "dom_mig_rate",
          "impurity": "0.0260",
          "permutation": "0.0436",
          "std": "0.0038",
          "relative_pct": "2.6%"
        },
        {
          "variable": "birth_rate",
          "impurity": "0.0068",
          "permutation": "0.0058",
          "std": "0.0005",
          "relative_pct": "0.7%"
        },
        {
          "variable": "natural_rate",
          "impurity": "0.0065",
          "permutation": "0.0047",
          "std": "0.0005",
          "relative_pct": "0.6%"
        }
      ]
    }
  },
  "module_6_machine_learning": {
    "module": "6",
    "analysis": "machine_learning_elastic_net_rf_clustering",
    "generated": "2025-12-29T06:19:46.005083+00:00",
    "input_files": [
      "module_3_1_panel_data.parquet",
      "combined_components_of_change.csv",
      "module_1_1_summary_statistics.json",
      "module_1_1_trend_decomposition.json"
    ],
    "parameters": {
      "panel_observations": 765,
      "n_states": 53,
      "years_covered": [
        2010,
        2011,
        2012,
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023,
        2024
      ],
      "models": {
        "elastic_net": {
          "cv_folds": 5,
          "l1_ratios_tested": [
            0.1,
            0.3,
            0.5,
            0.7,
            0.9,
            0.95,
            0.99
          ],
          "alpha_range": "logspace(-6, 1, 50)"
        },
        "random_forest": {
          "n_estimators": 500,
          "max_depth": 10,
          "permutation_repeats": 30
        },
        "clustering": {
          "methods": [
            "K-Means",
            "Hierarchical (Ward)"
          ],
          "k_range": "2-10",
          "optimization_criterion": "Silhouette score"
        }
      }
    },
    "results": {
      "elastic_net": {
        "optimal_alpha": 0.0007196856730011514,
        "optimal_l1_ratio": 0.9,
        "r_squared": 0.6189146139503882,
        "cv_r2": 0.5993192668640515,
        "top_features": [
          "log_population",
          "natural_change",
          "birth_rate"
        ],
        "n_nonzero_coefficients": 3
      },
      "random_forest": {
        "oob_score": 0.9532698950435113,
        "cv_r2": 0.9447728486626612,
        "top_features_by_importance": [
          "log_population",
          "death_rate",
          "dom_mig_rate"
        ]
      },
      "clustering": {
        "optimal_k": 2,
        "silhouette_score": 0.6437630014080847,
        "calinski_harabasz": 12.378947455526893,
        "davies_bouldin": 0.2470529027156777,
        "cluster_sizes": {
          "0": 52,
          "1": 1
        },
        "nd_cluster": 0,
        "nd_peer_states": [
          "Alabama",
          "Alaska",
          "Arizona",
          "Arkansas",
          "California",
          "Colorado",
          "Connecticut",
          "Delaware",
          "District of Columbia",
          "Florida",
          "Georgia",
          "Hawaii",
          "Idaho",
          "Illinois",
          "Indiana",
          "Iowa",
          "Kansas",
          "Kentucky",
          "Louisiana",
          "Maine",
          "Maryland",
          "Massachusetts",
          "Michigan",
          "Minnesota",
          "Mississippi",
          "Missouri",
          "Montana",
          "Nebraska",
          "Nevada",
          "New Hampshire",
          "New Jersey",
          "New Mexico",
          "New York",
          "North Carolina",
          "Ohio",
          "Oklahoma",
          "Oregon",
          "Pennsylvania",
          "Rhode Island",
          "South Carolina",
          "South Dakota",
          "Tennessee",
          "Texas",
          "United States",
          "Utah",
          "Vermont",
          "Virginia",
          "Washington",
          "West Virginia",
          "Wisconsin",
          "Wyoming"
        ]
      }
    },
    "diagnostics": {
      "elastic_net": {
        "cv_scores": [
          0.7162335408780818,
          0.5804257043152299,
          0.48507944637640965,
          0.43636746055982945,
          0.7784901821907065
        ],
        "sparsity": 0.4
      },
      "random_forest": {
        "n_estimators": 500,
        "max_depth": 10
      },
      "clustering": {
        "pca_variance_explained": 0.5601489890550759,
        "optimal_k_by_method": {
          "silhouette": 2,
          "calinski_harabasz": 7,
          "davies_bouldin": 2,
          "elbow": 9
        }
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:19:34.174425+00:00",
        "category": "feature_engineering",
        "decision": "Created 30+ state-level aggregated features from panel data",
        "rationale": "Aggregating across years captures stable state characteristics for clustering",
        "alternatives_considered": [
          "Use year-specific features",
          "Time-weighted aggregation"
        ],
        "evidence": "Generated 36 features for 53 states",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:19:34.232856+00:00",
        "category": "model_selection",
        "decision": "Selected Elastic Net with alpha=0.0007, l1_ratio=0.90",
        "rationale": "ElasticNetCV performs 5-fold cross-validation across alpha and l1_ratio grid",
        "alternatives_considered": [
          "Pure Lasso (l1_ratio=1)",
          "Ridge (l1_ratio=0)",
          "Manual tuning"
        ],
        "evidence": "CV R2 = 0.5993 (+/- 0.2619)",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:19:43.625070+00:00",
        "category": "model_selection",
        "decision": "Used Random Forest with 500 trees, max_depth=10 for feature importance",
        "rationale": "RF provides non-linear importance measures; permutation importance is more reliable than impurity-based",
        "alternatives_considered": [
          "Gradient Boosting",
          "XGBoost",
          "SHAP values"
        ],
        "evidence": "OOB Score = 0.9533, CV R2 = 0.9448",
        "reversible": true
      },
      {
        "decision_id": "D004",
        "timestamp": "2025-12-29T06:19:43.732001+00:00",
        "category": "clustering",
        "decision": "Selected K=2 clusters based on silhouette score",
        "rationale": "Silhouette score balances cluster cohesion and separation",
        "alternatives_considered": [
          "Elbow method suggests K=9",
          "Calinski-Harabasz suggests K=7"
        ],
        "evidence": "Silhouette score at K=2: 0.6438",
        "reversible": true
      }
    ],
    "next_steps": [
      "Use cluster membership for stratified analysis in Module 7",
      "Compare ND with peer states identified in same cluster",
      "Apply feature importance insights to projection model refinement",
      "Consider ensemble of Elastic Net and RF for prediction"
    ]
  },
  "module_6_state_clusters": {
    "method": {
      "primary": "K-Means Clustering",
      "secondary": "Hierarchical Agglomerative Clustering (Ward linkage)"
    },
    "n_states": 53,
    "n_features": 8,
    "features_used": [
      "avg_intl_share",
      "avg_intl_mig_rate",
      "avg_dom_mig_rate",
      "avg_birth_rate",
      "avg_death_rate",
      "avg_growth_rate",
      "log_avg_population",
      "intl_share_volatility"
    ],
    "optimal_k_analysis": {
      "k_range_tested": [
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10
      ],
      "inertias": [
        341.18584905774264,
        267.15336192624784,
        196.33510218173797,
        159.24997770366713,
        135.72641604531233,
        116.36563688589433,
        103.32638833379164,
        92.99422163498059,
        83.82097507341184
      ],
      "silhouette_scores": [
        0.6437630014080847,
        0.23729796003029688,
        0.2594492286974759,
        0.22849479641304912,
        0.2387961857192853,
        0.2612630481786068,
        0.25855497047249215,
        0.24113641339629244,
        0.24452954172616684
      ],
      "calinski_harabasz_scores": [
        12.378947455526893,
        14.677584154551298,
        18.93969352929506,
        19.949768994428172,
        19.964954267041175,
        20.26826974290415,
        19.951081723622163,
        19.576826914617644,
        19.390132175590903
      ],
      "davies_bouldin_scores": [
        0.2470529027156777,
        1.0915371300937038,
        0.8186283310473297,
        0.8719473769988983,
        0.8815346583403612,
        0.8439717983624562,
        0.8100016974554727,
        0.9305352006933885,
        0.8583202809712718
      ],
      "optimal_k_by_method": {
        "silhouette": 2,
        "calinski_harabasz": 7,
        "davies_bouldin": 2,
        "elbow": 9
      },
      "selected_k": 2,
      "selection_criterion": "Maximum silhouette score"
    },
    "quality_metrics": {
      "kmeans": {
        "silhouette_score": 0.6437630014080847,
        "calinski_harabasz": 12.378947455526893,
        "davies_bouldin": 0.2470529027156777,
        "inertia": 341.1858490577427
      },
      "hierarchical": {
        "silhouette_score": 0.6293975215770933,
        "calinski_harabasz": 12.478618863509785,
        "davies_bouldin": 1.2246013504719684
      }
    },
    "cluster_sizes": {
      "kmeans": {
        "0": 52,
        "1": 1
      },
      "hierarchical": {
        "0": 2,
        "1": 51
      }
    },
    "states_by_cluster": {
      "cluster_0": [
        "Alabama",
        "Alaska",
        "Arizona",
        "Arkansas",
        "California",
        "Colorado",
        "Connecticut",
        "Delaware",
        "District of Columbia",
        "Florida",
        "Georgia",
        "Hawaii",
        "Idaho",
        "Illinois",
        "Indiana",
        "Iowa",
        "Kansas",
        "Kentucky",
        "Louisiana",
        "Maine",
        "Maryland",
        "Massachusetts",
        "Michigan",
        "Minnesota",
        "Mississippi",
        "Missouri",
        "Montana",
        "Nebraska",
        "Nevada",
        "New Hampshire",
        "New Jersey",
        "New Mexico",
        "New York",
        "North Carolina",
        "North Dakota",
        "Ohio",
        "Oklahoma",
        "Oregon",
        "Pennsylvania",
        "Rhode Island",
        "South Carolina",
        "South Dakota",
        "Tennessee",
        "Texas",
        "United States",
        "Utah",
        "Vermont",
        "Virginia",
        "Washington",
        "West Virginia",
        "Wisconsin",
        "Wyoming"
      ],
      "cluster_1": [
        "Puerto Rico"
      ]
    },
    "cluster_centroids": [
      {
        "avg_intl_share": 0.01974352423636331,
        "avg_intl_mig_rate": 2.5514691592541485,
        "avg_dom_mig_rate": 0.48077069670441464,
        "avg_birth_rate": 10.618116105657512,
        "avg_death_rate": 8.230729465531773,
        "avg_growth_rate": 5.419643053083777,
        "log_avg_population": 15.248516416539324,
        "intl_share_volatility": 0.0021295470001643974,
        "cluster": 0
      },
      {
        "avg_intl_share": -0.026663260290892134,
        "avg_intl_mig_rate": -11.207639687219324,
        "avg_dom_mig_rate": 0.0,
        "avg_birth_rate": 7.350797341202113,
        "avg_death_rate": 8.251432623133088,
        "avg_growth_rate": -12.108274969150301,
        "log_avg_population": 15.037840258746497,
        "intl_share_volatility": 0.02494921535111482,
        "cluster": 1
      }
    ],
    "cluster_profiles": {
      "cluster_0": {
        "avg_intl_share": {
          "mean": 0.01974352423636331,
          "std": 0.0714082202366677,
          "min": 0.00028652969556203017,
          "max": 0.513331630145446
        },
        "avg_intl_mig_rate": {
          "mean": 2.5514691592541476,
          "std": 1.411471057191095,
          "min": 0.6518499022439382,
          "max": 6.9587657833171725
        },
        "avg_dom_mig_rate": {
          "mean": 0.48077069670441486,
          "std": 4.095460032532119,
          "min": -7.95699713250889,
          "max": 8.923626781647222
        },
        "avg_birth_rate": {
          "mean": 10.618116105657512,
          "std": 1.16579727987434,
          "min": 8.054413121459307,
          "max": 14.208137168193113
        },
        "avg_death_rate": {
          "mean": 8.230729465531775,
          "std": 1.219803873668451,
          "min": 5.2901450235887895,
          "max": 11.802341633257877
        },
        "avg_growth_rate": {
          "mean": 5.419643053083776,
          "std": 4.5993667141268455,
          "min": -3.008128326187209,
          "max": 14.323035032543453
        },
        "log_avg_population": {
          "mean": 15.248516416539323,
          "std": 1.2008567187743966,
          "min": 13.270467010643216,
          "max": 19.59788805207841
        },
        "intl_share_volatility": {
          "mean": 0.002129547000164398,
          "std": 0.0028195319037575724,
          "min": 0.00019931077583195973,
          "max": 0.012586189179605202
        }
      },
      "cluster_1": {
        "avg_intl_share": {
          "mean": -0.02666326029089213,
          "std": NaN,
          "min": -0.02666326029089213,
          "max": -0.02666326029089213
        },
        "avg_intl_mig_rate": {
          "mean": -11.207639687219324,
          "std": NaN,
          "min": -11.207639687219324,
          "max": -11.207639687219324
        },
        "avg_dom_mig_rate": {
          "mean": 0.0,
          "std": NaN,
          "min": 0.0,
          "max": 0.0
        },
        "avg_birth_rate": {
          "mean": 7.350797341202113,
          "std": NaN,
          "min": 7.350797341202113,
          "max": 7.350797341202113
        },
        "avg_death_rate": {
          "mean": 8.251432623133088,
          "std": NaN,
          "min": 8.251432623133088,
          "max": 8.251432623133088
        },
        "avg_growth_rate": {
          "mean": -12.1082749691503,
          "std": NaN,
          "min": -12.1082749691503,
          "max": -12.1082749691503
        },
        "log_avg_population": {
          "mean": 15.037840258746497,
          "std": NaN,
          "min": 15.037840258746497,
          "max": 15.037840258746497
        },
        "intl_share_volatility": {
          "mean": 0.02494921535111482,
          "std": NaN,
          "min": 0.02494921535111482,
          "max": 0.02494921535111482
        }
      }
    },
    "north_dakota": {
      "cluster": 0,
      "peer_states": [
        "Alabama",
        "Alaska",
        "Arizona",
        "Arkansas",
        "California",
        "Colorado",
        "Connecticut",
        "Delaware",
        "District of Columbia",
        "Florida",
        "Georgia",
        "Hawaii",
        "Idaho",
        "Illinois",
        "Indiana",
        "Iowa",
        "Kansas",
        "Kentucky",
        "Louisiana",
        "Maine",
        "Maryland",
        "Massachusetts",
        "Michigan",
        "Minnesota",
        "Mississippi",
        "Missouri",
        "Montana",
        "Nebraska",
        "Nevada",
        "New Hampshire",
        "New Jersey",
        "New Mexico",
        "New York",
        "North Carolina",
        "Ohio",
        "Oklahoma",
        "Oregon",
        "Pennsylvania",
        "Rhode Island",
        "South Carolina",
        "South Dakota",
        "Tennessee",
        "Texas",
        "United States",
        "Utah",
        "Vermont",
        "Virginia",
        "Washington",
        "West Virginia",
        "Wisconsin",
        "Wyoming"
      ],
      "n_peers": 51
    },
    "pca_projection": {
      "explained_variance_ratio": [
        0.3027012704707504,
        0.2574477185843255
      ],
      "total_variance_explained": 0.5601489890550759
    },
    "spss_style_output": {
      "cluster_method": "K-Means with Ward Hierarchical Comparison",
      "distance_metric": "Euclidean (on standardized features)",
      "linkage_method": "Ward (minimum variance)",
      "final_cluster_centers": [
        {
          "avg_intl_share": 0.01974352423636331,
          "avg_intl_mig_rate": 2.5514691592541485,
          "avg_dom_mig_rate": 0.48077069670441464,
          "avg_birth_rate": 10.618116105657512,
          "avg_death_rate": 8.230729465531773,
          "avg_growth_rate": 5.419643053083777,
          "log_avg_population": 15.248516416539324,
          "intl_share_volatility": 0.0021295470001643974,
          "cluster": 0
        },
        {
          "avg_intl_share": -0.026663260290892134,
          "avg_intl_mig_rate": -11.207639687219324,
          "avg_dom_mig_rate": 0.0,
          "avg_birth_rate": 7.350797341202113,
          "avg_death_rate": 8.251432623133088,
          "avg_growth_rate": -12.108274969150301,
          "log_avg_population": 15.037840258746497,
          "intl_share_volatility": 0.02494921535111482,
          "cluster": 1
        }
      ],
      "cluster_membership": {
        "cluster_0": [
          "Alabama",
          "Alaska",
          "Arizona",
          "Arkansas",
          "California",
          "Colorado",
          "Connecticut",
          "Delaware",
          "District of Columbia",
          "Florida",
          "Georgia",
          "Hawaii",
          "Idaho",
          "Illinois",
          "Indiana",
          "Iowa",
          "Kansas",
          "Kentucky",
          "Louisiana",
          "Maine",
          "Maryland",
          "Massachusetts",
          "Michigan",
          "Minnesota",
          "Mississippi",
          "Missouri",
          "Montana",
          "Nebraska",
          "Nevada",
          "New Hampshire",
          "New Jersey",
          "New Mexico",
          "New York",
          "North Carolina",
          "North Dakota",
          "Ohio",
          "Oklahoma",
          "Oregon",
          "Pennsylvania",
          "Rhode Island",
          "South Carolina",
          "South Dakota",
          "Tennessee",
          "Texas",
          "United States",
          "Utah",
          "Vermont",
          "Virginia",
          "Washington",
          "West Virginia",
          "Wisconsin",
          "Wyoming"
        ],
        "cluster_1": [
          "Puerto Rico"
        ]
      }
    }
  },
  "module_7_causal_inference": {
    "module": "7",
    "analysis": "causal_inference_did_event_study",
    "generated": "2025-12-29T06:23:29.998353+00:00",
    "input_files": [
      "combined_components_of_change.csv",
      "refugee_arrivals_by_state_nationality.parquet",
      "results/module_3_1_panel_data.parquet"
    ],
    "parameters": {
      "analyses": [
        "Difference-in-Differences (Travel Ban)",
        "Interrupted Time Series (COVID)",
        "Event Study (Travel Ban)",
        "Synthetic Control Method (ND)",
        "Shift-Share (Bartik) Instrument"
      ],
      "travel_ban_treatment_year": 2018,
      "covid_treatment_year": 2020,
      "synthetic_control_unit": "North Dakota"
    },
    "results": {
      "did_travel_ban": {
        "analysis": "Travel Ban DiD",
        "treatment_definition": {
          "treated_countries": [
            "Iran",
            "Iraq",
            "Libya",
            "Somalia",
            "Sudan",
            "Syria",
            "Yemen"
          ],
          "treatment_year": 2018,
          "policy": "Executive Order 13769 (Travel Ban)"
        },
        "sample_info": {
          "n_treatment_units": 7,
          "n_control_units": 119,
          "n_pre_periods": 16,
          "n_post_periods": 2,
          "n_observations": 1137,
          "years_analyzed": [
            2002,
            2003,
            2004,
            2005,
            2006,
            2007,
            2008,
            2009,
            2010,
            2011,
            2012,
            2013,
            2014,
            2015,
            2016,
            2017,
            2018,
            2019
          ]
        },
        "att_estimate": {
          "coefficient": -1.3835462427080563,
          "std_error": 0.48080477140495714,
          "t_statistic": -2.8775634623283852,
          "p_value": 0.004007592915562945,
          "ci_95_lower": -2.325906278256786,
          "ci_95_upper": -0.44118620715932666,
          "significance": "**"
        },
        "percentage_effect": {
          "estimate": -74.93120255123374,
          "interpretation": "Refugee arrivals from banned countries decreased by approximately 74.9% post-ban"
        },
        "pre_trend_test": {
          "treated_x_trend_coef": 0.08738171406923699,
          "t_statistic": 1.3329064340101047,
          "p_value": 0.18256251088773134,
          "parallel_trends_supported": "True"
        },
        "model_specification": {
          "dependent_variable": "log(arrivals + 1)",
          "fixed_effects": [
            "nationality",
            "year"
          ],
          "standard_errors": "HC3 robust"
        },
        "model_fit": {
          "r_squared": 0.8285501997924065,
          "r_squared_adj": 0.8038600472952404,
          "n_observations": 1137,
          "df_model": 143,
          "df_resid": 993
        }
      },
      "did_covid": {
        "analysis": "COVID-19 Interrupted Time Series",
        "treatment_definition": {
          "event": "COVID-19 pandemic",
          "treatment_year": 2020,
          "policy": "Travel restrictions and border closures"
        },
        "sample_info": {
          "n_states": 51,
          "n_pre_periods": 10,
          "n_post_periods": 5,
          "n_observations": 765,
          "years_analyzed": [
            2010,
            2011,
            2012,
            2013,
            2014,
            2015,
            2016,
            2017,
            2018,
            2019,
            2020,
            2021,
            2022,
            2023,
            2024
          ]
        },
        "level_effect": {
          "coefficient": -19502.524183006535,
          "std_error": 4363.2445250189085,
          "t_statistic": -4.469729824028604,
          "p_value": 9.111836487329938e-06,
          "ci_95_lower": -28068.908786780645,
          "ci_95_upper": -10936.139579232427,
          "significance": "***"
        },
        "trend_change": {
          "coefficient": 14112.681699346414,
          "std_error": 3149.304647566337,
          "t_statistic": 4.4812056243120715,
          "p_value": 8.64806929978812e-06,
          "interpretation": "International migration changes by 14,113 per year post-COVID"
        },
        "percentage_effect": {
          "pre_covid_mean": 15669.256862745098,
          "level_effect_pct": -124.46361913547625
        },
        "model_specification": {
          "dependent_variable": "intl_migration",
          "fixed_effects": [
            "state"
          ],
          "standard_errors": "clustered by state"
        },
        "model_fit": {
          "r_squared_within": 0.2423462182506646,
          "r_squared_between": 1.1102230246251565e-16,
          "r_squared_overall": 0.10640791955733253
        }
      },
      "event_study": {
        "analysis": "Event Study - Travel Ban",
        "specification": {
          "event_year": 2018,
          "reference_period": -1,
          "periods_estimated": [
            -16,
            -15,
            -14,
            -13,
            -12,
            -11,
            -10,
            -9,
            -8,
            -7,
            -6,
            -5,
            -4,
            -3,
            -2,
            0,
            1
          ]
        },
        "coefficients": [
          {
            "rel_time": -16,
            "year": 2002,
            "coefficient": -1.8732301748132543,
            "std_error": 0.8427662163301027,
            "t_statistic": -2.222716262844985,
            "p_value": 0.026234938584054214,
            "ci_lower": -3.5250216062073476,
            "ci_upper": -0.22143874341916092,
            "is_reference": false
          },
          {
            "rel_time": -15,
            "year": 2003,
            "coefficient": -1.9241878094315705,
            "std_error": 0.9230088998171004,
            "t_statistic": -2.084690418275338,
            "p_value": 0.037097410972295256,
            "ci_lower": -3.7332520104830262,
            "ci_upper": -0.11512360838011482,
            "is_reference": false
          },
          {
            "rel_time": -14,
            "year": 2004,
            "coefficient": -1.5120681552843742,
            "std_error": 1.053917286550069,
            "t_statistic": -1.43471235796315,
            "p_value": 0.15136908120399217,
            "ci_lower": -3.5777080796066896,
            "ci_upper": 0.5535717690379409,
            "is_reference": false
          },
          {
            "rel_time": -13,
            "year": 2005,
            "coefficient": -1.6984091650794761,
            "std_error": 0.872907892611661,
            "t_statistic": -1.9456911541926725,
            "p_value": 0.051691849864899386,
            "ci_lower": -3.409277196419089,
            "ci_upper": 0.012458866260136592,
            "is_reference": false
          },
          {
            "rel_time": -12,
            "year": 2006,
            "coefficient": -1.2977987346634021,
            "std_error": 0.8372676484824287,
            "t_statistic": -1.550040464379221,
            "p_value": 0.12113180412925899,
            "ci_lower": -2.9388131711095045,
            "ci_upper": 0.3432157017827002,
            "is_reference": false
          },
          {
            "rel_time": -11,
            "year": 2007,
            "coefficient": -1.1318388586360537,
            "std_error": 0.6886552530795799,
            "t_statistic": -1.6435492992678302,
            "p_value": 0.10026933408064254,
            "ci_lower": -2.4815783524363466,
            "ci_upper": 0.21790063516423896,
            "is_reference": false
          },
          {
            "rel_time": -10,
            "year": 2008,
            "coefficient": -1.3628789728829442,
            "std_error": 0.7937144239165299,
            "t_statistic": -1.7170898396401952,
            "p_value": 0.08596275833876338,
            "ci_lower": -2.9185306577693,
            "ci_upper": 0.19277271200341128,
            "is_reference": false
          },
          {
            "rel_time": -9,
            "year": 2009,
            "coefficient": -0.5545649089327892,
            "std_error": 0.7353133411777832,
            "t_statistic": -0.7541885586415698,
            "p_value": 0.4507360067508722,
            "ci_lower": -1.9957525749930576,
            "ci_upper": 0.8866227571274791,
            "is_reference": false
          },
          {
            "rel_time": -8,
            "year": 2010,
            "coefficient": -1.2827613153050903,
            "std_error": 0.7543453404432542,
            "t_statistic": -1.7004961077261223,
            "p_value": 0.08903764791297855,
            "ci_lower": -2.761251014479474,
            "ci_upper": 0.1957283838692938,
            "is_reference": false
          },
          {
            "rel_time": -7,
            "year": 2011,
            "coefficient": -0.9730779794606708,
            "std_error": 0.6699451363623253,
            "t_statistic": -1.4524741305598532,
            "p_value": 0.14636981716597927,
            "ci_lower": -2.286146318348604,
            "ci_upper": 0.3399903594272622,
            "is_reference": false
          },
          {
            "rel_time": -6,
            "year": 2012,
            "coefficient": -0.6902065530427022,
            "std_error": 0.7002912148461774,
            "t_statistic": -0.9855993312643649,
            "p_value": 0.32432976632842736,
            "ci_lower": -2.062752112831011,
            "ci_upper": 0.6823390067456068,
            "is_reference": false
          },
          {
            "rel_time": -5,
            "year": 2013,
            "coefficient": -0.5921995680160133,
            "std_error": 0.6813210367801091,
            "t_statistic": -0.8691931351697583,
            "p_value": 0.3847415016031861,
            "ci_lower": -1.9275642620145166,
            "ci_upper": 0.7431651259824901,
            "is_reference": false
          },
          {
            "rel_time": -4,
            "year": 2014,
            "coefficient": -0.4802497004140481,
            "std_error": 0.7137377615112095,
            "t_statistic": -0.6728657587027579,
            "p_value": 0.5010326979354774,
            "ci_lower": -1.879150007382257,
            "ci_upper": 0.9186506065541609,
            "is_reference": false
          },
          {
            "rel_time": -3,
            "year": 2015,
            "coefficient": 0.03625455894674993,
            "std_error": 0.7387571482397047,
            "t_statistic": 0.04907507024891271,
            "p_value": 0.9608594705223331,
            "ci_lower": -1.411682844924589,
            "ci_upper": 1.484191962818089,
            "is_reference": false
          },
          {
            "rel_time": -2,
            "year": 2016,
            "coefficient": 0.03715239619580181,
            "std_error": 0.8828286940310126,
            "t_statistic": 0.042083358240388925,
            "p_value": 0.9664322466180316,
            "ci_lower": -1.6931600486235139,
            "ci_upper": 1.7674648410151175,
            "is_reference": false
          },
          {
            "rel_time": -1,
            "year": 2017,
            "coefficient": 0.0,
            "std_error": 0.0,
            "ci_lower": 0.0,
            "ci_upper": 0.0,
            "is_reference": true
          },
          {
            "rel_time": 0,
            "year": 2018,
            "coefficient": -2.688076743850626,
            "std_error": 0.8232818679209098,
            "t_statistic": -3.2650746343278647,
            "p_value": 0.0010943523706810102,
            "ci_lower": -4.301679554100471,
            "ci_upper": -1.0744739336007811,
            "is_reference": false
          },
          {
            "rel_time": 1,
            "year": 2019,
            "coefficient": -1.8021877225689757,
            "std_error": 0.9344468444809568,
            "t_statistic": -1.9286144880397236,
            "p_value": 0.05377873908264734,
            "ci_lower": -3.633669883218752,
            "ci_upper": 0.029294438080800678,
            "is_reference": false
          }
        ],
        "pre_trend_test": {
          "f_statistic": 1.3799371835161283,
          "p_value": 0.14946148645136384,
          "parallel_trends_supported": true
        },
        "model_fit": {
          "r_squared": 0.8330307205909447,
          "r_squared_adj": 0.8058576239419788
        }
      },
      "synthetic_control": {
        "analysis": "Synthetic Control Method",
        "treated_unit": "North Dakota",
        "treatment_year": 2017,
        "feasible": true,
        "donor_pool_size": 50,
        "weights": {
          "Florida": 0.02474914212248973,
          "Oregon": 0.027252385876730338,
          "Rhode Island": 0.20098215061807295,
          "Vermont": 0.24520700993607167,
          "Washington": 0.08288355352795605,
          "Wyoming": 0.41892575791867914
        },
        "pre_treatment_fit": {
          "rmspe": 0.019838234677320953,
          "n_periods": 7
        },
        "post_treatment_effect": {
          "mean_effect": 0.5701403450198343,
          "std_effect": 0.7775961786976838,
          "rmspe": 0.9642177296360901,
          "rmspe_ratio": 48.60400863885246
        },
        "time_series": [
          {
            "year": 2010,
            "actual": 0.6935881627620222,
            "synthetic": 0.6469304948895518,
            "effect": 0.04665766787247039
          },
          {
            "year": 2011,
            "actual": 1.7636092577086793,
            "synthetic": 1.771344885003168,
            "effect": -0.007735627294488623
          },
          {
            "year": 2012,
            "actual": 1.8441330225126633,
            "synthetic": 1.8614422686916188,
            "effect": -0.017309246178955462
          },
          {
            "year": 2013,
            "actual": 1.7340824643330766,
            "synthetic": 1.7398204260464283,
            "effect": -0.005737961713351725
          },
          {
            "year": 2014,
            "actual": 1.3008706763986053,
            "synthetic": 1.3029262545185278,
            "effect": -0.0020555781199225187
          },
          {
            "year": 2015,
            "actual": 2.9740436272479047,
            "synthetic": 2.9672790279458505,
            "effect": 0.006764599302054197
          },
          {
            "year": 2016,
            "actual": 2.101534953723909,
            "synthetic": 2.0898905743150187,
            "effect": 0.011644379408890515
          },
          {
            "year": 2017,
            "actual": 3.799115962233484,
            "synthetic": 2.34666872997944,
            "effect": 1.4524472322540438
          },
          {
            "year": 2018,
            "actual": 1.6406556307248619,
            "synthetic": 2.044906199631907,
            "effect": -0.40425056890704525
          },
          {
            "year": 2019,
            "actual": 0.8301428264661056,
            "synthetic": 0.9924311657643362,
            "effect": -0.1622883392982306
          },
          {
            "year": 2020,
            "actual": 0.038483098864363754,
            "synthetic": 0.046907062785573085,
            "effect": -0.00842396392120933
          },
          {
            "year": 2021,
            "actual": 0.58228765781538,
            "synthetic": 0.671812822032726,
            "effect": -0.08952516421734591
          },
          {
            "year": 2022,
            "actual": 4.2083996430478186,
            "synthetic": 3.445933643783972,
            "effect": 0.7624659992638465
          },
          {
            "year": 2023,
            "actual": 5.410324099831823,
            "synthetic": 3.996565761733229,
            "effect": 1.413758338098594
          },
          {
            "year": 2024,
            "actual": 6.435106607345512,
            "synthetic": 4.83816738045949,
            "effect": 1.5969392268860219
          }
        ],
        "optimization": {
          "converged": true,
          "objective_value": 0.002754888885787217
        }
      },
      "bartik_instrument": {
        "analysis": "Shift-Share (Bartik) Instrument",
        "feasible": true,
        "construction": {
          "baseline_year": 2010,
          "share_component": "State share of nationality at baseline",
          "shift_component": "National change in nationality arrivals"
        },
        "sample_info": {
          "n_observations": 528,
          "n_states": 48,
          "n_years": 11,
          "years": [
            2010,
            2011,
            2012,
            2013,
            2014,
            2015,
            2016,
            2017,
            2018,
            2019,
            2020
          ]
        },
        "first_stage": {
          "bartik_coefficient": 4.362533057269598,
          "std_error": 0.9205283960587209,
          "t_statistic": 4.739161850897764,
          "p_value": 2.1460404183894875e-06,
          "f_statistic": 22.45965504900472,
          "strong_instrument": "True"
        },
        "instrument_statistics": {
          "mean": -852.2401315789474,
          "std": 1713.4727899676561,
          "min": -14007.530204652932,
          "max": 5128.110612812697
        },
        "model_fit": {
          "r_squared": 0.8518911128208396,
          "r_squared_adj": 0.8335748751739498
        }
      }
    },
    "diagnostics": {
      "parallel_trends": {
        "travel_ban_supported": "True",
        "event_study_pre_trend_p": 0.14946148645136384
      },
      "instrument_strength": {
        "bartik_f_statistic": 22.45965504900472,
        "strong_instrument": "True"
      },
      "synthetic_control_fit": {
        "pre_treatment_rmspe": 0.019838234677320953,
        "rmspe_ratio": 48.60400863885246
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:23:27.965114+00:00",
        "category": "causal_identification",
        "decision": "Use 2018 as first post-treatment year for Travel Ban DiD",
        "rationale": "Executive Order 13769 signed Jan 27, 2017, repeatedly blocked. 2017 reflects partial implementation; 2018 is first full year of effect.",
        "alternatives_considered": [
          "Use 2017 as first post year",
          "Use phased treatment intensity"
        ],
        "evidence": "Affected countries: ['Iran', 'Iraq', 'Libya', 'Somalia', 'Sudan', 'Syria', 'Yemen']",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:23:28.043773+00:00",
        "category": "model_specification",
        "decision": "Use two-way fixed effects with HC3 robust standard errors",
        "rationale": "Nationality FE controls for time-invariant heterogeneity; Year FE controls for common shocks",
        "alternatives_considered": [
          "Cluster by nationality",
          "Use wild bootstrap",
          "Random effects"
        ],
        "evidence": "ATT = -1.3835 (SE = 0.4808)",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:23:28.047632+00:00",
        "category": "causal_identification",
        "decision": "Use 2020 as COVID treatment year for state-level DiD",
        "rationale": "COVID-19 travel restrictions began March 2020, affecting international migration universally",
        "alternatives_considered": [
          "Use 2021 to capture full-year effect",
          "Exclude 2020 due to partial year data"
        ],
        "evidence": "Census PEP shows 2020 as partial year with anomalous low values",
        "reversible": true
      },
      {
        "decision_id": "D004",
        "timestamp": "2025-12-29T06:23:28.176927+00:00",
        "category": "causal_identification",
        "decision": "Use international migration rate (per 1000) for synthetic control",
        "rationale": "Rate normalizes for population differences across states",
        "alternatives_considered": [
          "Use raw counts",
          "Use log transformation",
          "Use growth rates"
        ],
        "evidence": "Pre-treatment RMSPE = 0.0198",
        "reversible": true
      },
      {
        "decision_id": "D005",
        "timestamp": "2025-12-29T06:23:28.290006+00:00",
        "category": "causal_identification",
        "decision": "Use 2010 as baseline year for shift-share construction",
        "rationale": "2010 is first year with reliable state-level refugee data and aligns with panel start",
        "alternatives_considered": [
          "Use 2005 as baseline",
          "Use average of early years",
          "Time-varying shares"
        ],
        "evidence": "First-stage F = 22.46",
        "reversible": true
      }
    ],
    "next_steps": [
      "Module 8: Conduct robustness checks (alternative specifications, placebo tests)",
      "Consider heterogeneous treatment effects by state/region",
      "Extend event study window with more recent data when available",
      "Validate synthetic control with leave-one-out placebo analysis"
    ]
  },
  "module_7_did_estimates": {
    "travel_ban": {
      "analysis": "Travel Ban DiD",
      "treatment_definition": {
        "treated_countries": [
          "Iran",
          "Iraq",
          "Libya",
          "Somalia",
          "Sudan",
          "Syria",
          "Yemen"
        ],
        "treatment_year": 2018,
        "policy": "Executive Order 13769 (Travel Ban)"
      },
      "sample_info": {
        "n_treatment_units": 7,
        "n_control_units": 119,
        "n_pre_periods": 16,
        "n_post_periods": 2,
        "n_observations": 1137,
        "years_analyzed": [
          2002,
          2003,
          2004,
          2005,
          2006,
          2007,
          2008,
          2009,
          2010,
          2011,
          2012,
          2013,
          2014,
          2015,
          2016,
          2017,
          2018,
          2019
        ]
      },
      "att_estimate": {
        "coefficient": -1.3835462427080563,
        "std_error": 0.48080477140495714,
        "t_statistic": -2.8775634623283852,
        "p_value": 0.004007592915562945,
        "ci_95_lower": -2.325906278256786,
        "ci_95_upper": -0.44118620715932666,
        "significance": "**"
      },
      "percentage_effect": {
        "estimate": -74.93120255123374,
        "interpretation": "Refugee arrivals from banned countries decreased by approximately 74.9% post-ban"
      },
      "pre_trend_test": {
        "treated_x_trend_coef": 0.08738171406923699,
        "t_statistic": 1.3329064340101047,
        "p_value": 0.18256251088773134,
        "parallel_trends_supported": "True"
      },
      "model_specification": {
        "dependent_variable": "log(arrivals + 1)",
        "fixed_effects": [
          "nationality",
          "year"
        ],
        "standard_errors": "HC3 robust"
      },
      "model_fit": {
        "r_squared": 0.8285501997924065,
        "r_squared_adj": 0.8038600472952404,
        "n_observations": 1137,
        "df_model": 143,
        "df_resid": 993
      }
    },
    "covid": {
      "analysis": "COVID-19 Interrupted Time Series",
      "treatment_definition": {
        "event": "COVID-19 pandemic",
        "treatment_year": 2020,
        "policy": "Travel restrictions and border closures"
      },
      "sample_info": {
        "n_states": 51,
        "n_pre_periods": 10,
        "n_post_periods": 5,
        "n_observations": 765,
        "years_analyzed": [
          2010,
          2011,
          2012,
          2013,
          2014,
          2015,
          2016,
          2017,
          2018,
          2019,
          2020,
          2021,
          2022,
          2023,
          2024
        ]
      },
      "level_effect": {
        "coefficient": -19502.524183006535,
        "std_error": 4363.2445250189085,
        "t_statistic": -4.469729824028604,
        "p_value": 9.111836487329938e-06,
        "ci_95_lower": -28068.908786780645,
        "ci_95_upper": -10936.139579232427,
        "significance": "***"
      },
      "trend_change": {
        "coefficient": 14112.681699346414,
        "std_error": 3149.304647566337,
        "t_statistic": 4.4812056243120715,
        "p_value": 8.64806929978812e-06,
        "interpretation": "International migration changes by 14,113 per year post-COVID"
      },
      "percentage_effect": {
        "pre_covid_mean": 15669.256862745098,
        "level_effect_pct": -124.46361913547625
      },
      "model_specification": {
        "dependent_variable": "intl_migration",
        "fixed_effects": [
          "state"
        ],
        "standard_errors": "clustered by state"
      },
      "model_fit": {
        "r_squared_within": 0.2423462182506646,
        "r_squared_between": 1.1102230246251565e-16,
        "r_squared_overall": 0.10640791955733253
      }
    }
  },
  "module_7_synthetic_control": {
    "analysis": "Synthetic Control Method",
    "treated_unit": "North Dakota",
    "treatment_year": 2017,
    "feasible": true,
    "donor_pool_size": 50,
    "weights": {
      "Florida": 0.02474914212248973,
      "Oregon": 0.027252385876730338,
      "Rhode Island": 0.20098215061807295,
      "Vermont": 0.24520700993607167,
      "Washington": 0.08288355352795605,
      "Wyoming": 0.41892575791867914
    },
    "pre_treatment_fit": {
      "rmspe": 0.019838234677320953,
      "n_periods": 7
    },
    "post_treatment_effect": {
      "mean_effect": 0.5701403450198343,
      "std_effect": 0.7775961786976838,
      "rmspe": 0.9642177296360901,
      "rmspe_ratio": 48.60400863885246
    },
    "time_series": [
      {
        "year": 2010,
        "actual": 0.6935881627620222,
        "synthetic": 0.6469304948895518,
        "effect": 0.04665766787247039
      },
      {
        "year": 2011,
        "actual": 1.7636092577086793,
        "synthetic": 1.771344885003168,
        "effect": -0.007735627294488623
      },
      {
        "year": 2012,
        "actual": 1.8441330225126633,
        "synthetic": 1.8614422686916188,
        "effect": -0.017309246178955462
      },
      {
        "year": 2013,
        "actual": 1.7340824643330766,
        "synthetic": 1.7398204260464283,
        "effect": -0.005737961713351725
      },
      {
        "year": 2014,
        "actual": 1.3008706763986053,
        "synthetic": 1.3029262545185278,
        "effect": -0.0020555781199225187
      },
      {
        "year": 2015,
        "actual": 2.9740436272479047,
        "synthetic": 2.9672790279458505,
        "effect": 0.006764599302054197
      },
      {
        "year": 2016,
        "actual": 2.101534953723909,
        "synthetic": 2.0898905743150187,
        "effect": 0.011644379408890515
      },
      {
        "year": 2017,
        "actual": 3.799115962233484,
        "synthetic": 2.34666872997944,
        "effect": 1.4524472322540438
      },
      {
        "year": 2018,
        "actual": 1.6406556307248619,
        "synthetic": 2.044906199631907,
        "effect": -0.40425056890704525
      },
      {
        "year": 2019,
        "actual": 0.8301428264661056,
        "synthetic": 0.9924311657643362,
        "effect": -0.1622883392982306
      },
      {
        "year": 2020,
        "actual": 0.038483098864363754,
        "synthetic": 0.046907062785573085,
        "effect": -0.00842396392120933
      },
      {
        "year": 2021,
        "actual": 0.58228765781538,
        "synthetic": 0.671812822032726,
        "effect": -0.08952516421734591
      },
      {
        "year": 2022,
        "actual": 4.2083996430478186,
        "synthetic": 3.445933643783972,
        "effect": 0.7624659992638465
      },
      {
        "year": 2023,
        "actual": 5.410324099831823,
        "synthetic": 3.996565761733229,
        "effect": 1.413758338098594
      },
      {
        "year": 2024,
        "actual": 6.435106607345512,
        "synthetic": 4.83816738045949,
        "effect": 1.5969392268860219
      }
    ],
    "optimization": {
      "converged": true,
      "objective_value": 0.002754888885787217
    }
  },
  "module_8_duration_analysis": {
    "module": "8",
    "analysis": "duration_analysis_survival",
    "generated": "2025-12-29T06:19:45.794597+00:00",
    "input_files": [
      "refugee_arrivals_by_state_nationality.parquet",
      "acs_foreign_born_by_state_origin.parquet"
    ],
    "parameters": {
      "wave_definition": {
        "threshold_percent_above_baseline": 50.0,
        "minimum_consecutive_years": 2,
        "baseline_calculation": "median of first half of observation period"
      },
      "survival_analysis": {
        "method": "Kaplan-Meier",
        "censoring": "right censoring for ongoing waves at end of data period",
        "cox_covariates": [
          "log_intensity",
          "high_intensity",
          "early_wave",
          "peak_arrivals",
          "nationality_region",
          "state_region"
        ]
      },
      "data_period": {
        "start_year": 2002,
        "end_year": 2020
      }
    },
    "results": {
      "wave_identification": {
        "total_waves_identified": 940,
        "unique_nationalities": 56,
        "unique_states": 48,
        "mean_wave_duration": 3.5393617021276595,
        "max_wave_duration": 13,
        "censored_waves": 94
      },
      "kaplan_meier": {
        "overall_summary": {
          "n_subjects": 940,
          "n_events": 846,
          "n_censored": 94,
          "censoring_rate": 10.0,
          "median_survival_years": 3.0,
          "median_survival_95ci": null,
          "mean_duration": 3.5393617021276595,
          "max_duration": 13,
          "min_duration": 2
        },
        "life_table": [
          {
            "time_years": 1,
            "n_at_risk": 940,
            "n_events": 0,
            "n_censored": 0,
            "survival_probability": 1.0,
            "ci_95_lower": null,
            "ci_95_upper": null
          },
          {
            "time_years": 2,
            "n_at_risk": 940,
            "n_events": 455,
            "n_censored": 14,
            "survival_probability": 0.5159574468085106,
            "ci_95_lower": 0.4835315851480659,
            "ci_95_upper": 0.5473749398559751
          },
          {
            "time_years": 3,
            "n_at_risk": 471,
            "n_events": 181,
            "n_censored": 5,
            "survival_probability": 0.3176808058905904,
            "ci_95_lower": 0.2878899020957237,
            "ci_95_upper": 0.3478353254438474
          },
          {
            "time_years": 4,
            "n_at_risk": 285,
            "n_events": 91,
            "n_censored": 3,
            "survival_probability": 0.21624588190447203,
            "ci_95_lower": 0.1901518823388554,
            "ci_95_upper": 0.24348300049728872
          },
          {
            "time_years": 5,
            "n_at_risk": 191,
            "n_events": 35,
            "n_censored": 9,
            "survival_probability": 0.17661967317852165,
            "ci_95_lower": 0.1525626844506243,
            "ci_95_upper": 0.20215177642870424
          },
          {
            "time_years": 6,
            "n_at_risk": 147,
            "n_events": 29,
            "n_censored": 10,
            "survival_probability": 0.14177633629296305,
            "ci_95_lower": 0.1197676145071941,
            "ci_95_upper": 0.1655938459866632
          },
          {
            "time_years": 7,
            "n_at_risk": 108,
            "n_events": 7,
            "n_censored": 10,
            "survival_probability": 0.13258712931101174,
            "ci_95_lower": 0.11112939704651743,
            "ci_95_upper": 0.1559598346885874
          },
          {
            "time_years": 8,
            "n_at_risk": 91,
            "n_events": 10,
            "n_censored": 13,
            "survival_probability": 0.11801711510101053,
            "ci_95_lower": 0.09738465345213887,
            "ci_95_upper": 0.14077128140824685
          },
          {
            "time_years": 9,
            "n_at_risk": 68,
            "n_events": 8,
            "n_censored": 11,
            "survival_probability": 0.10413274861853865,
            "ci_95_lower": 0.08416593749327285,
            "ci_95_upper": 0.12649880520579335
          },
          {
            "time_years": 10,
            "n_at_risk": 49,
            "n_events": 20,
            "n_censored": 3,
            "survival_probability": 0.06162958591709432,
            "ci_95_lower": 0.04445160351572917,
            "ci_95_upper": 0.08256552052629569
          },
          {
            "time_years": 11,
            "n_at_risk": 26,
            "n_events": 9,
            "n_censored": 7,
            "survival_probability": 0.040296267715023204,
            "ci_95_lower": 0.025822963576129315,
            "ci_95_upper": 0.05956676153578599
          },
          {
            "time_years": 12,
            "n_at_risk": 10,
            "n_events": 1,
            "n_censored": 8,
            "survival_probability": 0.03626664094352088,
            "ci_95_lower": 0.022011346644022847,
            "ci_95_upper": 0.055974773697811925
          },
          {
            "time_years": 13,
            "n_at_risk": 1,
            "n_events": 0,
            "n_censored": 1,
            "survival_probability": 0.03626664094352088,
            "ci_95_lower": 0.022011346644022847,
            "ci_95_upper": 0.055974773697811925
          }
        ],
        "method": "Kaplan-Meier product-limit estimator",
        "confidence_level": 0.95
      },
      "kaplan_meier_by_region": {
        "group_variable": "nationality_region",
        "groups": {
          "Middle East": {
            "n_subjects": 174,
            "n_events": 146,
            "median_survival": 3.0,
            "mean_duration": 4.137931034482759
          },
          "Asia": {
            "n_subjects": 67,
            "n_events": 67,
            "median_survival": 3.0,
            "mean_duration": 4.2835820895522385
          },
          "Africa": {
            "n_subjects": 353,
            "n_events": 312,
            "median_survival": 3.0,
            "mean_duration": 3.991501416430595
          },
          "Europe": {
            "n_subjects": 55,
            "n_events": 52,
            "median_survival": 2.0,
            "mean_duration": 2.4
          },
          "Other": {
            "n_subjects": 259,
            "n_events": 237,
            "median_survival": 2.0,
            "mean_duration": 2.72972972972973
          },
          "Americas": {
            "n_subjects": 32,
            "n_events": 32,
            "median_survival": 2.0,
            "mean_duration": 2.25
          }
        },
        "log_rank_test": {
          "test_statistic": 89.67706532074526,
          "p_value": 7.855240900207938e-18,
          "degrees_of_freedom": 5,
          "significant_at_05": "True"
        },
        "km_fitters": {
          "Middle East": "<lifelines.KaplanMeierFitter:\"Middle East\", fitted with 174 total observations, 28 right-censored observations>",
          "Asia": "<lifelines.KaplanMeierFitter:\"Asia\", fitted with 67 total observations, 0 right-censored observations>",
          "Africa": "<lifelines.KaplanMeierFitter:\"Africa\", fitted with 353 total observations, 41 right-censored observations>",
          "Europe": "<lifelines.KaplanMeierFitter:\"Europe\", fitted with 55 total observations, 3 right-censored observations>",
          "Other": "<lifelines.KaplanMeierFitter:\"Other\", fitted with 259 total observations, 22 right-censored observations>",
          "Americas": "<lifelines.KaplanMeierFitter:\"Americas\", fitted with 32 total observations, 0 right-censored observations>"
        }
      },
      "kaplan_meier_by_intensity": {
        "group_variable": "intensity_quartile",
        "groups": {
          "Q1 (Low)": {
            "n_subjects": 247,
            "n_events": 246,
            "median_survival": 2.0,
            "mean_duration": 2.42914979757085
          },
          "Q3": {
            "n_subjects": 236,
            "n_events": 223,
            "median_survival": 3.0,
            "mean_duration": 3.6059322033898304
          },
          "Q4 (High)": {
            "n_subjects": 234,
            "n_events": 160,
            "median_survival": 4.0,
            "mean_duration": 5.35042735042735
          },
          "Q2": {
            "n_subjects": 223,
            "n_events": 217,
            "median_survival": 2.0,
            "mean_duration": 2.798206278026906
          }
        },
        "log_rank_test": {
          "test_statistic": 278.7443670491838,
          "p_value": 3.9584267764539434e-60,
          "degrees_of_freedom": 3,
          "significant_at_05": "True"
        },
        "km_fitters": {
          "Q1 (Low)": "<lifelines.KaplanMeierFitter:\"Q1 (Low)\", fitted with 247 total observations, 1 right-censored observations>",
          "Q3": "<lifelines.KaplanMeierFitter:\"Q3\", fitted with 236 total observations, 13 right-censored observations>",
          "Q4 (High)": "<lifelines.KaplanMeierFitter:\"Q4 (High)\", fitted with 234 total observations, 74 right-censored observations>",
          "Q2": "<lifelines.KaplanMeierFitter:\"Q2\", fitted with 223 total observations, 6 right-censored observations>"
        }
      },
      "kaplan_meier_by_timing": {
        "group_variable": "early_wave",
        "groups": {
          "0": {
            "n_subjects": 433,
            "n_events": 359,
            "median_survival": 3.0,
            "mean_duration": 3.5450346420323324
          },
          "1": {
            "n_subjects": 507,
            "n_events": 487,
            "median_survival": 2.0,
            "mean_duration": 3.534516765285996
          }
        },
        "log_rank_test": {
          "test_statistic": 10.486225938263882,
          "p_value": 0.0012026778915378675,
          "degrees_of_freedom": 1,
          "significant_at_05": "True"
        }
      },
      "cox_proportional_hazards": {
        "model_type": "Cox Proportional Hazards",
        "coefficient_table": {
          "log_intensity": {
            "coefficient": -0.8869125161085291,
            "hazard_ratio": 0.4119256050894812,
            "std_error": 0.09488463855318664,
            "z_statistic": -9.34727190441242,
            "p_value": 8.99375132135104e-21,
            "hr_ci_95_lower": 0.3420210512816074,
            "hr_ci_95_upper": 0.4961177199254462
          },
          "high_intensity": {
            "coefficient": 0.024929142620664244,
            "hazard_ratio": 1.025242471955869,
            "std_error": 0.12767420218957684,
            "z_statistic": 0.1952559106940668,
            "p_value": 0.8451926108679167,
            "hr_ci_95_lower": 0.7982705567679182,
            "hr_ci_95_upper": 1.316749211643258
          },
          "early_wave": {
            "coefficient": 0.3078572503129925,
            "hazard_ratio": 1.3605067631600327,
            "std_error": 0.07386103844605026,
            "z_statistic": 4.168060140907148,
            "p_value": 3.0720288999311804e-05,
            "hr_ci_95_lower": 1.1771453058755719,
            "hr_ci_95_upper": 1.5724300503644397
          },
          "peak_arrivals": {
            "coefficient": -0.4219068931449047,
            "hazard_ratio": 0.6557950955699587,
            "std_error": 0.11797498209892578,
            "z_statistic": -3.576240365869455,
            "p_value": 0.0003485711736633715,
            "hr_ci_95_lower": 0.5204124497864817,
            "hr_ci_95_upper": 0.8263968464821743
          },
          "nationality_region_Americas": {
            "coefficient": 0.5368546615931535,
            "hazard_ratio": 1.7106179193620354,
            "std_error": 0.19128321610600918,
            "z_statistic": 2.8065957511694526,
            "p_value": 0.005006802990364509,
            "hr_ci_95_lower": 1.1757972723733479,
            "hr_ci_95_upper": 2.4887059485483705
          },
          "nationality_region_Asia": {
            "coefficient": -0.2799717451011243,
            "hazard_ratio": 0.755805096350601,
            "std_error": 0.14913311995535888,
            "z_statistic": -1.877327753787558,
            "p_value": 0.06047318661403387,
            "hr_ci_95_lower": 0.5642446814997957,
            "hr_ci_95_upper": 1.0124000498350256
          },
          "nationality_region_Europe": {
            "coefficient": 0.4500500006307893,
            "hazard_ratio": 1.5683906040491902,
            "std_error": 0.1550881540146248,
            "z_statistic": 2.901897978541608,
            "p_value": 0.0037090931272734506,
            "hr_ci_95_lower": 1.157292012876973,
            "hr_ci_95_upper": 2.1255215274101094
          },
          "nationality_region_Middle East": {
            "coefficient": 0.1375345493554996,
            "hazard_ratio": 1.147441348646323,
            "std_error": 0.10189014373254114,
            "z_statistic": 1.3498317336417158,
            "p_value": 0.1770699632422349,
            "hr_ci_95_lower": 0.9397264443318588,
            "hr_ci_95_upper": 1.401069062730702
          },
          "nationality_region_Other": {
            "coefficient": 0.5087493541010575,
            "hazard_ratio": 1.6632098071532297,
            "std_error": 0.09363436794824198,
            "z_statistic": 5.433361331410679,
            "p_value": 5.530226313982551e-08,
            "hr_ci_95_lower": 1.3843481308654215,
            "hr_ci_95_upper": 1.9982450952430293
          },
          "state_region_Northeast": {
            "coefficient": -0.09715111258818476,
            "hazard_ratio": 0.9074188733577685,
            "std_error": 0.14031805367868636,
            "z_statistic": -0.6923635985619544,
            "p_value": 0.48870901970377767,
            "hr_ci_95_lower": 0.6892374453560215,
            "hr_ci_95_upper": 1.1946666816695586
          },
          "state_region_Other": {
            "coefficient": 0.08196413614408432,
            "hazard_ratio": 1.0854168818968395,
            "std_error": 0.10534146291747255,
            "z_statistic": 0.7780804810760727,
            "p_value": 0.43652156886562377,
            "hr_ci_95_lower": 0.8829370806554062,
            "hr_ci_95_upper": 1.334330422086395
          },
          "state_region_South": {
            "coefficient": 0.024903261996922825,
            "hazard_ratio": 1.025215938384563,
            "std_error": 0.11610552544370338,
            "z_statistic": 0.21448817273556703,
            "p_value": 0.8301663891500295,
            "hr_ci_95_lower": 0.8165563243516698,
            "hr_ci_95_upper": 1.2871956152593242
          },
          "state_region_West": {
            "coefficient": -0.10321984419595252,
            "hazard_ratio": 0.9019286679013484,
            "std_error": 0.12940341601028574,
            "z_statistic": -0.7976593460851761,
            "p_value": 0.42506820175115345,
            "hr_ci_95_lower": 0.6998803556463181,
            "hr_ci_95_upper": 1.1623062648059055
          }
        },
        "fit_statistics": {
          "log_likelihood": -4877.809233034444,
          "aic": 9781.618466068889,
          "bic": 9844.61490444732,
          "concordance_index": 0.7692550588546488,
          "concordance_se": null,
          "n_observations": 940,
          "n_events": 846
        },
        "proportional_hazards_test": {
          "test": "Schoenfeld residuals",
          "results_by_variable": {
            "log_intensity": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "high_intensity": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "early_wave": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "peak_arrivals": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "nationality_region_Americas": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "nationality_region_Asia": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "nationality_region_Europe": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "nationality_region_Middle East": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "nationality_region_Other": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "state_region_Northeast": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "state_region_Other": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "state_region_South": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            },
            "state_region_West": {
              "test_statistic": null,
              "p_value": null,
              "assumption_violated": false
            }
          },
          "global_test_passed": true
        },
        "interpretation": {
          "concordance": "Good",
          "significant_predictors": [
            "log_intensity",
            "early_wave",
            "peak_arrivals",
            "nationality_region_Americas",
            "nationality_region_Europe",
            "nationality_region_Other"
          ]
        }
      },
      "lifecycle_analysis": {
        "aggregate_statistics": {
          "mean_time_to_peak": 2.1893617021276595,
          "median_time_to_peak": 2.0,
          "mean_initiation_share": 0.28145599081769296,
          "mean_decline_share": 0.3490800186810825,
          "mean_total_duration": 3.5393617021276595
        },
        "by_nationality": {
          "Iraq": {
            "mean_duration": 5.280701754385965,
            "mean_time_to_peak": 2.8421052631578947,
            "total_peak_arrivals": 26931.0
          },
          "Burma": {
            "mean_duration": 5.525,
            "mean_time_to_peak": 3.25,
            "total_peak_arrivals": 23737.0
          },
          "Somalia": {
            "mean_duration": 3.2903225806451615,
            "mean_time_to_peak": 2.2096774193548385,
            "total_peak_arrivals": 22004.0
          },
          "Democratic Republic of the Congo": {
            "mean_duration": 6.483333333333333,
            "mean_time_to_peak": 4.35,
            "total_peak_arrivals": 18533.0
          },
          "USSR": {
            "mean_duration": 2.375,
            "mean_time_to_peak": 1.5,
            "total_peak_arrivals": 14172.0
          },
          "Syria": {
            "mean_duration": 4.324324324324325,
            "mean_time_to_peak": 2.27027027027027,
            "total_peak_arrivals": 12365.0
          },
          "Laos": {
            "mean_duration": 2.6,
            "mean_time_to_peak": 1.0,
            "total_peak_arrivals": 8672.0
          },
          "Liberia": {
            "mean_duration": 3.085714285714286,
            "mean_time_to_peak": 1.8571428571428572,
            "total_peak_arrivals": 6529.0
          },
          "Iran": {
            "mean_duration": 2.806451612903226,
            "mean_time_to_peak": 1.967741935483871,
            "total_peak_arrivals": 6234.0
          },
          "Burundi": {
            "mean_duration": 2.238095238095238,
            "mean_time_to_peak": 1.2619047619047619,
            "total_peak_arrivals": 5410.0
          }
        },
        "n_waves_analyzed": 940
      }
    },
    "diagnostics": {
      "sample_sizes": {
        "total_waves": 940,
        "survival_analysis_n": 940,
        "cox_model_n": 940
      },
      "censoring": {
        "rate": 10.0,
        "reason": "Wave ongoing at end of data period (FY2020)"
      },
      "model_fit": {
        "concordance_index": 0.7692550588546488,
        "aic": 9781.618466068889,
        "bic": 9844.61490444732
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:19:43.964352+00:00",
        "category": "wave_definition",
        "decision": "Defined immigration wave as 50.0% above baseline for 2+ years",
        "rationale": "50% threshold captures significant departures from normal; 2-year minimum filters noise",
        "alternatives_considered": [
          "100% above baseline",
          "1 standard deviation above mean",
          "Moving average crossing"
        ],
        "evidence": "Based on visual inspection of refugee arrival patterns",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:19:43.686277+00:00",
        "category": "methodology",
        "decision": "Used Cox Proportional Hazards model for duration analysis",
        "rationale": "Cox PH allows multiple covariates and handles censored observations",
        "alternatives_considered": [
          "Accelerated failure time models",
          "Parametric survival models"
        ],
        "evidence": "Concordance index: 0.7693",
        "reversible": true
      }
    ],
    "next_steps": [
      "Compare wave patterns to overall immigration trends (Module 1)",
      "Integrate lifecycle phases with time series forecasts (Module 2)",
      "Use hazard ratios to inform scenario projections (Module 5)",
      "Validate wave definitions with domain experts"
    ]
  },
  "module_8_hazard_model": {
    "model": {
      "model_type": "Cox Proportional Hazards",
      "coefficient_table": {
        "log_intensity": {
          "coefficient": -0.8869125161085291,
          "hazard_ratio": 0.4119256050894812,
          "std_error": 0.09488463855318664,
          "z_statistic": -9.34727190441242,
          "p_value": 8.99375132135104e-21,
          "hr_ci_95_lower": 0.3420210512816074,
          "hr_ci_95_upper": 0.4961177199254462
        },
        "high_intensity": {
          "coefficient": 0.024929142620664244,
          "hazard_ratio": 1.025242471955869,
          "std_error": 0.12767420218957684,
          "z_statistic": 0.1952559106940668,
          "p_value": 0.8451926108679167,
          "hr_ci_95_lower": 0.7982705567679182,
          "hr_ci_95_upper": 1.316749211643258
        },
        "early_wave": {
          "coefficient": 0.3078572503129925,
          "hazard_ratio": 1.3605067631600327,
          "std_error": 0.07386103844605026,
          "z_statistic": 4.168060140907148,
          "p_value": 3.0720288999311804e-05,
          "hr_ci_95_lower": 1.1771453058755719,
          "hr_ci_95_upper": 1.5724300503644397
        },
        "peak_arrivals": {
          "coefficient": -0.4219068931449047,
          "hazard_ratio": 0.6557950955699587,
          "std_error": 0.11797498209892578,
          "z_statistic": -3.576240365869455,
          "p_value": 0.0003485711736633715,
          "hr_ci_95_lower": 0.5204124497864817,
          "hr_ci_95_upper": 0.8263968464821743
        },
        "nationality_region_Americas": {
          "coefficient": 0.5368546615931535,
          "hazard_ratio": 1.7106179193620354,
          "std_error": 0.19128321610600918,
          "z_statistic": 2.8065957511694526,
          "p_value": 0.005006802990364509,
          "hr_ci_95_lower": 1.1757972723733479,
          "hr_ci_95_upper": 2.4887059485483705
        },
        "nationality_region_Asia": {
          "coefficient": -0.2799717451011243,
          "hazard_ratio": 0.755805096350601,
          "std_error": 0.14913311995535888,
          "z_statistic": -1.877327753787558,
          "p_value": 0.06047318661403387,
          "hr_ci_95_lower": 0.5642446814997957,
          "hr_ci_95_upper": 1.0124000498350256
        },
        "nationality_region_Europe": {
          "coefficient": 0.4500500006307893,
          "hazard_ratio": 1.5683906040491902,
          "std_error": 0.1550881540146248,
          "z_statistic": 2.901897978541608,
          "p_value": 0.0037090931272734506,
          "hr_ci_95_lower": 1.157292012876973,
          "hr_ci_95_upper": 2.1255215274101094
        },
        "nationality_region_Middle East": {
          "coefficient": 0.1375345493554996,
          "hazard_ratio": 1.147441348646323,
          "std_error": 0.10189014373254114,
          "z_statistic": 1.3498317336417158,
          "p_value": 0.1770699632422349,
          "hr_ci_95_lower": 0.9397264443318588,
          "hr_ci_95_upper": 1.401069062730702
        },
        "nationality_region_Other": {
          "coefficient": 0.5087493541010575,
          "hazard_ratio": 1.6632098071532297,
          "std_error": 0.09363436794824198,
          "z_statistic": 5.433361331410679,
          "p_value": 5.530226313982551e-08,
          "hr_ci_95_lower": 1.3843481308654215,
          "hr_ci_95_upper": 1.9982450952430293
        },
        "state_region_Northeast": {
          "coefficient": -0.09715111258818476,
          "hazard_ratio": 0.9074188733577685,
          "std_error": 0.14031805367868636,
          "z_statistic": -0.6923635985619544,
          "p_value": 0.48870901970377767,
          "hr_ci_95_lower": 0.6892374453560215,
          "hr_ci_95_upper": 1.1946666816695586
        },
        "state_region_Other": {
          "coefficient": 0.08196413614408432,
          "hazard_ratio": 1.0854168818968395,
          "std_error": 0.10534146291747255,
          "z_statistic": 0.7780804810760727,
          "p_value": 0.43652156886562377,
          "hr_ci_95_lower": 0.8829370806554062,
          "hr_ci_95_upper": 1.334330422086395
        },
        "state_region_South": {
          "coefficient": 0.024903261996922825,
          "hazard_ratio": 1.025215938384563,
          "std_error": 0.11610552544370338,
          "z_statistic": 0.21448817273556703,
          "p_value": 0.8301663891500295,
          "hr_ci_95_lower": 0.8165563243516698,
          "hr_ci_95_upper": 1.2871956152593242
        },
        "state_region_West": {
          "coefficient": -0.10321984419595252,
          "hazard_ratio": 0.9019286679013484,
          "std_error": 0.12940341601028574,
          "z_statistic": -0.7976593460851761,
          "p_value": 0.42506820175115345,
          "hr_ci_95_lower": 0.6998803556463181,
          "hr_ci_95_upper": 1.1623062648059055
        }
      },
      "fit_statistics": {
        "log_likelihood": -4877.809233034444,
        "aic": 9781.618466068889,
        "bic": 9844.61490444732,
        "concordance_index": 0.7692550588546488,
        "concordance_se": null,
        "n_observations": 940,
        "n_events": 846
      },
      "proportional_hazards_test": {
        "test": "Schoenfeld residuals",
        "results_by_variable": {
          "log_intensity": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "high_intensity": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "early_wave": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "peak_arrivals": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "nationality_region_Americas": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "nationality_region_Asia": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "nationality_region_Europe": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "nationality_region_Middle East": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "nationality_region_Other": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "state_region_Northeast": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "state_region_Other": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "state_region_South": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          },
          "state_region_West": {
            "test_statistic": null,
            "p_value": null,
            "assumption_violated": false
          }
        },
        "global_test_passed": true
      },
      "interpretation": {
        "concordance": "Good",
        "significant_predictors": [
          "log_intensity",
          "early_wave",
          "peak_arrivals",
          "nationality_region_Americas",
          "nationality_region_Europe",
          "nationality_region_Other"
        ]
      }
    },
    "lifecycle_analysis": {
      "aggregate_statistics": {
        "mean_time_to_peak": 2.1893617021276595,
        "median_time_to_peak": 2.0,
        "mean_initiation_share": 0.28145599081769296,
        "mean_decline_share": 0.3490800186810825,
        "mean_total_duration": 3.5393617021276595
      },
      "by_nationality": {
        "Iraq": {
          "mean_duration": 5.280701754385965,
          "mean_time_to_peak": 2.8421052631578947,
          "total_peak_arrivals": 26931.0
        },
        "Burma": {
          "mean_duration": 5.525,
          "mean_time_to_peak": 3.25,
          "total_peak_arrivals": 23737.0
        },
        "Somalia": {
          "mean_duration": 3.2903225806451615,
          "mean_time_to_peak": 2.2096774193548385,
          "total_peak_arrivals": 22004.0
        },
        "Democratic Republic of the Congo": {
          "mean_duration": 6.483333333333333,
          "mean_time_to_peak": 4.35,
          "total_peak_arrivals": 18533.0
        },
        "USSR": {
          "mean_duration": 2.375,
          "mean_time_to_peak": 1.5,
          "total_peak_arrivals": 14172.0
        },
        "Syria": {
          "mean_duration": 4.324324324324325,
          "mean_time_to_peak": 2.27027027027027,
          "total_peak_arrivals": 12365.0
        },
        "Laos": {
          "mean_duration": 2.6,
          "mean_time_to_peak": 1.0,
          "total_peak_arrivals": 8672.0
        },
        "Liberia": {
          "mean_duration": 3.085714285714286,
          "mean_time_to_peak": 1.8571428571428572,
          "total_peak_arrivals": 6529.0
        },
        "Iran": {
          "mean_duration": 2.806451612903226,
          "mean_time_to_peak": 1.967741935483871,
          "total_peak_arrivals": 6234.0
        },
        "Burundi": {
          "mean_duration": 2.238095238095238,
          "mean_time_to_peak": 1.2619047619047619,
          "total_peak_arrivals": 5410.0
        }
      },
      "n_waves_analyzed": 940
    }
  },
  "module_8_wave_durations": {
    "summary": {
      "total_waves_identified": 940,
      "unique_nationalities": 56,
      "unique_states": 48,
      "mean_wave_duration": 3.5393617021276595,
      "max_wave_duration": 13,
      "censored_waves": 94
    },
    "kaplan_meier": {
      "overall_summary": {
        "n_subjects": 940,
        "n_events": 846,
        "n_censored": 94,
        "censoring_rate": 10.0,
        "median_survival_years": 3.0,
        "median_survival_95ci": null,
        "mean_duration": 3.5393617021276595,
        "max_duration": 13,
        "min_duration": 2
      },
      "life_table": [
        {
          "time_years": 1,
          "n_at_risk": 940,
          "n_events": 0,
          "n_censored": 0,
          "survival_probability": 1.0,
          "ci_95_lower": null,
          "ci_95_upper": null
        },
        {
          "time_years": 2,
          "n_at_risk": 940,
          "n_events": 455,
          "n_censored": 14,
          "survival_probability": 0.5159574468085106,
          "ci_95_lower": 0.4835315851480659,
          "ci_95_upper": 0.5473749398559751
        },
        {
          "time_years": 3,
          "n_at_risk": 471,
          "n_events": 181,
          "n_censored": 5,
          "survival_probability": 0.3176808058905904,
          "ci_95_lower": 0.2878899020957237,
          "ci_95_upper": 0.3478353254438474
        },
        {
          "time_years": 4,
          "n_at_risk": 285,
          "n_events": 91,
          "n_censored": 3,
          "survival_probability": 0.21624588190447203,
          "ci_95_lower": 0.1901518823388554,
          "ci_95_upper": 0.24348300049728872
        },
        {
          "time_years": 5,
          "n_at_risk": 191,
          "n_events": 35,
          "n_censored": 9,
          "survival_probability": 0.17661967317852165,
          "ci_95_lower": 0.1525626844506243,
          "ci_95_upper": 0.20215177642870424
        },
        {
          "time_years": 6,
          "n_at_risk": 147,
          "n_events": 29,
          "n_censored": 10,
          "survival_probability": 0.14177633629296305,
          "ci_95_lower": 0.1197676145071941,
          "ci_95_upper": 0.1655938459866632
        },
        {
          "time_years": 7,
          "n_at_risk": 108,
          "n_events": 7,
          "n_censored": 10,
          "survival_probability": 0.13258712931101174,
          "ci_95_lower": 0.11112939704651743,
          "ci_95_upper": 0.1559598346885874
        },
        {
          "time_years": 8,
          "n_at_risk": 91,
          "n_events": 10,
          "n_censored": 13,
          "survival_probability": 0.11801711510101053,
          "ci_95_lower": 0.09738465345213887,
          "ci_95_upper": 0.14077128140824685
        },
        {
          "time_years": 9,
          "n_at_risk": 68,
          "n_events": 8,
          "n_censored": 11,
          "survival_probability": 0.10413274861853865,
          "ci_95_lower": 0.08416593749327285,
          "ci_95_upper": 0.12649880520579335
        },
        {
          "time_years": 10,
          "n_at_risk": 49,
          "n_events": 20,
          "n_censored": 3,
          "survival_probability": 0.06162958591709432,
          "ci_95_lower": 0.04445160351572917,
          "ci_95_upper": 0.08256552052629569
        },
        {
          "time_years": 11,
          "n_at_risk": 26,
          "n_events": 9,
          "n_censored": 7,
          "survival_probability": 0.040296267715023204,
          "ci_95_lower": 0.025822963576129315,
          "ci_95_upper": 0.05956676153578599
        },
        {
          "time_years": 12,
          "n_at_risk": 10,
          "n_events": 1,
          "n_censored": 8,
          "survival_probability": 0.03626664094352088,
          "ci_95_lower": 0.022011346644022847,
          "ci_95_upper": 0.055974773697811925
        },
        {
          "time_years": 13,
          "n_at_risk": 1,
          "n_events": 0,
          "n_censored": 1,
          "survival_probability": 0.03626664094352088,
          "ci_95_lower": 0.022011346644022847,
          "ci_95_upper": 0.055974773697811925
        }
      ],
      "method": "Kaplan-Meier product-limit estimator",
      "confidence_level": 0.95
    },
    "stratified_analyses": {
      "by_nationality_region": {
        "group_variable": "nationality_region",
        "groups": {
          "Middle East": {
            "n_subjects": 174,
            "n_events": 146,
            "median_survival": 3.0,
            "mean_duration": 4.137931034482759
          },
          "Asia": {
            "n_subjects": 67,
            "n_events": 67,
            "median_survival": 3.0,
            "mean_duration": 4.2835820895522385
          },
          "Africa": {
            "n_subjects": 353,
            "n_events": 312,
            "median_survival": 3.0,
            "mean_duration": 3.991501416430595
          },
          "Europe": {
            "n_subjects": 55,
            "n_events": 52,
            "median_survival": 2.0,
            "mean_duration": 2.4
          },
          "Other": {
            "n_subjects": 259,
            "n_events": 237,
            "median_survival": 2.0,
            "mean_duration": 2.72972972972973
          },
          "Americas": {
            "n_subjects": 32,
            "n_events": 32,
            "median_survival": 2.0,
            "mean_duration": 2.25
          }
        },
        "log_rank_test": {
          "test_statistic": 89.67706532074526,
          "p_value": 7.855240900207938e-18,
          "degrees_of_freedom": 5,
          "significant_at_05": "True"
        }
      },
      "by_intensity_quartile": {
        "group_variable": "intensity_quartile",
        "groups": {
          "Q1 (Low)": {
            "n_subjects": 247,
            "n_events": 246,
            "median_survival": 2.0,
            "mean_duration": 2.42914979757085
          },
          "Q3": {
            "n_subjects": 236,
            "n_events": 223,
            "median_survival": 3.0,
            "mean_duration": 3.6059322033898304
          },
          "Q4 (High)": {
            "n_subjects": 234,
            "n_events": 160,
            "median_survival": 4.0,
            "mean_duration": 5.35042735042735
          },
          "Q2": {
            "n_subjects": 223,
            "n_events": 217,
            "median_survival": 2.0,
            "mean_duration": 2.798206278026906
          }
        },
        "log_rank_test": {
          "test_statistic": 278.7443670491838,
          "p_value": 3.9584267764539434e-60,
          "degrees_of_freedom": 3,
          "significant_at_05": "True"
        }
      }
    }
  },
  "module_9_scenario_modeling": {
    "module": "9",
    "analysis": "scenario_modeling",
    "generated": "2025-12-29T06:30:36.227265+00:00",
    "input_files": [
      "nd_migration_summary.csv",
      "module_1_1_summary_statistics.json",
      "module_1_1_trend_decomposition.json",
      "module_1_2_location_quotients.json",
      "module_1_2_hhi_analysis.json",
      "module_2_1_1_unit_root_tests.json",
      "module_2_1_2_structural_breaks.json",
      "module_2_1_arima_model.json",
      "module_2_2_var_cointegration.json",
      "module_3_1_fixed_effects.json",
      "module_3_1_hausman_test.json",
      "module_3_1_random_effects.json",
      "module_3_1_panel_analysis.json",
      "module_3_2_network_elasticity.json",
      "module_3_2_origin_analysis.json",
      "module_4_quantile_regression.json",
      "module_4_regression_extensions.json",
      "module_4_robust_regression.json",
      "module_4_beta_regression.json",
      "module_5_network_effects.json",
      "module_5_gravity_network.json",
      "module_5_gravity_model.json",
      "module_6_state_clusters.json",
      "module_6_machine_learning.json",
      "module_6_elastic_net.json",
      "module_6_feature_importance.json",
      "module_7_did_estimates.json",
      "module_7_causal_inference.json",
      "module_7_synthetic_control.json",
      "module_8_wave_durations.json",
      "module_8_hazard_model.json",
      "module_8_duration_analysis.json"
    ],
    "parameters": {
      "base_year": 2024,
      "projection_horizon": "2025-2045",
      "n_projection_years": 21,
      "monte_carlo_draws": 1000,
      "scenarios": [
        "CBO Full",
        "Moderate",
        "Zero",
        "Pre-2020 Trend"
      ],
      "confidence_intervals": [
        "50%",
        "80%",
        "95%"
      ],
      "model_weights": {
        "aic_based": {
          "arima": 4.671952147490168e-44,
          "var": 1.0
        },
        "r2_based": {
          "ols": 0.2445463819854277,
          "elastic_net": 0.29321949380192663,
          "random_forest": 0.46223412421264576
        }
      },
      "input_modules": [
        "module_1_1_summary_statistics",
        "module_1_1_trend_decomposition",
        "module_1_2_location_quotients",
        "module_1_2_hhi_analysis",
        "module_2_1_1_unit_root_tests",
        "module_2_1_2_structural_breaks",
        "module_2_1_arima_model",
        "module_2_2_var_cointegration",
        "module_3_1_fixed_effects",
        "module_3_1_hausman_test",
        "module_3_1_random_effects",
        "module_3_1_panel_analysis",
        "module_3_2_network_elasticity",
        "module_3_2_origin_analysis",
        "module_4_quantile_regression",
        "module_4_regression_extensions",
        "module_4_robust_regression",
        "module_4_beta_regression",
        "module_5_network_effects",
        "module_5_gravity_network",
        "module_5_gravity_model",
        "module_6_state_clusters",
        "module_6_machine_learning",
        "module_6_elastic_net",
        "module_6_feature_importance",
        "module_7_did_estimates",
        "module_7_causal_inference",
        "module_7_synthetic_control",
        "module_8_wave_durations",
        "module_8_hazard_model",
        "module_8_duration_analysis"
      ]
    },
    "results": {
      "model_averaging": {
        "aic_weights": {
          "arima": 4.671952147490168e-44,
          "var": 1.0
        },
        "r2_weights": {
          "ols": 0.2445463819854277,
          "elastic_net": 0.29321949380192663,
          "random_forest": 0.46223412421264576
        }
      },
      "scenarios": {
        "cbo_full": {
          "description": "Full implementation of elevated immigration policy",
          "final_2045_value": 19317.520188703846,
          "assumptions": {
            "growth_rate": 0.08,
            "arima_multiplier": 1.1
          }
        },
        "moderate": {
          "description": "Middle-ground assumption with dampened historical trend",
          "final_2045_value": 7048.3587997393915,
          "assumptions": {
            "trend_dampening": 0.5,
            "average_trend_used": 240.29484996742335
          }
        },
        "zero": {
          "description": "Hypothetical scenario with no international migration",
          "final_2045_value": 0.0,
          "assumptions": {
            "immigration_level": 0
          }
        },
        "pre_2020_trend": {
          "description": "Continue historical 2010-2019 trend (ignoring COVID disruption)",
          "final_2045_value": 2517.187878787879,
          "assumptions": {
            "trend_slope": 72.43030303030304,
            "start_value": 634.0
          }
        }
      },
      "monte_carlo": {
        "n_draws": 1000,
        "median_2030": 5313.674259037331,
        "median_2045": 8671.82072809533,
        "ci_95_2045": [
          3182.929902344675,
          14103.739895920262
        ]
      },
      "confidence_intervals": {
        "ci_50": {
          "2030": [
            3511.367636543809,
            6993.266801268044
          ],
          "2045": [
            6164.262287061618,
            10962.483278409689
          ]
        },
        "ci_95": {
          "2030": [
            1041.69682318379,
            9472.535883980876
          ],
          "2045": [
            3182.929902344675,
            14103.739895920262
          ]
        }
      }
    },
    "diagnostics": {
      "input_modules_loaded": 31,
      "estimates_extracted": {
        "arima": true,
        "var": true,
        "panel": true,
        "quantile": true,
        "robust": true,
        "gravity": true,
        "machine_learning": true,
        "causal": true,
        "duration": true
      },
      "historical_years": 15,
      "projection_years": 21,
      "mc_convergence": {
        "mean_2045": 8627.395839990355,
        "std_2045": 3378.293333221163,
        "cv_2045": 0.39157741175637767
      }
    },
    "warnings": [],
    "decisions": [
      {
        "decision_id": "D001",
        "timestamp": "2025-12-29T06:30:35.213700+00:00",
        "category": "data_integration",
        "decision": "Extracted estimates from 9 module categories",
        "rationale": "Consolidate all statistical findings for scenario modeling",
        "alternatives_considered": [
          "Use only time series models",
          "Use only cross-sectional results"
        ],
        "evidence": "Loaded 32 result files",
        "reversible": true
      },
      {
        "decision_id": "D002",
        "timestamp": "2025-12-29T06:30:35.213748+00:00",
        "category": "methodology",
        "decision": "Computed AIC and R-squared based model weights",
        "rationale": "AIC weights for time series averaging; R2 weights for cross-sectional insight",
        "alternatives_considered": [
          "Equal weights",
          "Expert-assigned weights",
          "BIC weights"
        ],
        "evidence": "AIC models: ['arima', 'var'], R2 models: ['ols', 'elastic_net', 'random_forest']",
        "reversible": true
      },
      {
        "decision_id": "D003",
        "timestamp": "2025-12-29T06:30:35.215670+00:00",
        "category": "scenario_design",
        "decision": "Generated 4 scenarios: CBO Full, Moderate, Zero, Pre-2020 Trend",
        "rationale": "Cover range from optimistic to restrictive immigration policy outcomes",
        "alternatives_considered": [
          "5-scenario approach",
          "Probabilistic weighting of scenarios"
        ],
        "evidence": "Baseline 2024 = 5126, Pre-2020 trend = 72.43/yr",
        "reversible": true
      },
      {
        "decision_id": "D004",
        "timestamp": "2025-12-29T06:30:35.245819+00:00",
        "category": "uncertainty_quantification",
        "decision": "Ran 1000-draw Monte Carlo simulation",
        "rationale": "Propagate parameter uncertainty through projections",
        "alternatives_considered": [
          "Analytical confidence intervals",
          "Bootstrapping"
        ],
        "evidence": "Trend uncertainty from quantile regression range",
        "reversible": true
      }
    ],
    "next_steps": [
      "Integrate scenario projections with cohort-component model",
      "Sensitivity analysis on key parameters",
      "Compare with official CBO and Census projections",
      "Update scenarios as new policy information becomes available",
      "Create interactive dashboard for scenario exploration"
    ]
  }
}
