{
  "module": "2.1.2",
  "analysis": "structural_break_detection",
  "generated": "2025-12-29T06:05:40.278725+00:00",
  "input_files": [
    "nd_migration_summary.csv"
  ],
  "parameters": {
    "target_variable": "nd_intl_migration",
    "n_observations": 15,
    "time_period": "2010-2024",
    "policy_events_tested": [
      2017,
      2020,
      2021
    ],
    "bai_perron_settings": {
      "algorithm": "PELT",
      "model": "rbf",
      "min_segment_size": 2,
      "penalty": "BIC"
    },
    "cusum_settings": {
      "significance_level": 0.05,
      "bounds_method": "Brown-Durbin-Evans (1975)"
    }
  },
  "results": {
    "bai_perron": {
      "method": "Bai-Perron (PELT with RBF kernel)",
      "n_observations": 15,
      "penalty_value": 5.41610040220442,
      "n_breaks_detected": 0,
      "break_indices": [],
      "break_years": [],
      "segments": [
        {
          "start_index": 0,
          "end_index": 14,
          "start_year": 2010,
          "end_year": 2024,
          "n_observations": 15,
          "mean": 1796.2666666666667,
          "std": 1432.0705972666137,
          "min": 30.0,
          "max": 5126.0
        }
      ],
      "regime_shifts": [],
      "model_fit": {
        "bic": 223.42239978438198,
        "rss": 30762392.933333337,
        "bic_alternatives": {
          "0_breaks": 223.42239978438198,
          "1_breaks": 223.42239978438198,
          "2_breaks": 223.42239978438198,
          "3_breaks": 223.42239978438198,
          "4_breaks": 223.42239978438198
        }
      },
      "interpretation": "Detected 0 structural break(s) in the series"
    },
    "cusum": {
      "method": "CUSUM Test (Brown, Durbin, Evans 1975)",
      "null_hypothesis": "Parameters are stable over time",
      "significance_level": 0.05,
      "n_observations": 15,
      "n_recursive_residuals": 13,
      "cusum_values": [
        -0.06292630855089082,
        -0.16414997644309406,
        -0.3385213101845814,
        -0.06746124598465059,
        -0.22674965101249533,
        0.1009544590693614,
        -0.47080804694519895,
        -1.1906642702266774,
        -2.0000478827652364,
        -2.367944547458381,
        -1.1978412939090828,
        0.16416463512401291,
        1.5970258471262742
      ],
      "upper_bounds": [
        3.9439183951613788,
        4.4697741811828955,
        4.9956299672044135,
        5.52148575322593,
        6.047341539247448,
        6.573197325268965,
        7.099053111290482,
        7.6249088973119985,
        8.150764683333517,
        8.676620469355035,
        9.202476255376551,
        9.728332041398069,
        10.254187827419585
      ],
      "lower_bounds": [
        -3.9439183951613788,
        -4.4697741811828955,
        -4.9956299672044135,
        -5.52148575322593,
        -6.047341539247448,
        -6.573197325268965,
        -7.099053111290482,
        -7.6249088973119985,
        -8.150764683333517,
        -8.676620469355035,
        -9.202476255376551,
        -9.728332041398069,
        -10.254187827419585
      ],
      "years_for_cusum": [
        2013,
        2014,
        2015,
        2016,
        2017,
        2018,
        2019,
        2020,
        2021,
        2022,
        2023,
        2024
      ],
      "max_cusum": 2.367944547458381,
      "max_bound": 10.254187827419585,
      "stability_ratio": 0.23092463170281738,
      "crossings": [],
      "stable": true,
      "conclusion": "CUSUM stays within bounds - parameters appear stable"
    },
    "chow_tests": {
      "2017": {
        "method": "Chow Test",
        "null_hypothesis": "No structural break at specified date",
        "break_year": 2017,
        "break_index": 7,
        "f_statistic": 1.2907294903330757,
        "df1": 2,
        "df2": 11,
        "p_value": 0.31365659516862476,
        "critical_values": {
          "10%": 2.8595109562411354,
          "5%": 3.9822979570944836,
          "1%": 7.205713350457377
        },
        "significant_at_5pct": "False",
        "rss_pooled": 21341134.64404762,
        "rss_unrestricted": 17284776.35714286,
        "pre_break": {
          "n_obs": 7,
          "mean": 1289.0,
          "std": 506.6768482686263,
          "coefficients": {
            "constant": 742.0357142857146,
            "trend": 182.32142857142858
          }
        },
        "post_break": {
          "n_obs": 8,
          "mean": 2240.125,
          "std": 1788.4359394104672,
          "coefficients": {
            "constant": 604.7500000000007,
            "trend": 467.25
          }
        },
        "regime_shift": {
          "absolute_change": 951.125,
          "percent_change": 73.7878200155159
        },
        "conclusion": "No significant structural break at 2017 (p=0.3137)"
      },
      "2020": {
        "method": "Chow Test",
        "null_hypothesis": "No structural break at specified date",
        "break_year": 2020,
        "break_index": 10,
        "f_statistic": 16.01221848491977,
        "df1": 2,
        "df2": 11,
        "p_value": 0.0005523650504233313,
        "critical_values": {
          "10%": 2.8595109562411354,
          "5%": 3.9822979570944836,
          "1%": 7.205713350457377
        },
        "significant_at_5pct": "True",
        "rss_pooled": 21341134.64404762,
        "rss_unrestricted": 5456259.2242424255,
        "pre_break": {
          "n_obs": 10,
          "mean": 1377.9,
          "std": 682.949698001251,
          "coefficients": {
            "constant": 1051.9636363636357,
            "trend": 72.43030303030321
          }
        },
        "post_break": {
          "n_obs": 5,
          "mean": 2633.0,
          "std": 2041.9240926146103,
          "coefficients": {
            "constant": -168.59999999999988,
            "trend": 1400.8
          }
        },
        "regime_shift": {
          "absolute_change": 1255.1,
          "percent_change": 91.08788736483052
        },
        "conclusion": "Significant structural break at 2020 (p=0.0006). Mean increased from 1377.9 to 2633.0 (+91.1% change)"
      },
      "2021": {
        "method": "Chow Test",
        "null_hypothesis": "No structural break at specified date",
        "break_year": 2021,
        "break_index": 11,
        "f_statistic": 10.283116235737738,
        "df1": 2,
        "df2": 11,
        "p_value": 0.0030334346283574787,
        "critical_values": {
          "10%": 2.8595109562411354,
          "5%": 3.9822979570944836,
          "1%": 7.205713350457377
        },
        "significant_at_5pct": "True",
        "rss_pooled": 21341134.64404762,
        "rss_unrestricted": 7436822.918181816,
        "pre_break": {
          "n_obs": 11,
          "mean": 1255.3636363636363,
          "std": 757.7400936909547,
          "coefficients": {
            "constant": 1290.0909090909086,
            "trend": -6.945454545454511
          }
        },
        "post_break": {
          "n_obs": 4,
          "mean": 3283.75,
          "std": 1759.1019548337727,
          "coefficients": {
            "constant": 1033.6,
            "trend": 1500.1000000000006
          }
        },
        "regime_shift": {
          "absolute_change": 2028.3863636363637,
          "percent_change": 161.5775943225433
        },
        "conclusion": "Significant structural break at 2021 (p=0.0030). Mean increased from 1255.4 to 3283.8 (+161.6% change)"
      }
    },
    "summary": {
      "data_driven_breaks": [],
      "n_breaks_detected": 0,
      "cusum_stable": true,
      "significant_policy_breaks": [
        2020,
        2021
      ]
    }
  },
  "diagnostics": {
    "figures_generated": [
      "module_2_1_2_structural_breaks.png",
      "module_2_1_2_cusum_test.png",
      "module_2_1_2_segmented_regression.png"
    ],
    "test_interpretation": {
      "bai_perron": "Data-driven detection of optimal breakpoints using BIC criterion",
      "cusum": "H0: Parameters stable over time. If CUSUM crosses bounds, reject stability.",
      "chow": "H0: No structural break at specified date. Reject if p < 0.05."
    },
    "policy_event_alignment": {
      "2017": {
        "event": "Travel Ban Executive Orders",
        "chow_significant": "False",
        "detected_by_pelt": false
      },
      "2020": {
        "event": "COVID-19 Pandemic",
        "chow_significant": "True",
        "detected_by_pelt": false
      },
      "2021": {
        "event": "Post-COVID Recovery",
        "chow_significant": "True",
        "detected_by_pelt": false
      }
    }
  },
  "decisions": [
    {
      "decision_id": "D001",
      "timestamp": "2025-12-29T06:05:39.155569+00:00",
      "category": "methodology",
      "decision": "Use Bai-Perron (PELT) for data-driven break detection",
      "rationale": "PELT algorithm is computationally efficient and optimal under BIC criterion. RBF kernel is robust to various types of changes (level shifts, trend changes).",
      "alternatives_considered": [
        "Binary segmentation",
        "Window-based detection",
        "ARIMA with intervention"
      ],
      "evidence": "PELT has O(n) complexity and is consistent for multiple break detection",
      "reversible": true
    },
    {
      "decision_id": "D002",
      "timestamp": "2025-12-29T06:05:39.155577+00:00",
      "category": "methodology",
      "decision": "Set minimum segment size to 2 observations",
      "rationale": "With only 15 total observations, requiring larger segments would limit ability to detect recent breaks (e.g., 2020 COVID, 2022 surge).",
      "alternatives_considered": [
        "min_size=3 for more stable estimates",
        "min_size=4 for traditional Bai-Perron"
      ],
      "evidence": "n=15 limits flexibility; 2-observation minimum allows detection of COVID break",
      "reversible": true
    }
  ],
  "warnings": [
    "Short time series (n=15) limits statistical power for structural break tests.",
    "Results should be interpreted alongside known policy events, not purely data-driven."
  ],
  "next_steps": [
    "Use detected break dates for intervention analysis in time series models",
    "Incorporate regime-specific parameters in forecasting models",
    "Consider structural breaks when specifying VAR/VECM models (Module 2.2)",
    "Compare break detection with policy implementation dates for causal inference"
  ]
}
